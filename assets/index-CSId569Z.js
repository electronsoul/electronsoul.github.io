(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function t(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=t(s);fetch(s.href,r)}})();function c0(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var ZA={exports:{}},Jm={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lT;function YL(){if(lT)return Jm;lT=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,s,r){var o=null;if(r!==void 0&&(o=""+r),s.key!==void 0&&(o=""+s.key),"key"in s){r={};for(var u in s)u!=="key"&&(r[u]=s[u])}else r=s;return s=r.ref,{$$typeof:n,type:i,key:o,ref:s!==void 0?s:null,props:r}}return Jm.Fragment=e,Jm.jsx=t,Jm.jsxs=t,Jm}var cT;function qL(){return cT||(cT=1,ZA.exports=YL()),ZA.exports}var J=qL(),$A={exports:{}},nn={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uT;function WL(){if(uT)return nn;uT=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),r=Symbol.for("react.consumer"),o=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.iterator;function x(X){return X===null||typeof X!="object"?null:(X=y&&X[y]||X["@@iterator"],typeof X=="function"?X:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,C={};function E(X,ie,xe){this.props=X,this.context=ie,this.refs=C,this.updater=xe||_}E.prototype.isReactComponent={},E.prototype.setState=function(X,ie){if(typeof X!="object"&&typeof X!="function"&&X!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,X,ie,"setState")},E.prototype.forceUpdate=function(X){this.updater.enqueueForceUpdate(this,X,"forceUpdate")};function S(){}S.prototype=E.prototype;function w(X,ie,xe){this.props=X,this.context=ie,this.refs=C,this.updater=xe||_}var B=w.prototype=new S;B.constructor=w,M(B,E.prototype),B.isPureReactComponent=!0;var D=Array.isArray,P={H:null,A:null,T:null,S:null,V:null},I=Object.prototype.hasOwnProperty;function G(X,ie,xe,_e,ne,Ce){return xe=Ce.ref,{$$typeof:n,type:X,key:ie,ref:xe!==void 0?xe:null,props:Ce}}function z(X,ie){return G(X.type,ie,void 0,void 0,void 0,X.props)}function U(X){return typeof X=="object"&&X!==null&&X.$$typeof===n}function O(X){var ie={"=":"=0",":":"=2"};return"$"+X.replace(/[=:]/g,function(xe){return ie[xe]})}var W=/\/+/g;function ce(X,ie){return typeof X=="object"&&X!==null&&X.key!=null?O(""+X.key):ie.toString(36)}function se(){}function me(X){switch(X.status){case"fulfilled":return X.value;case"rejected":throw X.reason;default:switch(typeof X.status=="string"?X.then(se,se):(X.status="pending",X.then(function(ie){X.status==="pending"&&(X.status="fulfilled",X.value=ie)},function(ie){X.status==="pending"&&(X.status="rejected",X.reason=ie)})),X.status){case"fulfilled":return X.value;case"rejected":throw X.reason}}throw X}function fe(X,ie,xe,_e,ne){var Ce=typeof X;(Ce==="undefined"||Ce==="boolean")&&(X=null);var Oe=!1;if(X===null)Oe=!0;else switch(Ce){case"bigint":case"string":case"number":Oe=!0;break;case"object":switch(X.$$typeof){case n:case e:Oe=!0;break;case m:return Oe=X._init,fe(Oe(X._payload),ie,xe,_e,ne)}}if(Oe)return ne=ne(X),Oe=_e===""?"."+ce(X,0):_e,D(ne)?(xe="",Oe!=null&&(xe=Oe.replace(W,"$&/")+"/"),fe(ne,ie,xe,"",function(bt){return bt})):ne!=null&&(U(ne)&&(ne=z(ne,xe+(ne.key==null||X&&X.key===ne.key?"":(""+ne.key).replace(W,"$&/")+"/")+Oe)),ie.push(ne)),1;Oe=0;var He=_e===""?".":_e+":";if(D(X))for(var Ye=0;Ye<X.length;Ye++)_e=X[Ye],Ce=He+ce(_e,Ye),Oe+=fe(_e,ie,xe,Ce,ne);else if(Ye=x(X),typeof Ye=="function")for(X=Ye.call(X),Ye=0;!(_e=X.next()).done;)_e=_e.value,Ce=He+ce(_e,Ye++),Oe+=fe(_e,ie,xe,Ce,ne);else if(Ce==="object"){if(typeof X.then=="function")return fe(me(X),ie,xe,_e,ne);throw ie=String(X),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(X).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return Oe}function F(X,ie,xe){if(X==null)return X;var _e=[],ne=0;return fe(X,_e,"","",function(Ce){return ie.call(xe,Ce,ne++)}),_e}function q(X){if(X._status===-1){var ie=X._result;ie=ie(),ie.then(function(xe){(X._status===0||X._status===-1)&&(X._status=1,X._result=xe)},function(xe){(X._status===0||X._status===-1)&&(X._status=2,X._result=xe)}),X._status===-1&&(X._status=0,X._result=ie)}if(X._status===1)return X._result.default;throw X._result}var Y=typeof reportError=="function"?reportError:function(X){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof X=="object"&&X!==null&&typeof X.message=="string"?String(X.message):String(X),error:X});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",X);return}console.error(X)};function ue(){}return nn.Children={map:F,forEach:function(X,ie,xe){F(X,function(){ie.apply(this,arguments)},xe)},count:function(X){var ie=0;return F(X,function(){ie++}),ie},toArray:function(X){return F(X,function(ie){return ie})||[]},only:function(X){if(!U(X))throw Error("React.Children.only expected to receive a single React element child.");return X}},nn.Component=E,nn.Fragment=t,nn.Profiler=s,nn.PureComponent=w,nn.StrictMode=i,nn.Suspense=h,nn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,nn.__COMPILER_RUNTIME={__proto__:null,c:function(X){return P.H.useMemoCache(X)}},nn.cache=function(X){return function(){return X.apply(null,arguments)}},nn.cloneElement=function(X,ie,xe){if(X==null)throw Error("The argument must be a React element, but you passed "+X+".");var _e=M({},X.props),ne=X.key,Ce=void 0;if(ie!=null)for(Oe in ie.ref!==void 0&&(Ce=void 0),ie.key!==void 0&&(ne=""+ie.key),ie)!I.call(ie,Oe)||Oe==="key"||Oe==="__self"||Oe==="__source"||Oe==="ref"&&ie.ref===void 0||(_e[Oe]=ie[Oe]);var Oe=arguments.length-2;if(Oe===1)_e.children=xe;else if(1<Oe){for(var He=Array(Oe),Ye=0;Ye<Oe;Ye++)He[Ye]=arguments[Ye+2];_e.children=He}return G(X.type,ne,void 0,void 0,Ce,_e)},nn.createContext=function(X){return X={$$typeof:o,_currentValue:X,_currentValue2:X,_threadCount:0,Provider:null,Consumer:null},X.Provider=X,X.Consumer={$$typeof:r,_context:X},X},nn.createElement=function(X,ie,xe){var _e,ne={},Ce=null;if(ie!=null)for(_e in ie.key!==void 0&&(Ce=""+ie.key),ie)I.call(ie,_e)&&_e!=="key"&&_e!=="__self"&&_e!=="__source"&&(ne[_e]=ie[_e]);var Oe=arguments.length-2;if(Oe===1)ne.children=xe;else if(1<Oe){for(var He=Array(Oe),Ye=0;Ye<Oe;Ye++)He[Ye]=arguments[Ye+2];ne.children=He}if(X&&X.defaultProps)for(_e in Oe=X.defaultProps,Oe)ne[_e]===void 0&&(ne[_e]=Oe[_e]);return G(X,Ce,void 0,void 0,null,ne)},nn.createRef=function(){return{current:null}},nn.forwardRef=function(X){return{$$typeof:u,render:X}},nn.isValidElement=U,nn.lazy=function(X){return{$$typeof:m,_payload:{_status:-1,_result:X},_init:q}},nn.memo=function(X,ie){return{$$typeof:p,type:X,compare:ie===void 0?null:ie}},nn.startTransition=function(X){var ie=P.T,xe={};P.T=xe;try{var _e=X(),ne=P.S;ne!==null&&ne(xe,_e),typeof _e=="object"&&_e!==null&&typeof _e.then=="function"&&_e.then(ue,Y)}catch(Ce){Y(Ce)}finally{P.T=ie}},nn.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},nn.use=function(X){return P.H.use(X)},nn.useActionState=function(X,ie,xe){return P.H.useActionState(X,ie,xe)},nn.useCallback=function(X,ie){return P.H.useCallback(X,ie)},nn.useContext=function(X){return P.H.useContext(X)},nn.useDebugValue=function(){},nn.useDeferredValue=function(X,ie){return P.H.useDeferredValue(X,ie)},nn.useEffect=function(X,ie,xe){var _e=P.H;if(typeof xe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return _e.useEffect(X,ie)},nn.useId=function(){return P.H.useId()},nn.useImperativeHandle=function(X,ie,xe){return P.H.useImperativeHandle(X,ie,xe)},nn.useInsertionEffect=function(X,ie){return P.H.useInsertionEffect(X,ie)},nn.useLayoutEffect=function(X,ie){return P.H.useLayoutEffect(X,ie)},nn.useMemo=function(X,ie){return P.H.useMemo(X,ie)},nn.useOptimistic=function(X,ie){return P.H.useOptimistic(X,ie)},nn.useReducer=function(X,ie,xe){return P.H.useReducer(X,ie,xe)},nn.useRef=function(X){return P.H.useRef(X)},nn.useState=function(X){return P.H.useState(X)},nn.useSyncExternalStore=function(X,ie,xe){return P.H.useSyncExternalStore(X,ie,xe)},nn.useTransition=function(){return P.H.useTransition()},nn.version="19.1.0",nn}var fT;function _p(){return fT||(fT=1,$A.exports=WL()),$A.exports}var Q=_p();const sp=c0(Q);var eb={exports:{}},Km={},tb={exports:{}},nb={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hT;function JL(){return hT||(hT=1,function(n){function e(F,q){var Y=F.length;F.push(q);e:for(;0<Y;){var ue=Y-1>>>1,X=F[ue];if(0<s(X,q))F[ue]=q,F[Y]=X,Y=ue;else break e}}function t(F){return F.length===0?null:F[0]}function i(F){if(F.length===0)return null;var q=F[0],Y=F.pop();if(Y!==q){F[0]=Y;e:for(var ue=0,X=F.length,ie=X>>>1;ue<ie;){var xe=2*(ue+1)-1,_e=F[xe],ne=xe+1,Ce=F[ne];if(0>s(_e,Y))ne<X&&0>s(Ce,_e)?(F[ue]=Ce,F[ne]=Y,ue=ne):(F[ue]=_e,F[xe]=Y,ue=xe);else if(ne<X&&0>s(Ce,Y))F[ue]=Ce,F[ne]=Y,ue=ne;else break e}}return q}function s(F,q){var Y=F.sortIndex-q.sortIndex;return Y!==0?Y:F.id-q.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var r=performance;n.unstable_now=function(){return r.now()}}else{var o=Date,u=o.now();n.unstable_now=function(){return o.now()-u}}var h=[],p=[],m=1,y=null,x=3,_=!1,M=!1,C=!1,E=!1,S=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function D(F){for(var q=t(p);q!==null;){if(q.callback===null)i(p);else if(q.startTime<=F)i(p),q.sortIndex=q.expirationTime,e(h,q);else break;q=t(p)}}function P(F){if(C=!1,D(F),!M)if(t(h)!==null)M=!0,I||(I=!0,ce());else{var q=t(p);q!==null&&fe(P,q.startTime-F)}}var I=!1,G=-1,z=5,U=-1;function O(){return E?!0:!(n.unstable_now()-U<z)}function W(){if(E=!1,I){var F=n.unstable_now();U=F;var q=!0;try{e:{M=!1,C&&(C=!1,w(G),G=-1),_=!0;var Y=x;try{t:{for(D(F),y=t(h);y!==null&&!(y.expirationTime>F&&O());){var ue=y.callback;if(typeof ue=="function"){y.callback=null,x=y.priorityLevel;var X=ue(y.expirationTime<=F);if(F=n.unstable_now(),typeof X=="function"){y.callback=X,D(F),q=!0;break t}y===t(h)&&i(h),D(F)}else i(h);y=t(h)}if(y!==null)q=!0;else{var ie=t(p);ie!==null&&fe(P,ie.startTime-F),q=!1}}break e}finally{y=null,x=Y,_=!1}q=void 0}}finally{q?ce():I=!1}}}var ce;if(typeof B=="function")ce=function(){B(W)};else if(typeof MessageChannel<"u"){var se=new MessageChannel,me=se.port2;se.port1.onmessage=W,ce=function(){me.postMessage(null)}}else ce=function(){S(W,0)};function fe(F,q){G=S(function(){F(n.unstable_now())},q)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(F){F.callback=null},n.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<F?Math.floor(1e3/F):5},n.unstable_getCurrentPriorityLevel=function(){return x},n.unstable_next=function(F){switch(x){case 1:case 2:case 3:var q=3;break;default:q=x}var Y=x;x=q;try{return F()}finally{x=Y}},n.unstable_requestPaint=function(){E=!0},n.unstable_runWithPriority=function(F,q){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var Y=x;x=F;try{return q()}finally{x=Y}},n.unstable_scheduleCallback=function(F,q,Y){var ue=n.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?ue+Y:ue):Y=ue,F){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=Y+X,F={id:m++,callback:q,priorityLevel:F,startTime:Y,expirationTime:X,sortIndex:-1},Y>ue?(F.sortIndex=Y,e(p,F),t(h)===null&&F===t(p)&&(C?(w(G),G=-1):C=!0,fe(P,Y-ue))):(F.sortIndex=X,e(h,F),M||_||(M=!0,I||(I=!0,ce()))),F},n.unstable_shouldYield=O,n.unstable_wrapCallback=function(F){var q=x;return function(){var Y=x;x=q;try{return F.apply(this,arguments)}finally{x=Y}}}}(nb)),nb}var dT;function KL(){return dT||(dT=1,tb.exports=JL()),tb.exports}var ib={exports:{}},Hs={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pT;function QL(){if(pT)return Hs;pT=1;var n=_p();function e(h){var p="https://react.dev/errors/"+h;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)p+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+h+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},s=Symbol.for("react.portal");function r(h,p,m){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:y==null?null:""+y,children:h,containerInfo:p,implementation:m}}var o=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(h,p){if(h==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Hs.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Hs.createPortal=function(h,p){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return r(h,p,null,m)},Hs.flushSync=function(h){var p=o.T,m=i.p;try{if(o.T=null,i.p=2,h)return h()}finally{o.T=p,i.p=m,i.d.f()}},Hs.preconnect=function(h,p){typeof h=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(h,p))},Hs.prefetchDNS=function(h){typeof h=="string"&&i.d.D(h)},Hs.preinit=function(h,p){if(typeof h=="string"&&p&&typeof p.as=="string"){var m=p.as,y=u(m,p.crossOrigin),x=typeof p.integrity=="string"?p.integrity:void 0,_=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;m==="style"?i.d.S(h,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:y,integrity:x,fetchPriority:_}):m==="script"&&i.d.X(h,{crossOrigin:y,integrity:x,fetchPriority:_,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Hs.preinitModule=function(h,p){if(typeof h=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var m=u(p.as,p.crossOrigin);i.d.M(h,{crossOrigin:m,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(h)},Hs.preload=function(h,p){if(typeof h=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var m=p.as,y=u(m,p.crossOrigin);i.d.L(h,m,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Hs.preloadModule=function(h,p){if(typeof h=="string")if(p){var m=u(p.as,p.crossOrigin);i.d.m(h,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:m,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(h)},Hs.requestFormReset=function(h){i.d.r(h)},Hs.unstable_batchedUpdates=function(h,p){return h(p)},Hs.useFormState=function(h,p,m){return o.H.useFormState(h,p,m)},Hs.useFormStatus=function(){return o.H.useHostTransitionStatus()},Hs.version="19.1.0",Hs}var mT;function ZL(){if(mT)return ib.exports;mT=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),ib.exports=QL(),ib.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gT;function $L(){if(gT)return Km;gT=1;var n=KL(),e=_p(),t=ZL();function i(a){var l="https://react.dev/errors/"+a;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)l+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+a+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function r(a){var l=a,d=a;if(a.alternate)for(;l.return;)l=l.return;else{a=l;do l=a,(l.flags&4098)!==0&&(d=l.return),a=l.return;while(a)}return l.tag===3?d:null}function o(a){if(a.tag===13){var l=a.memoizedState;if(l===null&&(a=a.alternate,a!==null&&(l=a.memoizedState)),l!==null)return l.dehydrated}return null}function u(a){if(r(a)!==a)throw Error(i(188))}function h(a){var l=a.alternate;if(!l){if(l=r(a),l===null)throw Error(i(188));return l!==a?null:a}for(var d=a,g=l;;){var A=d.return;if(A===null)break;var T=A.alternate;if(T===null){if(g=A.return,g!==null){d=g;continue}break}if(A.child===T.child){for(T=A.child;T;){if(T===d)return u(A),a;if(T===g)return u(A),l;T=T.sibling}throw Error(i(188))}if(d.return!==g.return)d=A,g=T;else{for(var L=!1,V=A.child;V;){if(V===d){L=!0,d=A,g=T;break}if(V===g){L=!0,g=A,d=T;break}V=V.sibling}if(!L){for(V=T.child;V;){if(V===d){L=!0,d=T,g=A;break}if(V===g){L=!0,g=T,d=A;break}V=V.sibling}if(!L)throw Error(i(189))}}if(d.alternate!==g)throw Error(i(190))}if(d.tag!==3)throw Error(i(188));return d.stateNode.current===d?a:l}function p(a){var l=a.tag;if(l===5||l===26||l===27||l===6)return a;for(a=a.child;a!==null;){if(l=p(a),l!==null)return l;a=a.sibling}return null}var m=Object.assign,y=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),w=Symbol.for("react.consumer"),B=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),U=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),W=Symbol.iterator;function ce(a){return a===null||typeof a!="object"?null:(a=W&&a[W]||a["@@iterator"],typeof a=="function"?a:null)}var se=Symbol.for("react.client.reference");function me(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===se?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case M:return"Fragment";case E:return"Profiler";case C:return"StrictMode";case P:return"Suspense";case I:return"SuspenseList";case U:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case _:return"Portal";case B:return(a.displayName||"Context")+".Provider";case w:return(a._context.displayName||"Context")+".Consumer";case D:var l=a.render;return a=a.displayName,a||(a=l.displayName||l.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case G:return l=a.displayName||null,l!==null?l:me(a.type)||"Memo";case z:l=a._payload,a=a._init;try{return me(a(l))}catch{}}return null}var fe=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y={pending:!1,data:null,method:null,action:null},ue=[],X=-1;function ie(a){return{current:a}}function xe(a){0>X||(a.current=ue[X],ue[X]=null,X--)}function _e(a,l){X++,ue[X]=a.current,a.current=l}var ne=ie(null),Ce=ie(null),Oe=ie(null),He=ie(null);function Ye(a,l){switch(_e(Oe,l),_e(Ce,a),_e(ne,null),l.nodeType){case 9:case 11:a=(a=l.documentElement)&&(a=a.namespaceURI)?PE(a):0;break;default:if(a=l.tagName,l=l.namespaceURI)l=PE(l),a=IE(l,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}xe(ne),_e(ne,a)}function bt(){xe(ne),xe(Ce),xe(Oe)}function it(a){a.memoizedState!==null&&_e(He,a);var l=ne.current,d=IE(l,a.type);l!==d&&(_e(Ce,a),_e(ne,d))}function mt(a){Ce.current===a&&(xe(ne),xe(Ce)),He.current===a&&(xe(He),Xm._currentValue=Y)}var Rt=Object.prototype.hasOwnProperty,St=n.unstable_scheduleCallback,K=n.unstable_cancelCallback,Je=n.unstable_shouldYield,Xe=n.unstable_requestPaint,Ge=n.unstable_now,Ue=n.unstable_getCurrentPriorityLevel,at=n.unstable_ImmediatePriority,Ve=n.unstable_UserBlockingPriority,et=n.unstable_NormalPriority,Ht=n.unstable_LowPriority,$=n.unstable_IdlePriority,H=n.log,ge=n.unstable_setDisableYieldValue,Re=null,Be=null;function we(a){if(typeof H=="function"&&ge(a),Be&&typeof Be.setStrictMode=="function")try{Be.setStrictMode(Re,a)}catch{}}var rt=Math.clz32?Math.clz32:gt,$e=Math.log,dt=Math.LN2;function gt(a){return a>>>=0,a===0?32:31-($e(a)/dt|0)|0}var Pe=256,tt=4194304;function At(a){var l=a&42;if(l!==0)return l;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function Et(a,l,d){var g=a.pendingLanes;if(g===0)return 0;var A=0,T=a.suspendedLanes,L=a.pingedLanes;a=a.warmLanes;var V=g&134217727;return V!==0?(g=V&~T,g!==0?A=At(g):(L&=V,L!==0?A=At(L):d||(d=V&~a,d!==0&&(A=At(d))))):(V=g&~T,V!==0?A=At(V):L!==0?A=At(L):d||(d=g&~a,d!==0&&(A=At(d)))),A===0?0:l!==0&&l!==A&&(l&T)===0&&(T=A&-A,d=l&-l,T>=d||T===32&&(d&4194048)!==0)?l:A}function Qe(a,l){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&l)===0}function Ot(a,l){switch(a){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function oe(){var a=Pe;return Pe<<=1,(Pe&4194048)===0&&(Pe=256),a}function st(){var a=tt;return tt<<=1,(tt&62914560)===0&&(tt=4194304),a}function je(a){for(var l=[],d=0;31>d;d++)l.push(a);return l}function ht(a,l){a.pendingLanes|=l,l!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function qe(a,l,d,g,A,T){var L=a.pendingLanes;a.pendingLanes=d,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=d,a.entangledLanes&=d,a.errorRecoveryDisabledLanes&=d,a.shellSuspendCounter=0;var V=a.entanglements,ee=a.expirationTimes,ve=a.hiddenUpdates;for(d=L&~d;0<d;){var Ne=31-rt(d),ze=1<<Ne;V[Ne]=0,ee[Ne]=-1;var be=ve[Ne];if(be!==null)for(ve[Ne]=null,Ne=0;Ne<be.length;Ne++){var Ee=be[Ne];Ee!==null&&(Ee.lane&=-536870913)}d&=~ze}g!==0&&Ie(a,g,0),T!==0&&A===0&&a.tag!==0&&(a.suspendedLanes|=T&~(L&~l))}function Ie(a,l,d){a.pendingLanes|=l,a.suspendedLanes&=~l;var g=31-rt(l);a.entangledLanes|=l,a.entanglements[g]=a.entanglements[g]|1073741824|d&4194090}function pt(a,l){var d=a.entangledLanes|=l;for(a=a.entanglements;d;){var g=31-rt(d),A=1<<g;A&l|a[g]&l&&(a[g]|=l),d&=~A}}function Pt(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function xn(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function hn(){var a=q.p;return a!==0?a:(a=window.event,a===void 0?32:nT(a.type))}function Bs(a,l){var d=q.p;try{return q.p=a,l()}finally{q.p=d}}var Mi=Math.random().toString(36).slice(2),gi="__reactFiber$"+Mi,Ei="__reactProps$"+Mi,rs="__reactContainer$"+Mi,Ds="__reactEvents$"+Mi,Nu="__reactListeners$"+Mi,Ia="__reactHandles$"+Mi,ys="__reactResources$"+Mi,Fa="__reactMarker$"+Mi;function Ln(a){delete a[gi],delete a[Ei],delete a[Ds],delete a[Nu],delete a[Ia]}function za(a){var l=a[gi];if(l)return l;for(var d=a.parentNode;d;){if(l=d[rs]||d[gi]){if(d=l.alternate,l.child!==null||d!==null&&d.child!==null)for(a=GE(a);a!==null;){if(d=a[gi])return d;a=GE(a)}return l}a=d,d=a.parentNode}return null}function Ha(a){if(a=a[gi]||a[rs]){var l=a.tag;if(l===5||l===6||l===13||l===26||l===27||l===3)return a}return null}function Mo(a){var l=a.tag;if(l===5||l===26||l===27||l===6)return a.stateNode;throw Error(i(33))}function Fr(a){var l=a[ys];return l||(l=a[ys]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function yi(a){a[Fa]=!0}var dc=new Set,pc={};function Ga(a,l){k(a,l),k(a+"Capture",l)}function k(a,l){for(pc[a]=l,a=0;a<l.length;a++)dc.add(l[a])}var le=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Se={},Me={};function de(a){return Rt.call(Me,a)?!0:Rt.call(Se,a)?!1:le.test(a)?Me[a]=!0:(Se[a]=!0,!1)}function ke(a,l,d){if(de(l))if(d===null)a.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":a.removeAttribute(l);return;case"boolean":var g=l.toLowerCase().slice(0,5);if(g!=="data-"&&g!=="aria-"){a.removeAttribute(l);return}}a.setAttribute(l,""+d)}}function Ze(a,l,d){if(d===null)a.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(l);return}a.setAttribute(l,""+d)}}function ct(a,l,d,g){if(g===null)a.removeAttribute(d);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(d);return}a.setAttributeNS(l,d,""+g)}}var ut,Ut;function wt(a){if(ut===void 0)try{throw Error()}catch(d){var l=d.stack.trim().match(/\n( *(at )?)/);ut=l&&l[1]||"",Ut=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ut+a+Ut}var Mt=!1;function $t(a,l){if(!a||Mt)return"";Mt=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var g={DetermineComponentFrameRoot:function(){try{if(l){var ze=function(){throw Error()};if(Object.defineProperty(ze.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ze,[])}catch(Ee){var be=Ee}Reflect.construct(a,[],ze)}else{try{ze.call()}catch(Ee){be=Ee}a.call(ze.prototype)}}else{try{throw Error()}catch(Ee){be=Ee}(ze=a())&&typeof ze.catch=="function"&&ze.catch(function(){})}}catch(Ee){if(Ee&&be&&typeof Ee.stack=="string")return[Ee.stack,be.stack]}return[null,null]}};g.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var A=Object.getOwnPropertyDescriptor(g.DetermineComponentFrameRoot,"name");A&&A.configurable&&Object.defineProperty(g.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var T=g.DetermineComponentFrameRoot(),L=T[0],V=T[1];if(L&&V){var ee=L.split(`
`),ve=V.split(`
`);for(A=g=0;g<ee.length&&!ee[g].includes("DetermineComponentFrameRoot");)g++;for(;A<ve.length&&!ve[A].includes("DetermineComponentFrameRoot");)A++;if(g===ee.length||A===ve.length)for(g=ee.length-1,A=ve.length-1;1<=g&&0<=A&&ee[g]!==ve[A];)A--;for(;1<=g&&0<=A;g--,A--)if(ee[g]!==ve[A]){if(g!==1||A!==1)do if(g--,A--,0>A||ee[g]!==ve[A]){var Ne=`
`+ee[g].replace(" at new "," at ");return a.displayName&&Ne.includes("<anonymous>")&&(Ne=Ne.replace("<anonymous>",a.displayName)),Ne}while(1<=g&&0<=A);break}}}finally{Mt=!1,Error.prepareStackTrace=d}return(d=a?a.displayName||a.name:"")?wt(d):""}function Sn(a){switch(a.tag){case 26:case 27:case 5:return wt(a.type);case 16:return wt("Lazy");case 13:return wt("Suspense");case 19:return wt("SuspenseList");case 0:case 15:return $t(a.type,!1);case 11:return $t(a.type.render,!1);case 1:return $t(a.type,!0);case 31:return wt("Activity");default:return""}}function In(a){try{var l="";do l+=Sn(a),a=a.return;while(a);return l}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}function rn(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function cn(a){var l=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Bt(a){var l=cn(a)?"checked":"value",d=Object.getOwnPropertyDescriptor(a.constructor.prototype,l),g=""+a[l];if(!a.hasOwnProperty(l)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var A=d.get,T=d.set;return Object.defineProperty(a,l,{configurable:!0,get:function(){return A.call(this)},set:function(L){g=""+L,T.call(this,L)}}),Object.defineProperty(a,l,{enumerable:d.enumerable}),{getValue:function(){return g},setValue:function(L){g=""+L},stopTracking:function(){a._valueTracker=null,delete a[l]}}}}function $n(a){a._valueTracker||(a._valueTracker=Bt(a))}function yn(a){if(!a)return!1;var l=a._valueTracker;if(!l)return!0;var d=l.getValue(),g="";return a&&(g=cn(a)?a.checked?"true":"false":a.value),a=g,a!==d?(l.setValue(a),!0):!1}function ji(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var rr=/[\n"\\]/g;function Fn(a){return a.replace(rr,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function or(a,l,d,g,A,T,L,V){a.name="",L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"?a.type=L:a.removeAttribute("type"),l!=null?L==="number"?(l===0&&a.value===""||a.value!=l)&&(a.value=""+rn(l)):a.value!==""+rn(l)&&(a.value=""+rn(l)):L!=="submit"&&L!=="reset"||a.removeAttribute("value"),l!=null?Yi(a,L,rn(l)):d!=null?Yi(a,L,rn(d)):g!=null&&a.removeAttribute("value"),A==null&&T!=null&&(a.defaultChecked=!!T),A!=null&&(a.checked=A&&typeof A!="function"&&typeof A!="symbol"),V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"?a.name=""+rn(V):a.removeAttribute("name")}function On(a,l,d,g,A,T,L,V){if(T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(a.type=T),l!=null||d!=null){if(!(T!=="submit"&&T!=="reset"||l!=null))return;d=d!=null?""+rn(d):"",l=l!=null?""+rn(l):d,V||l===a.value||(a.value=l),a.defaultValue=l}g=g??A,g=typeof g!="function"&&typeof g!="symbol"&&!!g,a.checked=V?a.checked:!!g,a.defaultChecked=!!g,L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"&&(a.name=L)}function Yi(a,l,d){l==="number"&&ji(a.ownerDocument)===a||a.defaultValue===""+d||(a.defaultValue=""+d)}function vi(a,l,d,g){if(a=a.options,l){l={};for(var A=0;A<d.length;A++)l["$"+d[A]]=!0;for(d=0;d<a.length;d++)A=l.hasOwnProperty("$"+a[d].value),a[d].selected!==A&&(a[d].selected=A),A&&g&&(a[d].defaultSelected=!0)}else{for(d=""+rn(d),l=null,A=0;A<a.length;A++){if(a[A].value===d){a[A].selected=!0,g&&(a[A].defaultSelected=!0);return}l!==null||a[A].disabled||(l=a[A])}l!==null&&(l.selected=!0)}}function Pi(a,l,d){if(l!=null&&(l=""+rn(l),l!==a.value&&(a.value=l),d==null)){a.defaultValue!==l&&(a.defaultValue=l);return}a.defaultValue=d!=null?""+rn(d):""}function Ii(a,l,d,g){if(l==null){if(g!=null){if(d!=null)throw Error(i(92));if(fe(g)){if(1<g.length)throw Error(i(93));g=g[0]}d=g}d==null&&(d=""),l=d}d=rn(l),a.defaultValue=d,g=a.textContent,g===d&&g!==""&&g!==null&&(a.value=g)}function vs(a,l){if(l){var d=a.firstChild;if(d&&d===a.lastChild&&d.nodeType===3){d.nodeValue=l;return}}a.textContent=l}var lr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Uu(a,l,d){var g=l.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?g?a.setProperty(l,""):l==="float"?a.cssFloat="":a[l]="":g?a.setProperty(l,d):typeof d!="number"||d===0||lr.has(l)?l==="float"?a.cssFloat=d:a[l]=(""+d).trim():a[l]=d+"px"}function Lu(a,l,d){if(l!=null&&typeof l!="object")throw Error(i(62));if(a=a.style,d!=null){for(var g in d)!d.hasOwnProperty(g)||l!=null&&l.hasOwnProperty(g)||(g.indexOf("--")===0?a.setProperty(g,""):g==="float"?a.cssFloat="":a[g]="");for(var A in l)g=l[A],l.hasOwnProperty(A)&&d[A]!==g&&Uu(a,A,g)}else for(var T in l)l.hasOwnProperty(T)&&Uu(a,T,l[T])}function xh(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pp=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),O0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ou(a){return O0.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}var _h=null;function Ah(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Eo=null,xl=null;function Ip(a){var l=Ha(a);if(l&&(a=l.stateNode)){var d=a[Ei]||null;e:switch(a=l.stateNode,l.type){case"input":if(or(a,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),l=d.name,d.type==="radio"&&l!=null){for(d=a;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+Fn(""+l)+'"][type="radio"]'),l=0;l<d.length;l++){var g=d[l];if(g!==a&&g.form===a.form){var A=g[Ei]||null;if(!A)throw Error(i(90));or(g,A.value,A.defaultValue,A.defaultValue,A.checked,A.defaultChecked,A.type,A.name)}}for(l=0;l<d.length;l++)g=d[l],g.form===a.form&&yn(g)}break e;case"textarea":Pi(a,d.value,d.defaultValue);break e;case"select":l=d.value,l!=null&&vi(a,!!d.multiple,l,!1)}}}var Pu=!1;function Fp(a,l,d){if(Pu)return a(l,d);Pu=!0;try{var g=a(l);return g}finally{if(Pu=!1,(Eo!==null||xl!==null)&&(Mr(),Eo&&(l=Eo,a=xl,xl=Eo=null,Ip(l),a)))for(l=0;l<a.length;l++)Ip(a[l])}}function mc(a,l){var d=a.stateNode;if(d===null)return null;var g=d[Ei]||null;if(g===null)return null;d=g[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(a=a.type,g=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!g;break e;default:a=!1}if(a)return null;if(d&&typeof d!="function")throw Error(i(231,l,typeof d));return d}var cr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Iu=!1;if(cr)try{var gc={};Object.defineProperty(gc,"passive",{get:function(){Iu=!0}}),window.addEventListener("test",gc,gc),window.removeEventListener("test",gc,gc)}catch{Iu=!1}var zr=null,zp=null,bh=null;function Hp(){if(bh)return bh;var a,l=zp,d=l.length,g,A="value"in zr?zr.value:zr.textContent,T=A.length;for(a=0;a<d&&l[a]===A[a];a++);var L=d-a;for(g=1;g<=L&&l[d-g]===A[T-g];g++);return bh=A.slice(a,1<g?1-g:void 0)}function To(a){var l=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&l===13&&(a=13)):a=l,a===10&&(a=13),32<=a||a===13?a:0}function yc(){return!0}function Fu(){return!1}function xs(a){function l(d,g,A,T,L){this._reactName=d,this._targetInst=A,this.type=g,this.nativeEvent=T,this.target=L,this.currentTarget=null;for(var V in a)a.hasOwnProperty(V)&&(d=a[V],this[V]=d?d(T):T[V]);return this.isDefaultPrevented=(T.defaultPrevented!=null?T.defaultPrevented:T.returnValue===!1)?yc:Fu,this.isPropagationStopped=Fu,this}return m(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=yc)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=yc)},persist:function(){},isPersistent:yc}),l}var Co={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vc=xs(Co),xc=m({},Co,{view:0,detail:0}),P0=xs(xc),Hr,_c,Ac,bc=m({},xc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hu,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Ac&&(Ac&&a.type==="mousemove"?(Hr=a.screenX-Ac.screenX,_c=a.screenY-Ac.screenY):_c=Hr=0,Ac=a),Hr)},movementY:function(a){return"movementY"in a?a.movementY:_c}}),Gp=xs(bc),I0=m({},bc,{dataTransfer:0}),gA=xs(I0),qi=m({},xc,{relatedTarget:0}),Sh=xs(qi),F0=m({},Co,{animationName:0,elapsedTime:0,pseudoElement:0}),z0=xs(F0),H0=m({},Co,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),G0=xs(H0),zu=m({},Co,{data:0}),Mh=xs(zu),V0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},k0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},X0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vp(a){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(a):(a=X0[a])?!!l[a]:!1}function Hu(){return Vp}var j0=m({},xc,{key:function(a){if(a.key){var l=V0[a.key]||a.key;if(l!=="Unidentified")return l}return a.type==="keypress"?(a=To(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?k0[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hu,charCode:function(a){return a.type==="keypress"?To(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?To(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),kp=xs(j0),Xp=m({},bc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Eh=xs(Xp),Y0=m({},xc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hu}),jp=xs(Y0),q0=m({},Co,{propertyName:0,elapsedTime:0,pseudoElement:0}),Gr=xs(q0),Yp=m({},bc,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),yA=xs(Yp),W0=m({},Co,{newState:0,oldState:0}),Ro=xs(W0),Vr=[9,13,27,32],Gu=cr&&"CompositionEvent"in window,_l=null;cr&&"documentMode"in document&&(_l=document.documentMode);var Vu=cr&&"TextEvent"in window&&!_l,ku=cr&&(!Gu||_l&&8<_l&&11>=_l),wo=" ",Wi=!1;function Xu(a,l){switch(a){case"keyup":return Vr.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qp(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Bo=!1;function ju(a,l){switch(a){case"compositionend":return qp(l);case"keypress":return l.which!==32?null:(Wi=!0,wo);case"textInput":return a=l.data,a===wo&&Wi?null:a;default:return null}}function Wp(a,l){if(Bo)return a==="compositionend"||!Gu&&Xu(a,l)?(a=Hp(),bh=zp=zr=null,Bo=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return ku&&l.locale!=="ko"?null:l.data;default:return null}}var Th={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jp(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l==="input"?!!Th[a.type]:l==="textarea"}function Ns(a,l,d,g){Eo?xl?xl.push(g):xl=[g]:Eo=g,l=qy(l,"onChange"),0<l.length&&(d=new vc("onChange","change",null,d,g),a.push({event:d,listeners:l}))}var Sc=null,Al=null;function J0(a){DE(a,0)}function Yu(a){var l=Mo(a);if(yn(l))return a}function Ch(a,l){if(a==="change")return l}var Rh=!1;if(cr){var wh;if(cr){var Mc="oninput"in document;if(!Mc){var Ec=document.createElement("div");Ec.setAttribute("oninput","return;"),Mc=typeof Ec.oninput=="function"}wh=Mc}else wh=!1;Rh=wh&&(!document.documentMode||9<document.documentMode)}function Zn(){Sc&&(Sc.detachEvent("onpropertychange",K0),Al=Sc=null)}function K0(a){if(a.propertyName==="value"&&Yu(Al)){var l=[];Ns(l,Al,a,Ah(a)),Fp(J0,l)}}function vA(a,l,d){a==="focusin"?(Zn(),Sc=l,Al=d,Sc.attachEvent("onpropertychange",K0)):a==="focusout"&&Zn()}function Q0(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Yu(Al)}function qu(a,l){if(a==="click")return Yu(l)}function Do(a,l){if(a==="input"||a==="change")return Yu(l)}function Z0(a,l){return a===l&&(a!==0||1/a===1/l)||a!==a&&l!==l}var Us=typeof Object.is=="function"?Object.is:Z0;function Va(a,l){if(Us(a,l))return!0;if(typeof a!="object"||a===null||typeof l!="object"||l===null)return!1;var d=Object.keys(a),g=Object.keys(l);if(d.length!==g.length)return!1;for(g=0;g<d.length;g++){var A=d[g];if(!Rt.call(l,A)||!Us(a[A],l[A]))return!1}return!0}function Ls(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function Kp(a,l){var d=Ls(a);a=0;for(var g;d;){if(d.nodeType===3){if(g=a+d.textContent.length,a<=l&&g>=l)return{node:d,offset:l-a};a=g}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=Ls(d)}}function Qp(a,l){return a&&l?a===l?!0:a&&a.nodeType===3?!1:l&&l.nodeType===3?Qp(a,l.parentNode):"contains"in a?a.contains(l):a.compareDocumentPosition?!!(a.compareDocumentPosition(l)&16):!1:!1}function Zp(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var l=ji(a.document);l instanceof a.HTMLIFrameElement;){try{var d=typeof l.contentWindow.location.href=="string"}catch{d=!1}if(d)a=l.contentWindow;else break;l=ji(a.document)}return l}function Wu(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l&&(l==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||l==="textarea"||a.contentEditable==="true")}var $p=cr&&"documentMode"in document&&11>=document.documentMode,kr=null,Bh=null,Ju=null,Dh=!1;function em(a,l,d){var g=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;Dh||kr==null||kr!==ji(g)||(g=kr,"selectionStart"in g&&Wu(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),Ju&&Va(Ju,g)||(Ju=g,g=qy(Bh,"onSelect"),0<g.length&&(l=new vc("onSelect","select",null,l,d),a.push({event:l,listeners:g}),l.target=kr)))}function Ji(a,l){var d={};return d[a.toLowerCase()]=l.toLowerCase(),d["Webkit"+a]="webkit"+l,d["Moz"+a]="moz"+l,d}var No={animationend:Ji("Animation","AnimationEnd"),animationiteration:Ji("Animation","AnimationIteration"),animationstart:Ji("Animation","AnimationStart"),transitionrun:Ji("Transition","TransitionRun"),transitionstart:Ji("Transition","TransitionStart"),transitioncancel:Ji("Transition","TransitionCancel"),transitionend:Ji("Transition","TransitionEnd")},Nh={},$0={};cr&&($0=document.createElement("div").style,"AnimationEvent"in window||(delete No.animationend.animation,delete No.animationiteration.animation,delete No.animationstart.animation),"TransitionEvent"in window||delete No.transitionend.transition);function Xr(a){if(Nh[a])return Nh[a];if(!No[a])return a;var l=No[a],d;for(d in l)if(l.hasOwnProperty(d)&&d in $0)return Nh[a]=l[d];return a}var _s=Xr("animationend"),tm=Xr("animationiteration"),Os=Xr("animationstart"),ey=Xr("transitionrun"),jr=Xr("transitionstart"),Tc=Xr("transitioncancel"),Yr=Xr("transitionend"),Uh=new Map,Ku="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ku.push("scrollEnd");function Fi(a,l){Uh.set(a,l),Ga(l,[a])}var nm=new WeakMap;function Ki(a,l){if(typeof a=="object"&&a!==null){var d=nm.get(a);return d!==void 0?d:(l={value:a,source:l,stack:In(l)},nm.set(a,l),l)}return{value:a,source:l,stack:In(l)}}var os=[],ya=0,Lh=0;function Qu(){for(var a=ya,l=Lh=ya=0;l<a;){var d=os[l];os[l++]=null;var g=os[l];os[l++]=null;var A=os[l];os[l++]=null;var T=os[l];if(os[l++]=null,g!==null&&A!==null){var L=g.pending;L===null?A.next=A:(A.next=L.next,L.next=A),g.pending=A}T!==0&&im(d,A,T)}}function Uo(a,l,d,g){os[ya++]=a,os[ya++]=l,os[ya++]=d,os[ya++]=g,Lh|=g,a.lanes|=g,a=a.alternate,a!==null&&(a.lanes|=g)}function Oh(a,l,d,g){return Uo(a,l,d,g),Cc(a)}function qr(a,l){return Uo(a,null,null,l),Cc(a)}function im(a,l,d){a.lanes|=d;var g=a.alternate;g!==null&&(g.lanes|=d);for(var A=!1,T=a.return;T!==null;)T.childLanes|=d,g=T.alternate,g!==null&&(g.childLanes|=d),T.tag===22&&(a=T.stateNode,a===null||a._visibility&1||(A=!0)),a=T,T=T.return;return a.tag===3?(T=a.stateNode,A&&l!==null&&(A=31-rt(d),a=T.hiddenUpdates,g=a[A],g===null?a[A]=[l]:g.push(l),l.lane=d|536870912),T):null}function Cc(a){if(50<Sr)throw Sr=0,zl=null,Error(i(185));for(var l=a.return;l!==null;)a=l,l=a.return;return a.tag===3?a.stateNode:null}var Lo={};function sm(a,l,d,g){this.tag=a,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ps(a,l,d,g){return new sm(a,l,d,g)}function Zu(a){return a=a.prototype,!(!a||!a.isReactComponent)}function li(a,l){var d=a.alternate;return d===null?(d=Ps(a.tag,l,a.key,a.mode),d.elementType=a.elementType,d.type=a.type,d.stateNode=a.stateNode,d.alternate=a,a.alternate=d):(d.pendingProps=l,d.type=a.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=a.flags&65011712,d.childLanes=a.childLanes,d.lanes=a.lanes,d.child=a.child,d.memoizedProps=a.memoizedProps,d.memoizedState=a.memoizedState,d.updateQueue=a.updateQueue,l=a.dependencies,d.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},d.sibling=a.sibling,d.index=a.index,d.ref=a.ref,d.refCleanup=a.refCleanup,d}function am(a,l){a.flags&=65011714;var d=a.alternate;return d===null?(a.childLanes=0,a.lanes=l,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=d.childLanes,a.lanes=d.lanes,a.child=d.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=d.memoizedProps,a.memoizedState=d.memoizedState,a.updateQueue=d.updateQueue,a.type=d.type,l=d.dependencies,a.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),a}function zi(a,l,d,g,A,T){var L=0;if(g=a,typeof a=="function")Zu(a)&&(L=1);else if(typeof a=="string")L=UL(a,d,ne.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case U:return a=Ps(31,d,l,A),a.elementType=U,a.lanes=T,a;case M:return Oo(d.children,A,T,l);case C:L=8,A|=24;break;case E:return a=Ps(12,d,l,A|2),a.elementType=E,a.lanes=T,a;case P:return a=Ps(13,d,l,A),a.elementType=P,a.lanes=T,a;case I:return a=Ps(19,d,l,A),a.elementType=I,a.lanes=T,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case S:case B:L=10;break e;case w:L=9;break e;case D:L=11;break e;case G:L=14;break e;case z:L=16,g=null;break e}L=29,d=Error(i(130,a===null?"null":typeof a,"")),g=null}return l=Ps(L,d,l,A),l.elementType=a,l.type=g,l.lanes=T,l}function Oo(a,l,d,g){return a=Ps(7,a,g,l),a.lanes=d,a}function $u(a,l,d){return a=Ps(6,a,null,l),a.lanes=d,a}function Ph(a,l,d){return l=Ps(4,a.children!==null?a.children:[],a.key,l),l.lanes=d,l.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},l}var Rc=[],Is=0,ef=null,wc=0,Qi=[],Ws=0,Po=null,ur=1,fr="";function Wr(a,l){Rc[Is++]=wc,Rc[Is++]=ef,ef=a,wc=l}function Ih(a,l,d){Qi[Ws++]=ur,Qi[Ws++]=fr,Qi[Ws++]=Po,Po=a;var g=ur;a=fr;var A=32-rt(g)-1;g&=~(1<<A),d+=1;var T=32-rt(l)+A;if(30<T){var L=A-A%5;T=(g&(1<<L)-1).toString(32),g>>=L,A-=L,ur=1<<32-rt(l)+A|d<<A|g,fr=T+a}else ur=1<<T|d<<A|g,fr=a}function rm(a){a.return!==null&&(Wr(a,1),Ih(a,1,0))}function om(a){for(;a===ef;)ef=Rc[--Is],Rc[Is]=null,wc=Rc[--Is],Rc[Is]=null;for(;a===Po;)Po=Qi[--Ws],Qi[Ws]=null,fr=Qi[--Ws],Qi[Ws]=null,ur=Qi[--Ws],Qi[Ws]=null}var As=null,ei=null,Mn=!1,va=null,Js=!1,Fh=Error(i(519));function Io(a){var l=Error(i(418,""));throw bl(Ki(l,a)),Fh}function ty(a){var l=a.stateNode,d=a.type,g=a.memoizedProps;switch(l[gi]=a,l[Ei]=g,d){case"dialog":dn("cancel",l),dn("close",l);break;case"iframe":case"object":case"embed":dn("load",l);break;case"video":case"audio":for(d=0;d<Fm.length;d++)dn(Fm[d],l);break;case"source":dn("error",l);break;case"img":case"image":case"link":dn("error",l),dn("load",l);break;case"details":dn("toggle",l);break;case"input":dn("invalid",l),On(l,g.value,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name,!0),$n(l);break;case"select":dn("invalid",l);break;case"textarea":dn("invalid",l),Ii(l,g.value,g.defaultValue,g.children),$n(l)}d=g.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||l.textContent===""+d||g.suppressHydrationWarning===!0||OE(l.textContent,d)?(g.popover!=null&&(dn("beforetoggle",l),dn("toggle",l)),g.onScroll!=null&&dn("scroll",l),g.onScrollEnd!=null&&dn("scrollend",l),g.onClick!=null&&(l.onclick=Wy),l=!0):l=!1,l||Io(a)}function lm(a){for(As=a.return;As;)switch(As.tag){case 5:case 13:Js=!1;return;case 27:case 3:Js=!0;return;default:As=As.return}}function ka(a){if(a!==As)return!1;if(!Mn)return lm(a),Mn=!0,!1;var l=a.tag,d;if((d=l!==3&&l!==27)&&((d=l===5)&&(d=a.type,d=!(d!=="form"&&d!=="button")||FA(a.type,a.memoizedProps)),d=!d),d&&ei&&Io(a),lm(a),l===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(i(317));e:{for(a=a.nextSibling,l=0;a;){if(a.nodeType===8)if(d=a.data,d==="/$"){if(l===0){ei=lo(a.nextSibling);break e}l--}else d!=="$"&&d!=="$!"&&d!=="$?"||l++;a=a.nextSibling}ei=null}}else l===27?(l=ei,eu(a.type)?(a=VA,VA=null,ei=a):ei=l):ei=As?lo(a.stateNode.nextSibling):null;return!0}function Bc(){ei=As=null,Mn=!1}function Rn(){var a=va;return a!==null&&(It===null?It=a:It.push.apply(It,a),va=null),a}function bl(a){va===null?va=[a]:va.push(a)}var cm=ie(null),Fo=null,Jr=null;function zo(a,l,d){_e(cm,l._currentValue),l._currentValue=d}function Kr(a){a._currentValue=cm.current,xe(cm)}function um(a,l,d){for(;a!==null;){var g=a.alternate;if((a.childLanes&l)!==l?(a.childLanes|=l,g!==null&&(g.childLanes|=l)):g!==null&&(g.childLanes&l)!==l&&(g.childLanes|=l),a===d)break;a=a.return}}function tf(a,l,d,g){var A=a.child;for(A!==null&&(A.return=a);A!==null;){var T=A.dependencies;if(T!==null){var L=A.child;T=T.firstContext;e:for(;T!==null;){var V=T;T=A;for(var ee=0;ee<l.length;ee++)if(V.context===l[ee]){T.lanes|=d,V=T.alternate,V!==null&&(V.lanes|=d),um(T.return,d,a),g||(L=null);break e}T=V.next}}else if(A.tag===18){if(L=A.return,L===null)throw Error(i(341));L.lanes|=d,T=L.alternate,T!==null&&(T.lanes|=d),um(L,d,a),L=null}else L=A.child;if(L!==null)L.return=A;else for(L=A;L!==null;){if(L===a){L=null;break}if(A=L.sibling,A!==null){A.return=L.return,L=A;break}L=L.return}A=L}}function xa(a,l,d,g){a=null;for(var A=l,T=!1;A!==null;){if(!T){if((A.flags&524288)!==0)T=!0;else if((A.flags&262144)!==0)break}if(A.tag===10){var L=A.alternate;if(L===null)throw Error(i(387));if(L=L.memoizedProps,L!==null){var V=A.type;Us(A.pendingProps.value,L.value)||(a!==null?a.push(V):a=[V])}}else if(A===He.current){if(L=A.alternate,L===null)throw Error(i(387));L.memoizedState.memoizedState!==A.memoizedState.memoizedState&&(a!==null?a.push(Xm):a=[Xm])}A=A.return}a!==null&&tf(l,a,d,g),l.flags|=262144}function nf(a){for(a=a.firstContext;a!==null;){if(!Us(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function hr(a){Fo=a,Jr=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function ni(a){return zh(Fo,a)}function sf(a,l){return Fo===null&&hr(a),zh(a,l)}function zh(a,l){var d=l._currentValue;if(l={context:l,memoizedValue:d,next:null},Jr===null){if(a===null)throw Error(i(308));Jr=l,a.dependencies={lanes:0,firstContext:l},a.flags|=524288}else Jr=Jr.next=l;return d}var fm=typeof AbortController<"u"?AbortController:function(){var a=[],l=this.signal={aborted:!1,addEventListener:function(d,g){a.push(g)}};this.abort=function(){l.aborted=!0,a.forEach(function(d){return d()})}},xA=n.unstable_scheduleCallback,ny=n.unstable_NormalPriority,xi={$$typeof:B,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Hh(){return{controller:new fm,data:new Map,refCount:0}}function Dc(a){a.refCount--,a.refCount===0&&xA(ny,function(){a.controller.abort()})}var Nc=null,af=0,qt=0,Uc=null;function Ks(a,l){if(Nc===null){var d=Nc=[];af=0,qt=wA(),Uc={status:"pending",value:void 0,then:function(g){d.push(g)}}}return af++,l.then(Gh,Gh),l}function Gh(){if(--af===0&&Nc!==null){Uc!==null&&(Uc.status="fulfilled");var a=Nc;Nc=null,qt=0,Uc=null;for(var l=0;l<a.length;l++)(0,a[l])()}}function _A(a,l){var d=[],g={status:"pending",value:null,reason:null,then:function(A){d.push(A)}};return a.then(function(){g.status="fulfilled",g.value=l;for(var A=0;A<d.length;A++)(0,d[A])(l)},function(A){for(g.status="rejected",g.reason=A,A=0;A<d.length;A++)(0,d[A])(void 0)}),g}var rf=F.S;F.S=function(a,l){typeof l=="object"&&l!==null&&typeof l.then=="function"&&Ks(a,l),rf!==null&&rf(a,l)};var _a=ie(null);function Ho(){var a=_a.current;return a!==null?a:jt.pooledCache}function of(a,l){l===null?_e(_a,_a.current):_e(_a,l.pool)}function Vh(){var a=Ho();return a===null?null:{parent:xi._currentValue,pool:a}}var lf=Error(i(460)),hm=Error(i(474)),Xa=Error(i(542)),cf={then:function(){}};function kh(a){return a=a.status,a==="fulfilled"||a==="rejected"}function Lc(){}function Xh(a,l,d){switch(d=a[d],d===void 0?a.push(l):d!==l&&(l.then(Lc,Lc),l=d),l.status){case"fulfilled":return l.value;case"rejected":throw a=l.reason,iy(a),a;default:if(typeof l.status=="string")l.then(Lc,Lc);else{if(a=jt,a!==null&&100<a.shellSuspendCounter)throw Error(i(482));a=l,a.status="pending",a.then(function(g){if(l.status==="pending"){var A=l;A.status="fulfilled",A.value=g}},function(g){if(l.status==="pending"){var A=l;A.status="rejected",A.reason=g}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw a=l.reason,iy(a),a}throw Aa=l,lf}}var Aa=null;function dm(){if(Aa===null)throw Error(i(459));var a=Aa;return Aa=null,a}function iy(a){if(a===lf||a===Xa)throw Error(i(483))}var Qr=!1;function pm(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Gt(a,l){a=a.updateQueue,l.updateQueue===a&&(l.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function dr(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function Zr(a,l,d){var g=a.updateQueue;if(g===null)return null;if(g=g.shared,(wn&2)!==0){var A=g.pending;return A===null?l.next=l:(l.next=A.next,A.next=l),g.pending=l,l=Cc(a),im(a,null,d),l}return Uo(a,g,l,d),Cc(a)}function Sl(a,l,d){if(l=l.updateQueue,l!==null&&(l=l.shared,(d&4194048)!==0)){var g=l.lanes;g&=a.pendingLanes,d|=g,l.lanes=d,pt(a,d)}}function Oc(a,l){var d=a.updateQueue,g=a.alternate;if(g!==null&&(g=g.updateQueue,d===g)){var A=null,T=null;if(d=d.firstBaseUpdate,d!==null){do{var L={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};T===null?A=T=L:T=T.next=L,d=d.next}while(d!==null);T===null?A=T=l:T=T.next=l}else A=T=l;d={baseState:g.baseState,firstBaseUpdate:A,lastBaseUpdate:T,shared:g.shared,callbacks:g.callbacks},a.updateQueue=d;return}a=d.lastBaseUpdate,a===null?d.firstBaseUpdate=l:a.next=l,d.lastBaseUpdate=l}var mm=!1;function uf(){if(mm){var a=Uc;if(a!==null)throw a}}function Pc(a,l,d,g){mm=!1;var A=a.updateQueue;Qr=!1;var T=A.firstBaseUpdate,L=A.lastBaseUpdate,V=A.shared.pending;if(V!==null){A.shared.pending=null;var ee=V,ve=ee.next;ee.next=null,L===null?T=ve:L.next=ve,L=ee;var Ne=a.alternate;Ne!==null&&(Ne=Ne.updateQueue,V=Ne.lastBaseUpdate,V!==L&&(V===null?Ne.firstBaseUpdate=ve:V.next=ve,Ne.lastBaseUpdate=ee))}if(T!==null){var ze=A.baseState;L=0,Ne=ve=ee=null,V=T;do{var be=V.lane&-536870913,Ee=be!==V.lane;if(Ee?(Dt&be)===be:(g&be)===be){be!==0&&be===qt&&(mm=!0),Ne!==null&&(Ne=Ne.next={lane:0,tag:V.tag,payload:V.payload,callback:null,next:null});e:{var kt=a,Ft=V;be=l;var Jn=d;switch(Ft.tag){case 1:if(kt=Ft.payload,typeof kt=="function"){ze=kt.call(Jn,ze,be);break e}ze=kt;break e;case 3:kt.flags=kt.flags&-65537|128;case 0:if(kt=Ft.payload,be=typeof kt=="function"?kt.call(Jn,ze,be):kt,be==null)break e;ze=m({},ze,be);break e;case 2:Qr=!0}}be=V.callback,be!==null&&(a.flags|=64,Ee&&(a.flags|=8192),Ee=A.callbacks,Ee===null?A.callbacks=[be]:Ee.push(be))}else Ee={lane:be,tag:V.tag,payload:V.payload,callback:V.callback,next:null},Ne===null?(ve=Ne=Ee,ee=ze):Ne=Ne.next=Ee,L|=be;if(V=V.next,V===null){if(V=A.shared.pending,V===null)break;Ee=V,V=Ee.next,Ee.next=null,A.lastBaseUpdate=Ee,A.shared.pending=null}}while(!0);Ne===null&&(ee=ze),A.baseState=ee,A.firstBaseUpdate=ve,A.lastBaseUpdate=Ne,T===null&&(A.shared.lanes=0),Za|=L,a.lanes=L,a.memoizedState=ze}}function Ic(a,l){if(typeof a!="function")throw Error(i(191,a));a.call(l)}function sy(a,l){var d=a.callbacks;if(d!==null)for(a.callbacks=null,a=0;a<d.length;a++)Ic(d[a],l)}var Fc=ie(null),jh=ie(0);function ay(a,l){a=Ca,_e(jh,a),_e(Fc,l),Ca=a|l.baseLanes}function gm(){_e(jh,Ca),_e(Fc,Fc.current)}function ff(){Ca=jh.current,xe(Fc),xe(jh)}var $r=0,Wt=null,Nn=null,_i=null,Yh=!1,Go=!1,bs=!1,Ti=0,ba=0,Zi=null,ry=0;function ci(){throw Error(i(321))}function ls(a,l){if(l===null)return!1;for(var d=0;d<l.length&&d<a.length;d++)if(!Us(a[d],l[d]))return!1;return!0}function eo(a,l,d,g,A,T){return $r=T,Wt=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,F.H=a===null||a.memoizedState===null?td:Nm,bs=!1,T=d(g,A),bs=!1,Go&&(T=ly(l,d,g,A)),oy(a),T}function oy(a){F.H=pf;var l=Nn!==null&&Nn.next!==null;if($r=0,_i=Nn=Wt=null,Yh=!1,ba=0,Zi=null,l)throw Error(i(300));a===null||Hi||(a=a.dependencies,a!==null&&nf(a)&&(Hi=!0))}function ly(a,l,d,g){Wt=a;var A=0;do{if(Go&&(Zi=null),ba=0,Go=!1,25<=A)throw Error(i(301));if(A+=1,_i=Nn=null,a.updateQueue!=null){var T=a.updateQueue;T.lastEffect=null,T.events=null,T.stores=null,T.memoCache!=null&&(T.memoCache.index=0)}F.H=Ly,T=l(d,g)}while(Go);return T}function AA(){var a=F.H,l=a.useState()[0];return l=typeof l.then=="function"?ja(l):l,a=a.useState()[0],(Nn!==null?Nn.memoizedState:null)!==a&&(Wt.flags|=1024),l}function ym(){var a=Ti!==0;return Ti=0,a}function qh(a,l,d){l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~d}function vm(a){if(Yh){for(a=a.memoizedState;a!==null;){var l=a.queue;l!==null&&(l.pending=null),a=a.next}Yh=!1}$r=0,_i=Nn=Wt=null,Go=!1,ba=Ti=0,Zi=null}function Ss(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _i===null?Wt.memoizedState=_i=a:_i=_i.next=a,_i}function Ai(){if(Nn===null){var a=Wt.alternate;a=a!==null?a.memoizedState:null}else a=Nn.next;var l=_i===null?Wt.memoizedState:_i.next;if(l!==null)_i=l,Nn=a;else{if(a===null)throw Wt.alternate===null?Error(i(467)):Error(i(310));Nn=a,a={memoizedState:Nn.memoizedState,baseState:Nn.baseState,baseQueue:Nn.baseQueue,queue:Nn.queue,next:null},_i===null?Wt.memoizedState=_i=a:_i=_i.next=a}return _i}function Vo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ja(a){var l=ba;return ba+=1,Zi===null&&(Zi=[]),a=Xh(Zi,a,l),l=Wt,(_i===null?l.memoizedState:_i.next)===null&&(l=l.alternate,F.H=l===null||l.memoizedState===null?td:Nm),a}function Wh(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return ja(a);if(a.$$typeof===B)return ni(a)}throw Error(i(438,String(a)))}function xm(a){var l=null,d=Wt.updateQueue;if(d!==null&&(l=d.memoCache),l==null){var g=Wt.alternate;g!==null&&(g=g.updateQueue,g!==null&&(g=g.memoCache,g!=null&&(l={data:g.data.map(function(A){return A.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),d===null&&(d=Vo(),Wt.updateQueue=d),d.memoCache=l,d=l.data[l.index],d===void 0)for(d=l.data[l.index]=Array(a),g=0;g<a;g++)d[g]=O;return l.index++,d}function to(a,l){return typeof l=="function"?l(a):l}function ko(a){var l=Ai();return _m(l,Nn,a)}function _m(a,l,d){var g=a.queue;if(g===null)throw Error(i(311));g.lastRenderedReducer=d;var A=a.baseQueue,T=g.pending;if(T!==null){if(A!==null){var L=A.next;A.next=T.next,T.next=L}l.baseQueue=A=T,g.pending=null}if(T=a.baseState,A===null)a.memoizedState=T;else{l=A.next;var V=L=null,ee=null,ve=l,Ne=!1;do{var ze=ve.lane&-536870913;if(ze!==ve.lane?(Dt&ze)===ze:($r&ze)===ze){var be=ve.revertLane;if(be===0)ee!==null&&(ee=ee.next={lane:0,revertLane:0,action:ve.action,hasEagerState:ve.hasEagerState,eagerState:ve.eagerState,next:null}),ze===qt&&(Ne=!0);else if(($r&be)===be){ve=ve.next,be===qt&&(Ne=!0);continue}else ze={lane:0,revertLane:ve.revertLane,action:ve.action,hasEagerState:ve.hasEagerState,eagerState:ve.eagerState,next:null},ee===null?(V=ee=ze,L=T):ee=ee.next=ze,Wt.lanes|=be,Za|=be;ze=ve.action,bs&&d(T,ze),T=ve.hasEagerState?ve.eagerState:d(T,ze)}else be={lane:ze,revertLane:ve.revertLane,action:ve.action,hasEagerState:ve.hasEagerState,eagerState:ve.eagerState,next:null},ee===null?(V=ee=be,L=T):ee=ee.next=be,Wt.lanes|=ze,Za|=ze;ve=ve.next}while(ve!==null&&ve!==l);if(ee===null?L=T:ee.next=V,!Us(T,a.memoizedState)&&(Hi=!0,Ne&&(d=Uc,d!==null)))throw d;a.memoizedState=T,a.baseState=L,a.baseQueue=ee,g.lastRenderedState=T}return A===null&&(g.lanes=0),[a.memoizedState,g.dispatch]}function Am(a){var l=Ai(),d=l.queue;if(d===null)throw Error(i(311));d.lastRenderedReducer=a;var g=d.dispatch,A=d.pending,T=l.memoizedState;if(A!==null){d.pending=null;var L=A=A.next;do T=a(T,L.action),L=L.next;while(L!==A);Us(T,l.memoizedState)||(Hi=!0),l.memoizedState=T,l.baseQueue===null&&(l.baseState=T),d.lastRenderedState=T}return[T,g]}function cy(a,l,d){var g=Wt,A=Ai(),T=Mn;if(T){if(d===void 0)throw Error(i(407));d=d()}else d=l();var L=!Us((Nn||A).memoizedState,d);L&&(A.memoizedState=d,Hi=!0),A=A.queue;var V=fy.bind(null,g,A,a);if(Gc(2048,8,V,[a]),A.getSnapshot!==l||L||_i!==null&&_i.memoizedState.tag&1){if(g.flags|=2048,Hc(9,hf(),uy.bind(null,g,A,d,l),null),jt===null)throw Error(i(349));T||($r&124)!==0||zc(g,l,d)}return d}function zc(a,l,d){a.flags|=16384,a={getSnapshot:l,value:d},l=Wt.updateQueue,l===null?(l=Vo(),Wt.updateQueue=l,l.stores=[a]):(d=l.stores,d===null?l.stores=[a]:d.push(a))}function uy(a,l,d,g){l.value=d,l.getSnapshot=g,hy(l)&&dy(a)}function fy(a,l,d){return d(function(){hy(l)&&dy(a)})}function hy(a){var l=a.getSnapshot;a=a.value;try{var d=l();return!Us(a,d)}catch{return!0}}function dy(a){var l=qr(a,2);l!==null&&Ts(l,a,2)}function bm(a){var l=Ss();if(typeof a=="function"){var d=a;if(a=d(),bs){we(!0);try{d()}finally{we(!1)}}}return l.memoizedState=l.baseState=a,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:to,lastRenderedState:a},l}function py(a,l,d,g){return a.baseState=d,_m(a,Nn,typeof g=="function"?g:to)}function bA(a,l,d,g,A){if(ed(a))throw Error(i(485));if(a=l.action,a!==null){var T={payload:A,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(L){T.listeners.push(L)}};F.T!==null?d(!0):T.isTransition=!1,g(T),d=l.pending,d===null?(T.next=l.pending=T,my(l,T)):(T.next=d.next,l.pending=d.next=T)}}function my(a,l){var d=l.action,g=l.payload,A=a.state;if(l.isTransition){var T=F.T,L={};F.T=L;try{var V=d(A,g),ee=F.S;ee!==null&&ee(L,V),gy(a,l,V)}catch(ve){Sm(a,l,ve)}finally{F.T=T}}else try{T=d(A,g),gy(a,l,T)}catch(ve){Sm(a,l,ve)}}function gy(a,l,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(g){yy(a,l,g)},function(g){return Sm(a,l,g)}):yy(a,l,d)}function yy(a,l,d){l.status="fulfilled",l.value=d,vy(l),a.state=d,l=a.pending,l!==null&&(d=l.next,d===l?a.pending=null:(d=d.next,l.next=d,my(a,d)))}function Sm(a,l,d){var g=a.pending;if(a.pending=null,g!==null){g=g.next;do l.status="rejected",l.reason=d,vy(l),l=l.next;while(l!==g)}a.action=null}function vy(a){a=a.listeners;for(var l=0;l<a.length;l++)(0,a[l])()}function Mm(a,l){return l}function xy(a,l){if(Mn){var d=jt.formState;if(d!==null){e:{var g=Wt;if(Mn){if(ei){t:{for(var A=ei,T=Js;A.nodeType!==8;){if(!T){A=null;break t}if(A=lo(A.nextSibling),A===null){A=null;break t}}T=A.data,A=T==="F!"||T==="F"?A:null}if(A){ei=lo(A.nextSibling),g=A.data==="F!";break e}}Io(g)}g=!1}g&&(l=d[0])}}return d=Ss(),d.memoizedState=d.baseState=l,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mm,lastRenderedState:l},d.queue=g,d=Ny.bind(null,Wt,g),g.dispatch=d,g=bm(!1),T=$h.bind(null,Wt,!1,g.queue),g=Ss(),A={state:l,dispatch:null,action:a,pending:null},g.queue=A,d=bA.bind(null,Wt,A,T,d),A.dispatch=d,g.memoizedState=a,[l,d,!1]}function _y(a){var l=Ai();return Ay(l,Nn,a)}function Ay(a,l,d){if(l=_m(a,l,Mm)[0],a=ko(to)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var g=ja(l)}catch(L){throw L===lf?Xa:L}else g=l;l=Ai();var A=l.queue,T=A.dispatch;return d!==l.memoizedState&&(Wt.flags|=2048,Hc(9,hf(),SA.bind(null,A,d),null)),[g,T,a]}function SA(a,l){a.action=l}function by(a){var l=Ai(),d=Nn;if(d!==null)return Ay(l,d,a);Ai(),l=l.memoizedState,d=Ai();var g=d.queue.dispatch;return d.memoizedState=a,[l,g,!1]}function Hc(a,l,d,g){return a={tag:a,create:d,deps:g,inst:l,next:null},l=Wt.updateQueue,l===null&&(l=Vo(),Wt.updateQueue=l),d=l.lastEffect,d===null?l.lastEffect=a.next=a:(g=d.next,d.next=a,a.next=g,l.lastEffect=a),a}function hf(){return{destroy:void 0,resource:void 0}}function Em(){return Ai().memoizedState}function Jh(a,l,d,g){var A=Ss();g=g===void 0?null:g,Wt.flags|=a,A.memoizedState=Hc(1|l,hf(),d,g)}function Gc(a,l,d,g){var A=Ai();g=g===void 0?null:g;var T=A.memoizedState.inst;Nn!==null&&g!==null&&ls(g,Nn.memoizedState.deps)?A.memoizedState=Hc(l,T,d,g):(Wt.flags|=a,A.memoizedState=Hc(1|l,T,d,g))}function Tm(a,l){Jh(8390656,8,a,l)}function Cm(a,l){Gc(2048,8,a,l)}function Kh(a,l){return Gc(4,2,a,l)}function Qh(a,l){return Gc(4,4,a,l)}function Sy(a,l){if(typeof l=="function"){a=a();var d=l(a);return function(){typeof d=="function"?d():l(null)}}if(l!=null)return a=a(),l.current=a,function(){l.current=null}}function My(a,l,d){d=d!=null?d.concat([a]):null,Gc(4,4,Sy.bind(null,l,a),d)}function Rm(){}function Ey(a,l){var d=Ai();l=l===void 0?null:l;var g=d.memoizedState;return l!==null&&ls(l,g[1])?g[0]:(d.memoizedState=[a,l],a)}function wm(a,l){var d=Ai();l=l===void 0?null:l;var g=d.memoizedState;if(l!==null&&ls(l,g[1]))return g[0];if(g=a(),bs){we(!0);try{a()}finally{we(!1)}}return d.memoizedState=[g,l],g}function Zh(a,l,d){return d===void 0||($r&1073741824)!==0?a.memoizedState=l:(a.memoizedState=d,a=hd(),Wt.lanes|=a,Za|=a,d)}function Ty(a,l,d,g){return Us(d,l)?d:Fc.current!==null?(a=Zh(a,d,g),Us(a,l)||(Hi=!0),a):($r&42)===0?(Hi=!0,a.memoizedState=d):(a=hd(),Wt.lanes|=a,Za|=a,l)}function Cy(a,l,d,g,A){var T=q.p;q.p=T!==0&&8>T?T:8;var L=F.T,V={};F.T=V,$h(a,!1,l,d);try{var ee=A(),ve=F.S;if(ve!==null&&ve(V,ee),ee!==null&&typeof ee=="object"&&typeof ee.then=="function"){var Ne=_A(ee,g);df(a,l,Ne,ai(a))}else df(a,l,g,ai(a))}catch(ze){df(a,l,{then:function(){},status:"rejected",reason:ze},ai())}finally{q.p=T,F.T=L}}function MA(){}function Bm(a,l,d,g){if(a.tag!==5)throw Error(i(476));var A=Ry(a).queue;Cy(a,A,l,Y,d===null?MA:function(){return wy(a),d(g)})}function Ry(a){var l=a.memoizedState;if(l!==null)return l;l={memoizedState:Y,baseState:Y,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:to,lastRenderedState:Y},next:null};var d={};return l.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:to,lastRenderedState:d},next:null},a.memoizedState=l,a=a.alternate,a!==null&&(a.memoizedState=l),l}function wy(a){var l=Ry(a).next.queue;df(a,l,{},ai())}function Dm(){return ni(Xm)}function By(){return Ai().memoizedState}function Dy(){return Ai().memoizedState}function EA(a){for(var l=a.return;l!==null;){switch(l.tag){case 24:case 3:var d=ai();a=dr(d);var g=Zr(l,a,d);g!==null&&(Ts(g,l,d),Sl(g,l,d)),l={cache:Hh()},a.payload=l;return}l=l.return}}function TA(a,l,d){var g=ai();d={lane:g,revertLane:0,action:d,hasEagerState:!1,eagerState:null,next:null},ed(a)?Uy(l,d):(d=Oh(a,l,d,g),d!==null&&(Ts(d,a,g),Qs(d,l,g)))}function Ny(a,l,d){var g=ai();df(a,l,d,g)}function df(a,l,d,g){var A={lane:g,revertLane:0,action:d,hasEagerState:!1,eagerState:null,next:null};if(ed(a))Uy(l,A);else{var T=a.alternate;if(a.lanes===0&&(T===null||T.lanes===0)&&(T=l.lastRenderedReducer,T!==null))try{var L=l.lastRenderedState,V=T(L,d);if(A.hasEagerState=!0,A.eagerState=V,Us(V,L))return Uo(a,l,A,0),jt===null&&Qu(),!1}catch{}finally{}if(d=Oh(a,l,A,g),d!==null)return Ts(d,a,g),Qs(d,l,g),!0}return!1}function $h(a,l,d,g){if(g={lane:2,revertLane:wA(),action:g,hasEagerState:!1,eagerState:null,next:null},ed(a)){if(l)throw Error(i(479))}else l=Oh(a,d,g,2),l!==null&&Ts(l,a,2)}function ed(a){var l=a.alternate;return a===Wt||l!==null&&l===Wt}function Uy(a,l){Go=Yh=!0;var d=a.pending;d===null?l.next=l:(l.next=d.next,d.next=l),a.pending=l}function Qs(a,l,d){if((d&4194048)!==0){var g=l.lanes;g&=a.pendingLanes,d|=g,l.lanes=d,pt(a,d)}}var pf={readContext:ni,use:Wh,useCallback:ci,useContext:ci,useEffect:ci,useImperativeHandle:ci,useLayoutEffect:ci,useInsertionEffect:ci,useMemo:ci,useReducer:ci,useRef:ci,useState:ci,useDebugValue:ci,useDeferredValue:ci,useTransition:ci,useSyncExternalStore:ci,useId:ci,useHostTransitionStatus:ci,useFormState:ci,useActionState:ci,useOptimistic:ci,useMemoCache:ci,useCacheRefresh:ci},td={readContext:ni,use:Wh,useCallback:function(a,l){return Ss().memoizedState=[a,l===void 0?null:l],a},useContext:ni,useEffect:Tm,useImperativeHandle:function(a,l,d){d=d!=null?d.concat([a]):null,Jh(4194308,4,Sy.bind(null,l,a),d)},useLayoutEffect:function(a,l){return Jh(4194308,4,a,l)},useInsertionEffect:function(a,l){Jh(4,2,a,l)},useMemo:function(a,l){var d=Ss();l=l===void 0?null:l;var g=a();if(bs){we(!0);try{a()}finally{we(!1)}}return d.memoizedState=[g,l],g},useReducer:function(a,l,d){var g=Ss();if(d!==void 0){var A=d(l);if(bs){we(!0);try{d(l)}finally{we(!1)}}}else A=l;return g.memoizedState=g.baseState=A,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:A},g.queue=a,a=a.dispatch=TA.bind(null,Wt,a),[g.memoizedState,a]},useRef:function(a){var l=Ss();return a={current:a},l.memoizedState=a},useState:function(a){a=bm(a);var l=a.queue,d=Ny.bind(null,Wt,l);return l.dispatch=d,[a.memoizedState,d]},useDebugValue:Rm,useDeferredValue:function(a,l){var d=Ss();return Zh(d,a,l)},useTransition:function(){var a=bm(!1);return a=Cy.bind(null,Wt,a.queue,!0,!1),Ss().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,l,d){var g=Wt,A=Ss();if(Mn){if(d===void 0)throw Error(i(407));d=d()}else{if(d=l(),jt===null)throw Error(i(349));(Dt&124)!==0||zc(g,l,d)}A.memoizedState=d;var T={value:d,getSnapshot:l};return A.queue=T,Tm(fy.bind(null,g,T,a),[a]),g.flags|=2048,Hc(9,hf(),uy.bind(null,g,T,d,l),null),d},useId:function(){var a=Ss(),l=jt.identifierPrefix;if(Mn){var d=fr,g=ur;d=(g&~(1<<32-rt(g)-1)).toString(32)+d,l="«"+l+"R"+d,d=Ti++,0<d&&(l+="H"+d.toString(32)),l+="»"}else d=ry++,l="«"+l+"r"+d.toString(32)+"»";return a.memoizedState=l},useHostTransitionStatus:Dm,useFormState:xy,useActionState:xy,useOptimistic:function(a){var l=Ss();l.memoizedState=l.baseState=a;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=d,l=$h.bind(null,Wt,!0,d),d.dispatch=l,[a,l]},useMemoCache:xm,useCacheRefresh:function(){return Ss().memoizedState=EA.bind(null,Wt)}},Nm={readContext:ni,use:Wh,useCallback:Ey,useContext:ni,useEffect:Cm,useImperativeHandle:My,useInsertionEffect:Kh,useLayoutEffect:Qh,useMemo:wm,useReducer:ko,useRef:Em,useState:function(){return ko(to)},useDebugValue:Rm,useDeferredValue:function(a,l){var d=Ai();return Ty(d,Nn.memoizedState,a,l)},useTransition:function(){var a=ko(to)[0],l=Ai().memoizedState;return[typeof a=="boolean"?a:ja(a),l]},useSyncExternalStore:cy,useId:By,useHostTransitionStatus:Dm,useFormState:_y,useActionState:_y,useOptimistic:function(a,l){var d=Ai();return py(d,Nn,a,l)},useMemoCache:xm,useCacheRefresh:Dy},Ly={readContext:ni,use:Wh,useCallback:Ey,useContext:ni,useEffect:Cm,useImperativeHandle:My,useInsertionEffect:Kh,useLayoutEffect:Qh,useMemo:wm,useReducer:Am,useRef:Em,useState:function(){return Am(to)},useDebugValue:Rm,useDeferredValue:function(a,l){var d=Ai();return Nn===null?Zh(d,a,l):Ty(d,Nn.memoizedState,a,l)},useTransition:function(){var a=Am(to)[0],l=Ai().memoizedState;return[typeof a=="boolean"?a:ja(a),l]},useSyncExternalStore:cy,useId:By,useHostTransitionStatus:Dm,useFormState:by,useActionState:by,useOptimistic:function(a,l){var d=Ai();return Nn!==null?py(d,Nn,a,l):(d.baseState=a,[a,d.queue.dispatch])},useMemoCache:xm,useCacheRefresh:Dy},Ml=null,mf=0;function gf(a){var l=mf;return mf+=1,Ml===null&&(Ml=[]),Xh(Ml,a,l)}function Vc(a,l){l=l.props.ref,a.ref=l!==void 0?l:null}function nd(a,l){throw l.$$typeof===y?Error(i(525)):(a=Object.prototype.toString.call(l),Error(i(31,a==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":a)))}function Oy(a){var l=a._init;return l(a._payload)}function Py(a){function l(he,re){if(a){var ye=he.deletions;ye===null?(he.deletions=[re],he.flags|=16):ye.push(re)}}function d(he,re){if(!a)return null;for(;re!==null;)l(he,re),re=re.sibling;return null}function g(he){for(var re=new Map;he!==null;)he.key!==null?re.set(he.key,he):re.set(he.index,he),he=he.sibling;return re}function A(he,re){return he=li(he,re),he.index=0,he.sibling=null,he}function T(he,re,ye){return he.index=ye,a?(ye=he.alternate,ye!==null?(ye=ye.index,ye<re?(he.flags|=67108866,re):ye):(he.flags|=67108866,re)):(he.flags|=1048576,re)}function L(he){return a&&he.alternate===null&&(he.flags|=67108866),he}function V(he,re,ye,Le){return re===null||re.tag!==6?(re=$u(ye,he.mode,Le),re.return=he,re):(re=A(re,ye),re.return=he,re)}function ee(he,re,ye,Le){var yt=ye.type;return yt===M?Ne(he,re,ye.props.children,Le,ye.key):re!==null&&(re.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===z&&Oy(yt)===re.type)?(re=A(re,ye.props),Vc(re,ye),re.return=he,re):(re=zi(ye.type,ye.key,ye.props,null,he.mode,Le),Vc(re,ye),re.return=he,re)}function ve(he,re,ye,Le){return re===null||re.tag!==4||re.stateNode.containerInfo!==ye.containerInfo||re.stateNode.implementation!==ye.implementation?(re=Ph(ye,he.mode,Le),re.return=he,re):(re=A(re,ye.children||[]),re.return=he,re)}function Ne(he,re,ye,Le,yt){return re===null||re.tag!==7?(re=Oo(ye,he.mode,Le,yt),re.return=he,re):(re=A(re,ye),re.return=he,re)}function ze(he,re,ye){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return re=$u(""+re,he.mode,ye),re.return=he,re;if(typeof re=="object"&&re!==null){switch(re.$$typeof){case x:return ye=zi(re.type,re.key,re.props,null,he.mode,ye),Vc(ye,re),ye.return=he,ye;case _:return re=Ph(re,he.mode,ye),re.return=he,re;case z:var Le=re._init;return re=Le(re._payload),ze(he,re,ye)}if(fe(re)||ce(re))return re=Oo(re,he.mode,ye,null),re.return=he,re;if(typeof re.then=="function")return ze(he,gf(re),ye);if(re.$$typeof===B)return ze(he,sf(he,re),ye);nd(he,re)}return null}function be(he,re,ye,Le){var yt=re!==null?re.key:null;if(typeof ye=="string"&&ye!==""||typeof ye=="number"||typeof ye=="bigint")return yt!==null?null:V(he,re,""+ye,Le);if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case x:return ye.key===yt?ee(he,re,ye,Le):null;case _:return ye.key===yt?ve(he,re,ye,Le):null;case z:return yt=ye._init,ye=yt(ye._payload),be(he,re,ye,Le)}if(fe(ye)||ce(ye))return yt!==null?null:Ne(he,re,ye,Le,null);if(typeof ye.then=="function")return be(he,re,gf(ye),Le);if(ye.$$typeof===B)return be(he,re,sf(he,ye),Le);nd(he,ye)}return null}function Ee(he,re,ye,Le,yt){if(typeof Le=="string"&&Le!==""||typeof Le=="number"||typeof Le=="bigint")return he=he.get(ye)||null,V(re,he,""+Le,yt);if(typeof Le=="object"&&Le!==null){switch(Le.$$typeof){case x:return he=he.get(Le.key===null?ye:Le.key)||null,ee(re,he,Le,yt);case _:return he=he.get(Le.key===null?ye:Le.key)||null,ve(re,he,Le,yt);case z:var fn=Le._init;return Le=fn(Le._payload),Ee(he,re,ye,Le,yt)}if(fe(Le)||ce(Le))return he=he.get(ye)||null,Ne(re,he,Le,yt,null);if(typeof Le.then=="function")return Ee(he,re,ye,gf(Le),yt);if(Le.$$typeof===B)return Ee(he,re,ye,sf(re,Le),yt);nd(re,Le)}return null}function kt(he,re,ye,Le){for(var yt=null,fn=null,Ct=re,zt=re=0,fs=null;Ct!==null&&zt<ye.length;zt++){Ct.index>zt?(fs=Ct,Ct=null):fs=Ct.sibling;var Dn=be(he,Ct,ye[zt],Le);if(Dn===null){Ct===null&&(Ct=fs);break}a&&Ct&&Dn.alternate===null&&l(he,Ct),re=T(Dn,re,zt),fn===null?yt=Dn:fn.sibling=Dn,fn=Dn,Ct=fs}if(zt===ye.length)return d(he,Ct),Mn&&Wr(he,zt),yt;if(Ct===null){for(;zt<ye.length;zt++)Ct=ze(he,ye[zt],Le),Ct!==null&&(re=T(Ct,re,zt),fn===null?yt=Ct:fn.sibling=Ct,fn=Ct);return Mn&&Wr(he,zt),yt}for(Ct=g(Ct);zt<ye.length;zt++)fs=Ee(Ct,he,zt,ye[zt],Le),fs!==null&&(a&&fs.alternate!==null&&Ct.delete(fs.key===null?zt:fs.key),re=T(fs,re,zt),fn===null?yt=fs:fn.sibling=fs,fn=fs);return a&&Ct.forEach(function(au){return l(he,au)}),Mn&&Wr(he,zt),yt}function Ft(he,re,ye,Le){if(ye==null)throw Error(i(151));for(var yt=null,fn=null,Ct=re,zt=re=0,fs=null,Dn=ye.next();Ct!==null&&!Dn.done;zt++,Dn=ye.next()){Ct.index>zt?(fs=Ct,Ct=null):fs=Ct.sibling;var au=be(he,Ct,Dn.value,Le);if(au===null){Ct===null&&(Ct=fs);break}a&&Ct&&au.alternate===null&&l(he,Ct),re=T(au,re,zt),fn===null?yt=au:fn.sibling=au,fn=au,Ct=fs}if(Dn.done)return d(he,Ct),Mn&&Wr(he,zt),yt;if(Ct===null){for(;!Dn.done;zt++,Dn=ye.next())Dn=ze(he,Dn.value,Le),Dn!==null&&(re=T(Dn,re,zt),fn===null?yt=Dn:fn.sibling=Dn,fn=Dn);return Mn&&Wr(he,zt),yt}for(Ct=g(Ct);!Dn.done;zt++,Dn=ye.next())Dn=Ee(Ct,he,zt,Dn.value,Le),Dn!==null&&(a&&Dn.alternate!==null&&Ct.delete(Dn.key===null?zt:Dn.key),re=T(Dn,re,zt),fn===null?yt=Dn:fn.sibling=Dn,fn=Dn);return a&&Ct.forEach(function(jL){return l(he,jL)}),Mn&&Wr(he,zt),yt}function Jn(he,re,ye,Le){if(typeof ye=="object"&&ye!==null&&ye.type===M&&ye.key===null&&(ye=ye.props.children),typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case x:e:{for(var yt=ye.key;re!==null;){if(re.key===yt){if(yt=ye.type,yt===M){if(re.tag===7){d(he,re.sibling),Le=A(re,ye.props.children),Le.return=he,he=Le;break e}}else if(re.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===z&&Oy(yt)===re.type){d(he,re.sibling),Le=A(re,ye.props),Vc(Le,ye),Le.return=he,he=Le;break e}d(he,re);break}else l(he,re);re=re.sibling}ye.type===M?(Le=Oo(ye.props.children,he.mode,Le,ye.key),Le.return=he,he=Le):(Le=zi(ye.type,ye.key,ye.props,null,he.mode,Le),Vc(Le,ye),Le.return=he,he=Le)}return L(he);case _:e:{for(yt=ye.key;re!==null;){if(re.key===yt)if(re.tag===4&&re.stateNode.containerInfo===ye.containerInfo&&re.stateNode.implementation===ye.implementation){d(he,re.sibling),Le=A(re,ye.children||[]),Le.return=he,he=Le;break e}else{d(he,re);break}else l(he,re);re=re.sibling}Le=Ph(ye,he.mode,Le),Le.return=he,he=Le}return L(he);case z:return yt=ye._init,ye=yt(ye._payload),Jn(he,re,ye,Le)}if(fe(ye))return kt(he,re,ye,Le);if(ce(ye)){if(yt=ce(ye),typeof yt!="function")throw Error(i(150));return ye=yt.call(ye),Ft(he,re,ye,Le)}if(typeof ye.then=="function")return Jn(he,re,gf(ye),Le);if(ye.$$typeof===B)return Jn(he,re,sf(he,ye),Le);nd(he,ye)}return typeof ye=="string"&&ye!==""||typeof ye=="number"||typeof ye=="bigint"?(ye=""+ye,re!==null&&re.tag===6?(d(he,re.sibling),Le=A(re,ye),Le.return=he,he=Le):(d(he,re),Le=$u(ye,he.mode,Le),Le.return=he,he=Le),L(he)):d(he,re)}return function(he,re,ye,Le){try{mf=0;var yt=Jn(he,re,ye,Le);return Ml=null,yt}catch(Ct){if(Ct===lf||Ct===Xa)throw Ct;var fn=Ps(29,Ct,null,he.mode);return fn.lanes=Le,fn.return=he,fn}finally{}}}var El=Py(!0),Iy=Py(!1),zn=ie(null),Ya=null;function Xo(a){var l=a.alternate;_e(ui,ui.current&1),_e(zn,a),Ya===null&&(l===null||Fc.current!==null||l.memoizedState!==null)&&(Ya=a)}function Fy(a){if(a.tag===22){if(_e(ui,ui.current),_e(zn,a),Ya===null){var l=a.alternate;l!==null&&l.memoizedState!==null&&(Ya=a)}}else jo()}function jo(){_e(ui,ui.current),_e(zn,zn.current)}function pr(a){xe(zn),Ya===a&&(Ya=null),xe(ui)}var ui=ie(0);function no(a){for(var l=a;l!==null;){if(l.tag===13){var d=l.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||GA(d)))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}function Yo(a,l,d,g){l=a.memoizedState,d=d(g,l),d=d==null?l:m({},l,d),a.memoizedState=d,a.lanes===0&&(a.updateQueue.baseState=d)}var Ms={enqueueSetState:function(a,l,d){a=a._reactInternals;var g=ai(),A=dr(g);A.payload=l,d!=null&&(A.callback=d),l=Zr(a,A,g),l!==null&&(Ts(l,a,g),Sl(l,a,g))},enqueueReplaceState:function(a,l,d){a=a._reactInternals;var g=ai(),A=dr(g);A.tag=1,A.payload=l,d!=null&&(A.callback=d),l=Zr(a,A,g),l!==null&&(Ts(l,a,g),Sl(l,a,g))},enqueueForceUpdate:function(a,l){a=a._reactInternals;var d=ai(),g=dr(d);g.tag=2,l!=null&&(g.callback=l),l=Zr(a,g,d),l!==null&&(Ts(l,a,d),Sl(l,a,d))}};function zy(a,l,d,g,A,T,L){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(g,T,L):l.prototype&&l.prototype.isPureReactComponent?!Va(d,g)||!Va(A,T):!0}function Hy(a,l,d,g){a=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(d,g),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(d,g),l.state!==a&&Ms.enqueueReplaceState(l,l.state,null)}function mr(a,l){var d=l;if("ref"in l){d={};for(var g in l)g!=="ref"&&(d[g]=l[g])}if(a=a.defaultProps){d===l&&(d=m({},d));for(var A in a)d[A]===void 0&&(d[A]=a[A])}return d}var Tl=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)};function yf(a){Tl(a)}function id(a){console.error(a)}function Gy(a){Tl(a)}function sd(a,l){try{var d=a.onUncaughtError;d(l.value,{componentStack:l.stack})}catch(g){setTimeout(function(){throw g})}}function Sa(a,l,d){try{var g=a.onCaughtError;g(d.value,{componentStack:d.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(A){setTimeout(function(){throw A})}}function ad(a,l,d){return d=dr(d),d.tag=3,d.payload={element:null},d.callback=function(){sd(a,l)},d}function Vy(a){return a=dr(a),a.tag=3,a}function rd(a,l,d,g){var A=d.type.getDerivedStateFromError;if(typeof A=="function"){var T=g.value;a.payload=function(){return A(T)},a.callback=function(){Sa(l,d,g)}}var L=d.stateNode;L!==null&&typeof L.componentDidCatch=="function"&&(a.callback=function(){Sa(l,d,g),typeof A!="function"&&(aa===null?aa=new Set([this]):aa.add(this));var V=g.stack;this.componentDidCatch(g.value,{componentStack:V!==null?V:""})})}function CA(a,l,d,g,A){if(d.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){if(l=d.alternate,l!==null&&xa(l,d,A,!0),d=zn.current,d!==null){switch(d.tag){case 13:return Ya===null?c():d.alternate===null&&Kn===0&&(Kn=3),d.flags&=-257,d.flags|=65536,d.lanes=A,g===cf?d.flags|=16384:(l=d.updateQueue,l===null?d.updateQueue=new Set([g]):l.add(g),Te(a,g,A)),!1;case 22:return d.flags|=65536,g===cf?d.flags|=16384:(l=d.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([g])},d.updateQueue=l):(d=l.retryQueue,d===null?l.retryQueue=new Set([g]):d.add(g)),Te(a,g,A)),!1}throw Error(i(435,d.tag))}return Te(a,g,A),c(),!1}if(Mn)return l=zn.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=A,g!==Fh&&(a=Error(i(422),{cause:g}),bl(Ki(a,d)))):(g!==Fh&&(l=Error(i(423),{cause:g}),bl(Ki(l,d))),a=a.current.alternate,a.flags|=65536,A&=-A,a.lanes|=A,g=Ki(g,d),A=ad(a.stateNode,g,A),Oc(a,A),Kn!==4&&(Kn=2)),!1;var T=Error(i(520),{cause:g});if(T=Ki(T,d),Bn===null?Bn=[T]:Bn.push(T),Kn!==4&&(Kn=2),l===null)return!0;g=Ki(g,d),d=l;do{switch(d.tag){case 3:return d.flags|=65536,a=A&-A,d.lanes|=a,a=ad(d.stateNode,g,a),Oc(d,a),!1;case 1:if(l=d.type,T=d.stateNode,(d.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(aa===null||!aa.has(T))))return d.flags|=65536,A&=-A,d.lanes|=A,A=Vy(A),rd(A,a,d,g),Oc(d,A),!1}d=d.return}while(d!==null);return!1}var ky=Error(i(461)),Hi=!1;function fi(a,l,d,g){l.child=a===null?Iy(l,null,d,g):El(l,a.child,d,g)}function Fs(a,l,d,g,A){d=d.render;var T=l.ref;if("ref"in g){var L={};for(var V in g)V!=="ref"&&(L[V]=g[V])}else L=g;return hr(l),g=eo(a,l,d,L,T,A),V=ym(),a!==null&&!Hi?(qh(a,l,A),Gi(a,l,A)):(Mn&&V&&rm(l),l.flags|=1,fi(a,l,g,A),l.child)}function zs(a,l,d,g,A){if(a===null){var T=d.type;return typeof T=="function"&&!Zu(T)&&T.defaultProps===void 0&&d.compare===null?(l.tag=15,l.type=T,Um(a,l,T,g,A)):(a=zi(d.type,null,g,l,l.mode,A),a.ref=l.ref,a.return=l,l.child=a)}if(T=a.child,!vf(a,A)){var L=T.memoizedProps;if(d=d.compare,d=d!==null?d:Va,d(L,g)&&a.ref===l.ref)return Gi(a,l,A)}return l.flags|=1,a=li(T,g),a.ref=l.ref,a.return=l,l.child=a}function Um(a,l,d,g,A){if(a!==null){var T=a.memoizedProps;if(Va(T,g)&&a.ref===l.ref)if(Hi=!1,l.pendingProps=g=T,vf(a,A))(a.flags&131072)!==0&&(Hi=!0);else return l.lanes=a.lanes,Gi(a,l,A)}return kc(a,l,d,g,A)}function Cl(a,l,d){var g=l.pendingProps,A=g.children,T=a!==null?a.memoizedState:null;if(g.mode==="hidden"){if((l.flags&128)!==0){if(g=T!==null?T.baseLanes|d:d,a!==null){for(A=l.child=a.child,T=0;A!==null;)T=T|A.lanes|A.childLanes,A=A.sibling;l.childLanes=T&~g}else l.childLanes=0,l.child=null;return Rl(a,l,g,d)}if((d&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},a!==null&&of(l,T!==null?T.cachePool:null),T!==null?ay(l,T):gm(),Fy(l);else return l.lanes=l.childLanes=536870912,Rl(a,l,T!==null?T.baseLanes|d:d,d)}else T!==null?(of(l,T.cachePool),ay(l,T),jo(),l.memoizedState=null):(a!==null&&of(l,null),gm(),jo());return fi(a,l,A,d),l.child}function Rl(a,l,d,g){var A=Ho();return A=A===null?null:{parent:xi._currentValue,pool:A},l.memoizedState={baseLanes:d,cachePool:A},a!==null&&of(l,null),gm(),Fy(l),a!==null&&xa(a,l,g,!0),null}function wl(a,l){var d=l.ref;if(d===null)a!==null&&a.ref!==null&&(l.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(i(284));(a===null||a.ref!==d)&&(l.flags|=4194816)}}function kc(a,l,d,g,A){return hr(l),d=eo(a,l,d,g,void 0,A),g=ym(),a!==null&&!Hi?(qh(a,l,A),Gi(a,l,A)):(Mn&&g&&rm(l),l.flags|=1,fi(a,l,d,A),l.child)}function Zs(a,l,d,g,A,T){return hr(l),l.updateQueue=null,d=ly(l,g,d,A),oy(a),g=ym(),a!==null&&!Hi?(qh(a,l,T),Gi(a,l,T)):(Mn&&g&&rm(l),l.flags|=1,fi(a,l,d,T),l.child)}function $s(a,l,d,g,A){if(hr(l),l.stateNode===null){var T=Lo,L=d.contextType;typeof L=="object"&&L!==null&&(T=ni(L)),T=new d(g,T),l.memoizedState=T.state!==null&&T.state!==void 0?T.state:null,T.updater=Ms,l.stateNode=T,T._reactInternals=l,T=l.stateNode,T.props=g,T.state=l.memoizedState,T.refs={},pm(l),L=d.contextType,T.context=typeof L=="object"&&L!==null?ni(L):Lo,T.state=l.memoizedState,L=d.getDerivedStateFromProps,typeof L=="function"&&(Yo(l,d,L,g),T.state=l.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof T.getSnapshotBeforeUpdate=="function"||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(L=T.state,typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount(),L!==T.state&&Ms.enqueueReplaceState(T,T.state,null),Pc(l,g,T,A),uf(),T.state=l.memoizedState),typeof T.componentDidMount=="function"&&(l.flags|=4194308),g=!0}else if(a===null){T=l.stateNode;var V=l.memoizedProps,ee=mr(d,V);T.props=ee;var ve=T.context,Ne=d.contextType;L=Lo,typeof Ne=="object"&&Ne!==null&&(L=ni(Ne));var ze=d.getDerivedStateFromProps;Ne=typeof ze=="function"||typeof T.getSnapshotBeforeUpdate=="function",V=l.pendingProps!==V,Ne||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(V||ve!==L)&&Hy(l,T,g,L),Qr=!1;var be=l.memoizedState;T.state=be,Pc(l,g,T,A),uf(),ve=l.memoizedState,V||be!==ve||Qr?(typeof ze=="function"&&(Yo(l,d,ze,g),ve=l.memoizedState),(ee=Qr||zy(l,d,ee,g,be,ve,L))?(Ne||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(l.flags|=4194308)):(typeof T.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=g,l.memoizedState=ve),T.props=g,T.state=ve,T.context=L,g=ee):(typeof T.componentDidMount=="function"&&(l.flags|=4194308),g=!1)}else{T=l.stateNode,Gt(a,l),L=l.memoizedProps,Ne=mr(d,L),T.props=Ne,ze=l.pendingProps,be=T.context,ve=d.contextType,ee=Lo,typeof ve=="object"&&ve!==null&&(ee=ni(ve)),V=d.getDerivedStateFromProps,(ve=typeof V=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(L!==ze||be!==ee)&&Hy(l,T,g,ee),Qr=!1,be=l.memoizedState,T.state=be,Pc(l,g,T,A),uf();var Ee=l.memoizedState;L!==ze||be!==Ee||Qr||a!==null&&a.dependencies!==null&&nf(a.dependencies)?(typeof V=="function"&&(Yo(l,d,V,g),Ee=l.memoizedState),(Ne=Qr||zy(l,d,Ne,g,be,Ee,ee)||a!==null&&a.dependencies!==null&&nf(a.dependencies))?(ve||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(g,Ee,ee),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(g,Ee,ee)),typeof T.componentDidUpdate=="function"&&(l.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof T.componentDidUpdate!="function"||L===a.memoizedProps&&be===a.memoizedState||(l.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||L===a.memoizedProps&&be===a.memoizedState||(l.flags|=1024),l.memoizedProps=g,l.memoizedState=Ee),T.props=g,T.state=Ee,T.context=ee,g=Ne):(typeof T.componentDidUpdate!="function"||L===a.memoizedProps&&be===a.memoizedState||(l.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||L===a.memoizedProps&&be===a.memoizedState||(l.flags|=1024),g=!1)}return T=g,wl(a,l),g=(l.flags&128)!==0,T||g?(T=l.stateNode,d=g&&typeof d.getDerivedStateFromError!="function"?null:T.render(),l.flags|=1,a!==null&&g?(l.child=El(l,a.child,null,A),l.child=El(l,null,d,A)):fi(a,l,d,A),l.memoizedState=T.state,a=l.child):a=Gi(a,l,A),a}function qo(a,l,d,g){return Bc(),l.flags|=256,fi(a,l,d,g),l.child}var qa={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Wa(a){return{baseLanes:a,cachePool:Vh()}}function Ci(a,l,d){return a=a!==null?a.childLanes&~d:0,l&&(a|=Ra),a}function Xc(a,l,d){var g=l.pendingProps,A=!1,T=(l.flags&128)!==0,L;if((L=T)||(L=a!==null&&a.memoizedState===null?!1:(ui.current&2)!==0),L&&(A=!0,l.flags&=-129),L=(l.flags&32)!==0,l.flags&=-33,a===null){if(Mn){if(A?Xo(l):jo(),Mn){var V=ei,ee;if(ee=V){e:{for(ee=V,V=Js;ee.nodeType!==8;){if(!V){V=null;break e}if(ee=lo(ee.nextSibling),ee===null){V=null;break e}}V=ee}V!==null?(l.memoizedState={dehydrated:V,treeContext:Po!==null?{id:ur,overflow:fr}:null,retryLane:536870912,hydrationErrors:null},ee=Ps(18,null,null,0),ee.stateNode=V,ee.return=l,l.child=ee,As=l,ei=null,ee=!0):ee=!1}ee||Io(l)}if(V=l.memoizedState,V!==null&&(V=V.dehydrated,V!==null))return GA(V)?l.lanes=32:l.lanes=536870912,null;pr(l)}return V=g.children,g=g.fallback,A?(jo(),A=l.mode,V=Bl({mode:"hidden",children:V},A),g=Oo(g,A,d,null),V.return=l,g.return=l,V.sibling=g,l.child=V,A=l.child,A.memoizedState=Wa(d),A.childLanes=Ci(a,L,d),l.memoizedState=qa,g):(Xo(l),gr(l,V))}if(ee=a.memoizedState,ee!==null&&(V=ee.dehydrated,V!==null)){if(T)l.flags&256?(Xo(l),l.flags&=-257,l=$i(a,l,d)):l.memoizedState!==null?(jo(),l.child=a.child,l.flags|=128,l=null):(jo(),A=g.fallback,V=l.mode,g=Bl({mode:"visible",children:g.children},V),A=Oo(A,V,d,null),A.flags|=2,g.return=l,A.return=l,g.sibling=A,l.child=g,El(l,a.child,null,d),g=l.child,g.memoizedState=Wa(d),g.childLanes=Ci(a,L,d),l.memoizedState=qa,l=A);else if(Xo(l),GA(V)){if(L=V.nextSibling&&V.nextSibling.dataset,L)var ve=L.dgst;L=ve,g=Error(i(419)),g.stack="",g.digest=L,bl({value:g,source:null,stack:null}),l=$i(a,l,d)}else if(Hi||xa(a,l,d,!1),L=(d&a.childLanes)!==0,Hi||L){if(L=jt,L!==null&&(g=d&-d,g=(g&42)!==0?1:Pt(g),g=(g&(L.suspendedLanes|d))!==0?0:g,g!==0&&g!==ee.retryLane))throw ee.retryLane=g,qr(a,g),Ts(L,a,g),ky;V.data==="$?"||c(),l=$i(a,l,d)}else V.data==="$?"?(l.flags|=192,l.child=a.child,l=null):(a=ee.treeContext,ei=lo(V.nextSibling),As=l,Mn=!0,va=null,Js=!1,a!==null&&(Qi[Ws++]=ur,Qi[Ws++]=fr,Qi[Ws++]=Po,ur=a.id,fr=a.overflow,Po=l),l=gr(l,g.children),l.flags|=4096);return l}return A?(jo(),A=g.fallback,V=l.mode,ee=a.child,ve=ee.sibling,g=li(ee,{mode:"hidden",children:g.children}),g.subtreeFlags=ee.subtreeFlags&65011712,ve!==null?A=li(ve,A):(A=Oo(A,V,d,null),A.flags|=2),A.return=l,g.return=l,g.sibling=A,l.child=g,g=A,A=l.child,V=a.child.memoizedState,V===null?V=Wa(d):(ee=V.cachePool,ee!==null?(ve=xi._currentValue,ee=ee.parent!==ve?{parent:ve,pool:ve}:ee):ee=Vh(),V={baseLanes:V.baseLanes|d,cachePool:ee}),A.memoizedState=V,A.childLanes=Ci(a,L,d),l.memoizedState=qa,g):(Xo(l),d=a.child,a=d.sibling,d=li(d,{mode:"visible",children:g.children}),d.return=l,d.sibling=null,a!==null&&(L=l.deletions,L===null?(l.deletions=[a],l.flags|=16):L.push(a)),l.child=d,l.memoizedState=null,d)}function gr(a,l){return l=Bl({mode:"visible",children:l},a.mode),l.return=a,a.child=l}function Bl(a,l){return a=Ps(22,a,null,l),a.lanes=0,a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},a}function $i(a,l,d){return El(l,a.child,null,d),a=gr(l,l.pendingProps.children),a.flags|=2,l.memoizedState=null,a}function es(a,l,d){a.lanes|=l;var g=a.alternate;g!==null&&(g.lanes|=l),um(a.return,l,d)}function vn(a,l,d,g,A){var T=a.memoizedState;T===null?a.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:g,tail:d,tailMode:A}:(T.isBackwards=l,T.rendering=null,T.renderingStartTime=0,T.last=g,T.tail=d,T.tailMode=A)}function Ma(a,l,d){var g=l.pendingProps,A=g.revealOrder,T=g.tail;if(fi(a,l,g.children,d),g=ui.current,(g&2)!==0)g=g&1|2,l.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=l.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&es(a,d,l);else if(a.tag===19)es(a,d,l);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===l)break e;for(;a.sibling===null;){if(a.return===null||a.return===l)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}g&=1}switch(_e(ui,g),A){case"forwards":for(d=l.child,A=null;d!==null;)a=d.alternate,a!==null&&no(a)===null&&(A=d),d=d.sibling;d=A,d===null?(A=l.child,l.child=null):(A=d.sibling,d.sibling=null),vn(l,!1,A,d,T);break;case"backwards":for(d=null,A=l.child,l.child=null;A!==null;){if(a=A.alternate,a!==null&&no(a)===null){l.child=A;break}a=A.sibling,A.sibling=d,d=A,A=a}vn(l,!0,d,null,T);break;case"together":vn(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Gi(a,l,d){if(a!==null&&(l.dependencies=a.dependencies),Za|=l.lanes,(d&l.childLanes)===0)if(a!==null){if(xa(a,l,d,!1),(d&l.childLanes)===0)return null}else return null;if(a!==null&&l.child!==a.child)throw Error(i(153));if(l.child!==null){for(a=l.child,d=li(a,a.pendingProps),l.child=d,d.return=l;a.sibling!==null;)a=a.sibling,d=d.sibling=li(a,a.pendingProps),d.return=l;d.sibling=null}return l.child}function vf(a,l){return(a.lanes&l)!==0?!0:(a=a.dependencies,!!(a!==null&&nf(a)))}function Ea(a,l,d){switch(l.tag){case 3:Ye(l,l.stateNode.containerInfo),zo(l,xi,a.memoizedState.cache),Bc();break;case 27:case 5:it(l);break;case 4:Ye(l,l.stateNode.containerInfo);break;case 10:zo(l,l.type,l.memoizedProps.value);break;case 13:var g=l.memoizedState;if(g!==null)return g.dehydrated!==null?(Xo(l),l.flags|=128,null):(d&l.child.childLanes)!==0?Xc(a,l,d):(Xo(l),a=Gi(a,l,d),a!==null?a.sibling:null);Xo(l);break;case 19:var A=(a.flags&128)!==0;if(g=(d&l.childLanes)!==0,g||(xa(a,l,d,!1),g=(d&l.childLanes)!==0),A){if(g)return Ma(a,l,d);l.flags|=128}if(A=l.memoizedState,A!==null&&(A.rendering=null,A.tail=null,A.lastEffect=null),_e(ui,ui.current),g)break;return null;case 22:case 23:return l.lanes=0,Cl(a,l,d);case 24:zo(l,xi,a.memoizedState.cache)}return Gi(a,l,d)}function Dl(a,l,d){if(a!==null)if(a.memoizedProps!==l.pendingProps)Hi=!0;else{if(!vf(a,d)&&(l.flags&128)===0)return Hi=!1,Ea(a,l,d);Hi=(a.flags&131072)!==0}else Hi=!1,Mn&&(l.flags&1048576)!==0&&Ih(l,wc,l.index);switch(l.lanes=0,l.tag){case 16:e:{a=l.pendingProps;var g=l.elementType,A=g._init;if(g=A(g._payload),l.type=g,typeof g=="function")Zu(g)?(a=mr(g,a),l.tag=1,l=$s(null,l,g,a,d)):(l.tag=0,l=kc(null,l,g,a,d));else{if(g!=null){if(A=g.$$typeof,A===D){l.tag=11,l=Fs(null,l,g,a,d);break e}else if(A===G){l.tag=14,l=zs(null,l,g,a,d);break e}}throw l=me(g)||g,Error(i(306,l,""))}}return l;case 0:return kc(a,l,l.type,l.pendingProps,d);case 1:return g=l.type,A=mr(g,l.pendingProps),$s(a,l,g,A,d);case 3:e:{if(Ye(l,l.stateNode.containerInfo),a===null)throw Error(i(387));g=l.pendingProps;var T=l.memoizedState;A=T.element,Gt(a,l),Pc(l,g,null,d);var L=l.memoizedState;if(g=L.cache,zo(l,xi,g),g!==T.cache&&tf(l,[xi],d,!0),uf(),g=L.element,T.isDehydrated)if(T={element:g,isDehydrated:!1,cache:L.cache},l.updateQueue.baseState=T,l.memoizedState=T,l.flags&256){l=qo(a,l,g,d);break e}else if(g!==A){A=Ki(Error(i(424)),l),bl(A),l=qo(a,l,g,d);break e}else{switch(a=l.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(ei=lo(a.firstChild),As=l,Mn=!0,va=null,Js=!0,d=Iy(l,null,g,d),l.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling}else{if(Bc(),g===A){l=Gi(a,l,d);break e}fi(a,l,g,d)}l=l.child}return l;case 26:return wl(a,l),a===null?(d=jE(l.type,null,l.pendingProps,null))?l.memoizedState=d:Mn||(d=l.type,a=l.pendingProps,g=Jy(Oe.current).createElement(d),g[gi]=l,g[Ei]=a,Cs(g,d,a),yi(g),l.stateNode=g):l.memoizedState=jE(l.type,a.memoizedProps,l.pendingProps,a.memoizedState),null;case 27:return it(l),a===null&&Mn&&(g=l.stateNode=VE(l.type,l.pendingProps,Oe.current),As=l,Js=!0,A=ei,eu(l.type)?(VA=A,ei=lo(g.firstChild)):ei=A),fi(a,l,l.pendingProps.children,d),wl(a,l),a===null&&(l.flags|=4194304),l.child;case 5:return a===null&&Mn&&((A=g=ei)&&(g=_L(g,l.type,l.pendingProps,Js),g!==null?(l.stateNode=g,As=l,ei=lo(g.firstChild),Js=!1,A=!0):A=!1),A||Io(l)),it(l),A=l.type,T=l.pendingProps,L=a!==null?a.memoizedProps:null,g=T.children,FA(A,T)?g=null:L!==null&&FA(A,L)&&(l.flags|=32),l.memoizedState!==null&&(A=eo(a,l,AA,null,null,d),Xm._currentValue=A),wl(a,l),fi(a,l,g,d),l.child;case 6:return a===null&&Mn&&((a=d=ei)&&(d=AL(d,l.pendingProps,Js),d!==null?(l.stateNode=d,As=l,ei=null,a=!0):a=!1),a||Io(l)),null;case 13:return Xc(a,l,d);case 4:return Ye(l,l.stateNode.containerInfo),g=l.pendingProps,a===null?l.child=El(l,null,g,d):fi(a,l,g,d),l.child;case 11:return Fs(a,l,l.type,l.pendingProps,d);case 7:return fi(a,l,l.pendingProps,d),l.child;case 8:return fi(a,l,l.pendingProps.children,d),l.child;case 12:return fi(a,l,l.pendingProps.children,d),l.child;case 10:return g=l.pendingProps,zo(l,l.type,g.value),fi(a,l,g.children,d),l.child;case 9:return A=l.type._context,g=l.pendingProps.children,hr(l),A=ni(A),g=g(A),l.flags|=1,fi(a,l,g,d),l.child;case 14:return zs(a,l,l.type,l.pendingProps,d);case 15:return Um(a,l,l.type,l.pendingProps,d);case 19:return Ma(a,l,d);case 31:return g=l.pendingProps,d=l.mode,g={mode:g.mode,children:g.children},a===null?(d=Bl(g,d),d.ref=l.ref,l.child=d,d.return=l,l=d):(d=li(a.child,g),d.ref=l.ref,l.child=d,d.return=l,l=d),l;case 22:return Cl(a,l,d);case 24:return hr(l),g=ni(xi),a===null?(A=Ho(),A===null&&(A=jt,T=Hh(),A.pooledCache=T,T.refCount++,T!==null&&(A.pooledCacheLanes|=d),A=T),l.memoizedState={parent:g,cache:A},pm(l),zo(l,xi,A)):((a.lanes&d)!==0&&(Gt(a,l),Pc(l,null,null,d),uf()),A=a.memoizedState,T=l.memoizedState,A.parent!==g?(A={parent:g,cache:g},l.memoizedState=A,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=A),zo(l,xi,g)):(g=T.cache,zo(l,xi,g),g!==A.cache&&tf(l,[xi],d,!0))),fi(a,l,l.pendingProps.children,d),l.child;case 29:throw l.pendingProps}throw Error(i(156,l.tag))}function Ja(a){a.flags|=4}function xf(a,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!KE(l)){if(l=zn.current,l!==null&&((Dt&4194048)===Dt?Ya!==null:(Dt&62914560)!==Dt&&(Dt&536870912)===0||l!==Ya))throw Aa=cf,hm;a.flags|=8192}}function io(a,l){l!==null&&(a.flags|=4),a.flags&16384&&(l=a.tag!==22?st():536870912,a.lanes|=l,An|=l)}function Nl(a,l){if(!Mn)switch(a.tailMode){case"hidden":l=a.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?a.tail=null:d.sibling=null;break;case"collapsed":d=a.tail;for(var g=null;d!==null;)d.alternate!==null&&(g=d),d=d.sibling;g===null?l||a.tail===null?a.tail=null:a.tail.sibling=null:g.sibling=null}}function jn(a){var l=a.alternate!==null&&a.alternate.child===a.child,d=0,g=0;if(l)for(var A=a.child;A!==null;)d|=A.lanes|A.childLanes,g|=A.subtreeFlags&65011712,g|=A.flags&65011712,A.return=a,A=A.sibling;else for(A=a.child;A!==null;)d|=A.lanes|A.childLanes,g|=A.subtreeFlags,g|=A.flags,A.return=a,A=A.sibling;return a.subtreeFlags|=g,a.childLanes=d,l}function Lm(a,l,d){var g=l.pendingProps;switch(om(l),l.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jn(l),null;case 1:return jn(l),null;case 3:return d=l.stateNode,g=null,a!==null&&(g=a.memoizedState.cache),l.memoizedState.cache!==g&&(l.flags|=2048),Kr(xi),bt(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(a===null||a.child===null)&&(ka(l)?Ja(l):a===null||a.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Rn())),jn(l),null;case 26:return d=l.memoizedState,a===null?(Ja(l),d!==null?(jn(l),xf(l,d)):(jn(l),l.flags&=-16777217)):d?d!==a.memoizedState?(Ja(l),jn(l),xf(l,d)):(jn(l),l.flags&=-16777217):(a.memoizedProps!==g&&Ja(l),jn(l),l.flags&=-16777217),null;case 27:mt(l),d=Oe.current;var A=l.type;if(a!==null&&l.stateNode!=null)a.memoizedProps!==g&&Ja(l);else{if(!g){if(l.stateNode===null)throw Error(i(166));return jn(l),null}a=ne.current,ka(l)?ty(l):(a=VE(A,g,d),l.stateNode=a,Ja(l))}return jn(l),null;case 5:if(mt(l),d=l.type,a!==null&&l.stateNode!=null)a.memoizedProps!==g&&Ja(l);else{if(!g){if(l.stateNode===null)throw Error(i(166));return jn(l),null}if(a=ne.current,ka(l))ty(l);else{switch(A=Jy(Oe.current),a){case 1:a=A.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:a=A.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":a=A.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":a=A.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":a=A.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof g.is=="string"?A.createElement("select",{is:g.is}):A.createElement("select"),g.multiple?a.multiple=!0:g.size&&(a.size=g.size);break;default:a=typeof g.is=="string"?A.createElement(d,{is:g.is}):A.createElement(d)}}a[gi]=l,a[Ei]=g;e:for(A=l.child;A!==null;){if(A.tag===5||A.tag===6)a.appendChild(A.stateNode);else if(A.tag!==4&&A.tag!==27&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===l)break e;for(;A.sibling===null;){if(A.return===null||A.return===l)break e;A=A.return}A.sibling.return=A.return,A=A.sibling}l.stateNode=a;e:switch(Cs(a,d,g),d){case"button":case"input":case"select":case"textarea":a=!!g.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&Ja(l)}}return jn(l),l.flags&=-16777217,null;case 6:if(a&&l.stateNode!=null)a.memoizedProps!==g&&Ja(l);else{if(typeof g!="string"&&l.stateNode===null)throw Error(i(166));if(a=Oe.current,ka(l)){if(a=l.stateNode,d=l.memoizedProps,g=null,A=As,A!==null)switch(A.tag){case 27:case 5:g=A.memoizedProps}a[gi]=l,a=!!(a.nodeValue===d||g!==null&&g.suppressHydrationWarning===!0||OE(a.nodeValue,d)),a||Io(l)}else a=Jy(a).createTextNode(g),a[gi]=l,l.stateNode=a}return jn(l),null;case 13:if(g=l.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(A=ka(l),g!==null&&g.dehydrated!==null){if(a===null){if(!A)throw Error(i(318));if(A=l.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(i(317));A[gi]=l}else Bc(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;jn(l),A=!1}else A=Rn(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=A),A=!0;if(!A)return l.flags&256?(pr(l),l):(pr(l),null)}if(pr(l),(l.flags&128)!==0)return l.lanes=d,l;if(d=g!==null,a=a!==null&&a.memoizedState!==null,d){g=l.child,A=null,g.alternate!==null&&g.alternate.memoizedState!==null&&g.alternate.memoizedState.cachePool!==null&&(A=g.alternate.memoizedState.cachePool.pool);var T=null;g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(T=g.memoizedState.cachePool.pool),T!==A&&(g.flags|=2048)}return d!==a&&d&&(l.child.flags|=8192),io(l,l.updateQueue),jn(l),null;case 4:return bt(),a===null&&UA(l.stateNode.containerInfo),jn(l),null;case 10:return Kr(l.type),jn(l),null;case 19:if(xe(ui),A=l.memoizedState,A===null)return jn(l),null;if(g=(l.flags&128)!==0,T=A.rendering,T===null)if(g)Nl(A,!1);else{if(Kn!==0||a!==null&&(a.flags&128)!==0)for(a=l.child;a!==null;){if(T=no(a),T!==null){for(l.flags|=128,Nl(A,!1),a=T.updateQueue,l.updateQueue=a,io(l,a),l.subtreeFlags=0,a=d,d=l.child;d!==null;)am(d,a),d=d.sibling;return _e(ui,ui.current&1|2),l.child}a=a.sibling}A.tail!==null&&Ge()>cs&&(l.flags|=128,g=!0,Nl(A,!1),l.lanes=4194304)}else{if(!g)if(a=no(T),a!==null){if(l.flags|=128,g=!0,a=a.updateQueue,l.updateQueue=a,io(l,a),Nl(A,!0),A.tail===null&&A.tailMode==="hidden"&&!T.alternate&&!Mn)return jn(l),null}else 2*Ge()-A.renderingStartTime>cs&&d!==536870912&&(l.flags|=128,g=!0,Nl(A,!1),l.lanes=4194304);A.isBackwards?(T.sibling=l.child,l.child=T):(a=A.last,a!==null?a.sibling=T:l.child=T,A.last=T)}return A.tail!==null?(l=A.tail,A.rendering=l,A.tail=l.sibling,A.renderingStartTime=Ge(),l.sibling=null,a=ui.current,_e(ui,g?a&1|2:a&1),l):(jn(l),null);case 22:case 23:return pr(l),ff(),g=l.memoizedState!==null,a!==null?a.memoizedState!==null!==g&&(l.flags|=8192):g&&(l.flags|=8192),g?(d&536870912)!==0&&(l.flags&128)===0&&(jn(l),l.subtreeFlags&6&&(l.flags|=8192)):jn(l),d=l.updateQueue,d!==null&&io(l,d.retryQueue),d=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),g=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(g=l.memoizedState.cachePool.pool),g!==d&&(l.flags|=2048),a!==null&&xe(_a),null;case 24:return d=null,a!==null&&(d=a.memoizedState.cache),l.memoizedState.cache!==d&&(l.flags|=2048),Kr(xi),jn(l),null;case 25:return null;case 30:return null}throw Error(i(156,l.tag))}function jc(a,l){switch(om(l),l.tag){case 1:return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 3:return Kr(xi),bt(),a=l.flags,(a&65536)!==0&&(a&128)===0?(l.flags=a&-65537|128,l):null;case 26:case 27:case 5:return mt(l),null;case 13:if(pr(l),a=l.memoizedState,a!==null&&a.dehydrated!==null){if(l.alternate===null)throw Error(i(340));Bc()}return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 19:return xe(ui),null;case 4:return bt(),null;case 10:return Kr(l.type),null;case 22:case 23:return pr(l),ff(),a!==null&&xe(_a),a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 24:return Kr(xi),null;case 25:return null;default:return null}}function Yc(a,l){switch(om(l),l.tag){case 3:Kr(xi),bt();break;case 26:case 27:case 5:mt(l);break;case 4:bt();break;case 13:pr(l);break;case 19:xe(ui);break;case 10:Kr(l.type);break;case 22:case 23:pr(l),ff(),a!==null&&xe(_a);break;case 24:Kr(xi)}}function Ul(a,l){try{var d=l.updateQueue,g=d!==null?d.lastEffect:null;if(g!==null){var A=g.next;d=A;do{if((d.tag&a)===a){g=void 0;var T=d.create,L=d.inst;g=T(),L.destroy=g}d=d.next}while(d!==A)}}catch(V){ae(l,l.return,V)}}function ea(a,l,d){try{var g=l.updateQueue,A=g!==null?g.lastEffect:null;if(A!==null){var T=A.next;g=T;do{if((g.tag&a)===a){var L=g.inst,V=L.destroy;if(V!==void 0){L.destroy=void 0,A=l;var ee=d,ve=V;try{ve()}catch(Ne){ae(A,ee,Ne)}}}g=g.next}while(g!==T)}}catch(Ne){ae(l,l.return,Ne)}}function Ll(a){var l=a.updateQueue;if(l!==null){var d=a.stateNode;try{sy(l,d)}catch(g){ae(a,a.return,g)}}}function so(a,l,d){d.props=mr(a.type,a.memoizedProps),d.state=a.memoizedState;try{d.componentWillUnmount()}catch(g){ae(a,l,g)}}function Ol(a,l){try{var d=a.ref;if(d!==null){switch(a.tag){case 26:case 27:case 5:var g=a.stateNode;break;case 30:g=a.stateNode;break;default:g=a.stateNode}typeof d=="function"?a.refCleanup=d(g):d.current=g}}catch(A){ae(a,l,A)}}function yr(a,l){var d=a.ref,g=a.refCleanup;if(d!==null)if(typeof g=="function")try{g()}catch(A){ae(a,l,A)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(A){ae(a,l,A)}else d.current=null}function qc(a){var l=a.type,d=a.memoizedProps,g=a.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":d.autoFocus&&g.focus();break e;case"img":d.src?g.src=d.src:d.srcSet&&(g.srcset=d.srcSet)}}catch(A){ae(a,a.return,A)}}function _f(a,l,d){try{var g=a.stateNode;mL(g,a.type,d,l),g[Ei]=l}catch(A){ae(a,a.return,A)}}function Af(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&eu(a.type)||a.tag===4}function Wo(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||Af(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&eu(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Jo(a,l,d){var g=a.tag;if(g===5||g===6)a=a.stateNode,l?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(a,l):(l=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,l.appendChild(a),d=d._reactRootContainer,d!=null||l.onclick!==null||(l.onclick=Wy));else if(g!==4&&(g===27&&eu(a.type)&&(d=a.stateNode,l=null),a=a.child,a!==null))for(Jo(a,l,d),a=a.sibling;a!==null;)Jo(a,l,d),a=a.sibling}function Ko(a,l,d){var g=a.tag;if(g===5||g===6)a=a.stateNode,l?d.insertBefore(a,l):d.appendChild(a);else if(g!==4&&(g===27&&eu(a.type)&&(d=a.stateNode),a=a.child,a!==null))for(Ko(a,l,d),a=a.sibling;a!==null;)Ko(a,l,d),a=a.sibling}function Qo(a){var l=a.stateNode,d=a.memoizedProps;try{for(var g=a.type,A=l.attributes;A.length;)l.removeAttributeNode(A[0]);Cs(l,g,d),l[gi]=a,l[Ei]=d}catch(T){ae(a,a.return,T)}}var vr=!1,Yn=!1,Wc=!1,ta=typeof WeakSet=="function"?WeakSet:Set,Hn=null;function Ri(a,l){if(a=a.containerInfo,PA=tv,a=Zp(a),Wu(a)){if("selectionStart"in a)var d={start:a.selectionStart,end:a.selectionEnd};else e:{d=(d=a.ownerDocument)&&d.defaultView||window;var g=d.getSelection&&d.getSelection();if(g&&g.rangeCount!==0){d=g.anchorNode;var A=g.anchorOffset,T=g.focusNode;g=g.focusOffset;try{d.nodeType,T.nodeType}catch{d=null;break e}var L=0,V=-1,ee=-1,ve=0,Ne=0,ze=a,be=null;t:for(;;){for(var Ee;ze!==d||A!==0&&ze.nodeType!==3||(V=L+A),ze!==T||g!==0&&ze.nodeType!==3||(ee=L+g),ze.nodeType===3&&(L+=ze.nodeValue.length),(Ee=ze.firstChild)!==null;)be=ze,ze=Ee;for(;;){if(ze===a)break t;if(be===d&&++ve===A&&(V=L),be===T&&++Ne===g&&(ee=L),(Ee=ze.nextSibling)!==null)break;ze=be,be=ze.parentNode}ze=Ee}d=V===-1||ee===-1?null:{start:V,end:ee}}else d=null}d=d||{start:0,end:0}}else d=null;for(IA={focusedElem:a,selectionRange:d},tv=!1,Hn=l;Hn!==null;)if(l=Hn,a=l.child,(l.subtreeFlags&1024)!==0&&a!==null)a.return=l,Hn=a;else for(;Hn!==null;){switch(l=Hn,T=l.alternate,a=l.flags,l.tag){case 0:break;case 11:case 15:break;case 1:if((a&1024)!==0&&T!==null){a=void 0,d=l,A=T.memoizedProps,T=T.memoizedState,g=d.stateNode;try{var kt=mr(d.type,A,d.elementType===d.type);a=g.getSnapshotBeforeUpdate(kt,T),g.__reactInternalSnapshotBeforeUpdate=a}catch(Ft){ae(d,d.return,Ft)}}break;case 3:if((a&1024)!==0){if(a=l.stateNode.containerInfo,d=a.nodeType,d===9)HA(a);else if(d===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":HA(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(i(163))}if(a=l.sibling,a!==null){a.return=l.return,Hn=a;break}Hn=l.return}}function ao(a,l,d){var g=d.flags;switch(d.tag){case 0:case 11:case 15:Es(a,d),g&4&&Ul(5,d);break;case 1:if(Es(a,d),g&4)if(a=d.stateNode,l===null)try{a.componentDidMount()}catch(L){ae(d,d.return,L)}else{var A=mr(d.type,l.memoizedProps);l=l.memoizedState;try{a.componentDidUpdate(A,l,a.__reactInternalSnapshotBeforeUpdate)}catch(L){ae(d,d.return,L)}}g&64&&Ll(d),g&512&&Ol(d,d.return);break;case 3:if(Es(a,d),g&64&&(a=d.updateQueue,a!==null)){if(l=null,d.child!==null)switch(d.child.tag){case 27:case 5:l=d.child.stateNode;break;case 1:l=d.child.stateNode}try{sy(a,l)}catch(L){ae(d,d.return,L)}}break;case 27:l===null&&g&4&&Qo(d);case 26:case 5:Es(a,d),l===null&&g&4&&qc(d),g&512&&Ol(d,d.return);break;case 12:Es(a,d);break;case 13:Es(a,d),g&4&&Zo(a,d),g&64&&(a=d.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(d=Qn.bind(null,d),bL(a,d))));break;case 22:if(g=d.memoizedState!==null||vr,!g){l=l!==null&&l.memoizedState!==null||Yn,A=vr;var T=Yn;vr=g,(Yn=l)&&!T?xr(a,d,(d.subtreeFlags&8772)!==0):Es(a,d),vr=A,Yn=T}break;case 30:break;default:Es(a,d)}}function en(a){var l=a.alternate;l!==null&&(a.alternate=null,en(l)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(l=a.stateNode,l!==null&&Ln(l)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Lt=null,_n=!1;function Ta(a,l,d){for(d=d.child;d!==null;)Pl(a,l,d),d=d.sibling}function Pl(a,l,d){if(Be&&typeof Be.onCommitFiberUnmount=="function")try{Be.onCommitFiberUnmount(Re,d)}catch{}switch(d.tag){case 26:Yn||yr(d,l),Ta(a,l,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:Yn||yr(d,l);var g=Lt,A=_n;eu(d.type)&&(Lt=d.stateNode,_n=!1),Ta(a,l,d),Hm(d.stateNode),Lt=g,_n=A;break;case 5:Yn||yr(d,l);case 6:if(g=Lt,A=_n,Lt=null,Ta(a,l,d),Lt=g,_n=A,Lt!==null)if(_n)try{(Lt.nodeType===9?Lt.body:Lt.nodeName==="HTML"?Lt.ownerDocument.body:Lt).removeChild(d.stateNode)}catch(T){ae(d,l,T)}else try{Lt.removeChild(d.stateNode)}catch(T){ae(d,l,T)}break;case 18:Lt!==null&&(_n?(a=Lt,HE(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,d.stateNode),Wm(a)):HE(Lt,d.stateNode));break;case 4:g=Lt,A=_n,Lt=d.stateNode.containerInfo,_n=!0,Ta(a,l,d),Lt=g,_n=A;break;case 0:case 11:case 14:case 15:Yn||ea(2,d,l),Yn||ea(4,d,l),Ta(a,l,d);break;case 1:Yn||(yr(d,l),g=d.stateNode,typeof g.componentWillUnmount=="function"&&so(d,l,g)),Ta(a,l,d);break;case 21:Ta(a,l,d);break;case 22:Yn=(g=Yn)||d.memoizedState!==null,Ta(a,l,d),Yn=g;break;default:Ta(a,l,d)}}function Zo(a,l){if(l.memoizedState===null&&(a=l.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Wm(a)}catch(d){ae(l,l.return,d)}}function od(a){switch(a.tag){case 13:case 19:var l=a.stateNode;return l===null&&(l=a.stateNode=new ta),l;case 22:return a=a.stateNode,l=a._retryCache,l===null&&(l=a._retryCache=new ta),l;default:throw Error(i(435,a.tag))}}function Il(a,l){var d=od(a);l.forEach(function(g){var A=Vt.bind(null,a,g);d.has(g)||(d.add(g),g.then(A,A))})}function Vi(a,l){var d=l.deletions;if(d!==null)for(var g=0;g<d.length;g++){var A=d[g],T=a,L=l,V=L;e:for(;V!==null;){switch(V.tag){case 27:if(eu(V.type)){Lt=V.stateNode,_n=!1;break e}break;case 5:Lt=V.stateNode,_n=!1;break e;case 3:case 4:Lt=V.stateNode.containerInfo,_n=!0;break e}V=V.return}if(Lt===null)throw Error(i(160));Pl(T,L,A),Lt=null,_n=!1,T=A.alternate,T!==null&&(T.return=null),A.return=null}if(l.subtreeFlags&13878)for(l=l.child;l!==null;)ld(l,a),l=l.sibling}var Ka=null;function ld(a,l){var d=a.alternate,g=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Vi(l,a),ii(a),g&4&&(ea(3,a,a.return),Ul(3,a),ea(5,a,a.return));break;case 1:Vi(l,a),ii(a),g&512&&(Yn||d===null||yr(d,d.return)),g&64&&vr&&(a=a.updateQueue,a!==null&&(g=a.callbacks,g!==null&&(d=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=d===null?g:d.concat(g))));break;case 26:var A=Ka;if(Vi(l,a),ii(a),g&512&&(Yn||d===null||yr(d,d.return)),g&4){var T=d!==null?d.memoizedState:null;if(g=a.memoizedState,d===null)if(g===null)if(a.stateNode===null){e:{g=a.type,d=a.memoizedProps,A=A.ownerDocument||A;t:switch(g){case"title":T=A.getElementsByTagName("title")[0],(!T||T[Fa]||T[gi]||T.namespaceURI==="http://www.w3.org/2000/svg"||T.hasAttribute("itemprop"))&&(T=A.createElement(g),A.head.insertBefore(T,A.querySelector("head > title"))),Cs(T,g,d),T[gi]=a,yi(T),g=T;break e;case"link":var L=WE("link","href",A).get(g+(d.href||""));if(L){for(var V=0;V<L.length;V++)if(T=L[V],T.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&T.getAttribute("rel")===(d.rel==null?null:d.rel)&&T.getAttribute("title")===(d.title==null?null:d.title)&&T.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){L.splice(V,1);break t}}T=A.createElement(g),Cs(T,g,d),A.head.appendChild(T);break;case"meta":if(L=WE("meta","content",A).get(g+(d.content||""))){for(V=0;V<L.length;V++)if(T=L[V],T.getAttribute("content")===(d.content==null?null:""+d.content)&&T.getAttribute("name")===(d.name==null?null:d.name)&&T.getAttribute("property")===(d.property==null?null:d.property)&&T.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&T.getAttribute("charset")===(d.charSet==null?null:d.charSet)){L.splice(V,1);break t}}T=A.createElement(g),Cs(T,g,d),A.head.appendChild(T);break;default:throw Error(i(468,g))}T[gi]=a,yi(T),g=T}a.stateNode=g}else JE(A,a.type,a.stateNode);else a.stateNode=qE(A,g,a.memoizedProps);else T!==g?(T===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):T.count--,g===null?JE(A,a.type,a.stateNode):qE(A,g,a.memoizedProps)):g===null&&a.stateNode!==null&&_f(a,a.memoizedProps,d.memoizedProps)}break;case 27:Vi(l,a),ii(a),g&512&&(Yn||d===null||yr(d,d.return)),d!==null&&g&4&&_f(a,a.memoizedProps,d.memoizedProps);break;case 5:if(Vi(l,a),ii(a),g&512&&(Yn||d===null||yr(d,d.return)),a.flags&32){A=a.stateNode;try{vs(A,"")}catch(Ee){ae(a,a.return,Ee)}}g&4&&a.stateNode!=null&&(A=a.memoizedProps,_f(a,A,d!==null?d.memoizedProps:A)),g&1024&&(Wc=!0);break;case 6:if(Vi(l,a),ii(a),g&4){if(a.stateNode===null)throw Error(i(162));g=a.memoizedProps,d=a.stateNode;try{d.nodeValue=g}catch(Ee){ae(a,a.return,Ee)}}break;case 3:if(Zy=null,A=Ka,Ka=Ky(l.containerInfo),Vi(l,a),Ka=A,ii(a),g&4&&d!==null&&d.memoizedState.isDehydrated)try{Wm(l.containerInfo)}catch(Ee){ae(a,a.return,Ee)}Wc&&(Wc=!1,$o(a));break;case 4:g=Ka,Ka=Ky(a.stateNode.containerInfo),Vi(l,a),ii(a),Ka=g;break;case 12:Vi(l,a),ii(a);break;case 13:Vi(l,a),ii(a),a.child.flags&8192&&a.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(Pn=Ge()),g&4&&(g=a.updateQueue,g!==null&&(a.updateQueue=null,Il(a,g)));break;case 22:A=a.memoizedState!==null;var ee=d!==null&&d.memoizedState!==null,ve=vr,Ne=Yn;if(vr=ve||A,Yn=Ne||ee,Vi(l,a),Yn=Ne,vr=ve,ii(a),g&8192)e:for(l=a.stateNode,l._visibility=A?l._visibility&-2:l._visibility|1,A&&(d===null||ee||vr||Yn||na(a)),d=null,l=a;;){if(l.tag===5||l.tag===26){if(d===null){ee=d=l;try{if(T=ee.stateNode,A)L=T.style,typeof L.setProperty=="function"?L.setProperty("display","none","important"):L.display="none";else{V=ee.stateNode;var ze=ee.memoizedProps.style,be=ze!=null&&ze.hasOwnProperty("display")?ze.display:null;V.style.display=be==null||typeof be=="boolean"?"":(""+be).trim()}}catch(Ee){ae(ee,ee.return,Ee)}}}else if(l.tag===6){if(d===null){ee=l;try{ee.stateNode.nodeValue=A?"":ee.memoizedProps}catch(Ee){ae(ee,ee.return,Ee)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===a)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break e;for(;l.sibling===null;){if(l.return===null||l.return===a)break e;d===l&&(d=null),l=l.return}d===l&&(d=null),l.sibling.return=l.return,l=l.sibling}g&4&&(g=a.updateQueue,g!==null&&(d=g.retryQueue,d!==null&&(g.retryQueue=null,Il(a,d))));break;case 19:Vi(l,a),ii(a),g&4&&(g=a.updateQueue,g!==null&&(a.updateQueue=null,Il(a,g)));break;case 30:break;case 21:break;default:Vi(l,a),ii(a)}}function ii(a){var l=a.flags;if(l&2){try{for(var d,g=a.return;g!==null;){if(Af(g)){d=g;break}g=g.return}if(d==null)throw Error(i(160));switch(d.tag){case 27:var A=d.stateNode,T=Wo(a);Ko(a,T,A);break;case 5:var L=d.stateNode;d.flags&32&&(vs(L,""),d.flags&=-33);var V=Wo(a);Ko(a,V,L);break;case 3:case 4:var ee=d.stateNode.containerInfo,ve=Wo(a);Jo(a,ve,ee);break;default:throw Error(i(161))}}catch(Ne){ae(a,a.return,Ne)}a.flags&=-3}l&4096&&(a.flags&=-4097)}function $o(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var l=a;$o(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),a=a.sibling}}function Es(a,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)ao(a,l.alternate,l),l=l.sibling}function na(a){for(a=a.child;a!==null;){var l=a;switch(l.tag){case 0:case 11:case 14:case 15:ea(4,l,l.return),na(l);break;case 1:yr(l,l.return);var d=l.stateNode;typeof d.componentWillUnmount=="function"&&so(l,l.return,d),na(l);break;case 27:Hm(l.stateNode);case 26:case 5:yr(l,l.return),na(l);break;case 22:l.memoizedState===null&&na(l);break;case 30:na(l);break;default:na(l)}a=a.sibling}}function xr(a,l,d){for(d=d&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var g=l.alternate,A=a,T=l,L=T.flags;switch(T.tag){case 0:case 11:case 15:xr(A,T,d),Ul(4,T);break;case 1:if(xr(A,T,d),g=T,A=g.stateNode,typeof A.componentDidMount=="function")try{A.componentDidMount()}catch(ve){ae(g,g.return,ve)}if(g=T,A=g.updateQueue,A!==null){var V=g.stateNode;try{var ee=A.shared.hiddenCallbacks;if(ee!==null)for(A.shared.hiddenCallbacks=null,A=0;A<ee.length;A++)Ic(ee[A],V)}catch(ve){ae(g,g.return,ve)}}d&&L&64&&Ll(T),Ol(T,T.return);break;case 27:Qo(T);case 26:case 5:xr(A,T,d),d&&g===null&&L&4&&qc(T),Ol(T,T.return);break;case 12:xr(A,T,d);break;case 13:xr(A,T,d),d&&L&4&&Zo(A,T);break;case 22:T.memoizedState===null&&xr(A,T,d),Ol(T,T.return);break;case 30:break;default:xr(A,T,d)}l=l.sibling}}function cd(a,l){var d=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),a=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(a=l.memoizedState.cachePool.pool),a!==d&&(a!=null&&a.refCount++,d!=null&&Dc(d))}function ud(a,l){a=null,l.alternate!==null&&(a=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==a&&(l.refCount++,a!=null&&Dc(a))}function Gn(a,l,d,g){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)fd(a,l,d,g),l=l.sibling}function fd(a,l,d,g){var A=l.flags;switch(l.tag){case 0:case 11:case 15:Gn(a,l,d,g),A&2048&&Ul(9,l);break;case 1:Gn(a,l,d,g);break;case 3:Gn(a,l,d,g),A&2048&&(a=null,l.alternate!==null&&(a=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==a&&(l.refCount++,a!=null&&Dc(a)));break;case 12:if(A&2048){Gn(a,l,d,g),a=l.stateNode;try{var T=l.memoizedProps,L=T.id,V=T.onPostCommit;typeof V=="function"&&V(L,l.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(ee){ae(l,l.return,ee)}}else Gn(a,l,d,g);break;case 13:Gn(a,l,d,g);break;case 23:break;case 22:T=l.stateNode,L=l.alternate,l.memoizedState!==null?T._visibility&2?Gn(a,l,d,g):Qa(a,l):T._visibility&2?Gn(a,l,d,g):(T._visibility|=2,ro(a,l,d,g,(l.subtreeFlags&10256)!==0)),A&2048&&cd(L,l);break;case 24:Gn(a,l,d,g),A&2048&&ud(l.alternate,l);break;default:Gn(a,l,d,g)}}function ro(a,l,d,g,A){for(A=A&&(l.subtreeFlags&10256)!==0,l=l.child;l!==null;){var T=a,L=l,V=d,ee=g,ve=L.flags;switch(L.tag){case 0:case 11:case 15:ro(T,L,V,ee,A),Ul(8,L);break;case 23:break;case 22:var Ne=L.stateNode;L.memoizedState!==null?Ne._visibility&2?ro(T,L,V,ee,A):Qa(T,L):(Ne._visibility|=2,ro(T,L,V,ee,A)),A&&ve&2048&&cd(L.alternate,L);break;case 24:ro(T,L,V,ee,A),A&&ve&2048&&ud(L.alternate,L);break;default:ro(T,L,V,ee,A)}l=l.sibling}}function Qa(a,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var d=a,g=l,A=g.flags;switch(g.tag){case 22:Qa(d,g),A&2048&&cd(g.alternate,g);break;case 24:Qa(d,g),A&2048&&ud(g.alternate,g);break;default:Qa(d,g)}l=l.sibling}}var ia=8192;function Jc(a){if(a.subtreeFlags&ia)for(a=a.child;a!==null;)Xy(a),a=a.sibling}function Xy(a){switch(a.tag){case 26:Jc(a),a.flags&ia&&a.memoizedState!==null&&OL(Ka,a.memoizedState,a.memoizedProps);break;case 5:Jc(a);break;case 3:case 4:var l=Ka;Ka=Ky(a.stateNode.containerInfo),Jc(a),Ka=l;break;case 22:a.memoizedState===null&&(l=a.alternate,l!==null&&l.memoizedState!==null?(l=ia,ia=16777216,Jc(a),ia=l):Jc(a));break;default:Jc(a)}}function jy(a){var l=a.alternate;if(l!==null&&(a=l.child,a!==null)){l.child=null;do l=a.sibling,a.sibling=null,a=l;while(a!==null)}}function qn(a){var l=a.deletions;if((a.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var g=l[d];Hn=g,Ar(g,a)}jy(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Om(a),a=a.sibling}function Om(a){switch(a.tag){case 0:case 11:case 15:qn(a),a.flags&2048&&ea(9,a,a.return);break;case 3:qn(a);break;case 12:qn(a);break;case 22:var l=a.stateNode;a.memoizedState!==null&&l._visibility&2&&(a.return===null||a.return.tag!==13)?(l._visibility&=-3,_r(a)):qn(a);break;default:qn(a)}}function _r(a){var l=a.deletions;if((a.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var g=l[d];Hn=g,Ar(g,a)}jy(a)}for(a=a.child;a!==null;){switch(l=a,l.tag){case 0:case 11:case 15:ea(8,l,l.return),_r(l);break;case 22:d=l.stateNode,d._visibility&2&&(d._visibility&=-3,_r(l));break;default:_r(l)}a=a.sibling}}function Ar(a,l){for(;Hn!==null;){var d=Hn;switch(d.tag){case 0:case 11:case 15:ea(8,d,l);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var g=d.memoizedState.cachePool.pool;g!=null&&g.refCount++}break;case 24:Dc(d.memoizedState.cache)}if(g=d.child,g!==null)g.return=d,Hn=g;else e:for(d=a;Hn!==null;){g=Hn;var A=g.sibling,T=g.return;if(en(g),g===d){Hn=null;break e}if(A!==null){A.return=T,Hn=A;break e}Hn=T}}}var si={getCacheForType:function(a){var l=ni(xi),d=l.data.get(a);return d===void 0&&(d=a(),l.data.set(a,d)),d}},Pm=typeof WeakMap=="function"?WeakMap:Map,wn=0,jt=null,an=null,Dt=0,Qt=0,ti=null,sa=!1,Kc=!1,Qc=!1,Ca=0,Kn=0,Za=0,br=0,Fl=0,Ra=0,An=0,Bn=null,It=null,un=!1,Pn=0,cs=1/0,wa=null,aa=null,wi=0,us=null,Vn=null,ra=0,oo=0,bf=null,oa=null,Sr=0,zl=null;function ai(){if((wn&2)!==0&&Dt!==0)return Dt&-Dt;if(F.T!==null){var a=qt;return a!==0?a:wA()}return hn()}function hd(){Ra===0&&(Ra=(Dt&536870912)===0||Mn?oe():536870912);var a=zn.current;return a!==null&&(a.flags|=32),Ra}function Ts(a,l,d){(a===jt&&(Qt===2||Qt===9)||a.cancelPendingCommit!==null)&&(tl(a,0),$a(a,Dt,Ra,!1)),ht(a,d),((wn&2)===0||a!==jt)&&(a===jt&&((wn&2)===0&&(br|=d),Kn===4&&$a(a,Dt,Ra,!1)),sl(a))}function Zc(a,l,d){if((wn&6)!==0)throw Error(i(327));var g=!d&&(l&124)===0&&(l&a.expiredLanes)===0||Qe(a,l),A=g?b(a,l):f(a,l,!0),T=g;do{if(A===0){Kc&&!g&&$a(a,l,0,!1);break}else{if(d=a.current.alternate,T&&!el(d)){A=f(a,l,!1),T=!1;continue}if(A===2){if(T=l,a.errorRecoveryDisabledLanes&T)var L=0;else L=a.pendingLanes&-536870913,L=L!==0?L:L&536870912?536870912:0;if(L!==0){l=L;e:{var V=a;A=Bn;var ee=V.current.memoizedState.isDehydrated;if(ee&&(tl(V,L).flags|=256),L=f(V,L,!1),L!==2){if(Qc&&!ee){V.errorRecoveryDisabledLanes|=T,br|=T,A=4;break e}T=It,It=A,T!==null&&(It===null?It=T:It.push.apply(It,T))}A=L}if(T=!1,A!==2)continue}}if(A===1){tl(a,0),$a(a,l,0,!0);break}e:{switch(g=a,T=A,T){case 0:case 1:throw Error(i(345));case 4:if((l&4194048)!==l)break;case 6:$a(g,l,Ra,!sa);break e;case 2:It=null;break;case 3:case 5:break;default:throw Error(i(329))}if((l&62914560)===l&&(A=Pn+300-Ge(),10<A)){if($a(g,l,Ra,!sa),Et(g,0,!0)!==0)break e;g.timeoutHandle=FE(Sf.bind(null,g,d,It,wa,un,l,Ra,br,An,sa,T,2,-0,0),A);break e}Sf(g,d,It,wa,un,l,Ra,br,An,sa,T,0,-0,0)}}break}while(!0);sl(a)}function Sf(a,l,d,g,A,T,L,V,ee,ve,Ne,ze,be,Ee){if(a.timeoutHandle=-1,ze=l.subtreeFlags,(ze&8192||(ze&16785408)===16785408)&&(km={stylesheets:null,count:0,unsuspend:LL},Xy(l),ze=PL(),ze!==null)){a.cancelPendingCommit=ze(Ke.bind(null,a,l,T,d,g,A,L,V,ee,Ne,1,be,Ee)),$a(a,T,L,!ve);return}Ke(a,l,T,d,g,A,L,V,ee)}function el(a){for(var l=a;;){var d=l.tag;if((d===0||d===11||d===15)&&l.flags&16384&&(d=l.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var g=0;g<d.length;g++){var A=d[g],T=A.getSnapshot;A=A.value;try{if(!Us(T(),A))return!1}catch{return!1}}if(d=l.child,l.subtreeFlags&16384&&d!==null)d.return=l,l=d;else{if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function $a(a,l,d,g){l&=~Fl,l&=~br,a.suspendedLanes|=l,a.pingedLanes&=~l,g&&(a.warmLanes|=l),g=a.expirationTimes;for(var A=l;0<A;){var T=31-rt(A),L=1<<T;g[T]=-1,A&=~L}d!==0&&Ie(a,d,l)}function Mr(){return(wn&6)===0?(Im(0),!1):!0}function Hl(){if(an!==null){if(Qt===0)var a=an.return;else a=an,Jr=Fo=null,vm(a),Ml=null,mf=0,a=an;for(;a!==null;)Yc(a.alternate,a),a=a.return;an=null}}function tl(a,l){var d=a.timeoutHandle;d!==-1&&(a.timeoutHandle=-1,yL(d)),d=a.cancelPendingCommit,d!==null&&(a.cancelPendingCommit=null,d()),Hl(),jt=a,an=d=li(a.current,null),Dt=l,Qt=0,ti=null,sa=!1,Kc=Qe(a,l),Qc=!1,An=Ra=Fl=br=Za=Kn=0,It=Bn=null,un=!1,(l&8)!==0&&(l|=l&32);var g=a.entangledLanes;if(g!==0)for(a=a.entanglements,g&=l;0<g;){var A=31-rt(g),T=1<<A;l|=a[A],g&=~T}return Ca=l,Qu(),d}function dd(a,l){Wt=null,F.H=pf,l===lf||l===Xa?(l=dm(),Qt=3):l===hm?(l=dm(),Qt=4):Qt=l===ky?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,ti=l,an===null&&(Kn=1,sd(a,Ki(l,a.current)))}function $c(){var a=F.H;return F.H=pf,a===null?pf:a}function pd(){var a=F.A;return F.A=si,a}function c(){Kn=4,sa||(Dt&4194048)!==Dt&&zn.current!==null||(Kc=!0),(Za&134217727)===0&&(br&134217727)===0||jt===null||$a(jt,Dt,Ra,!1)}function f(a,l,d){var g=wn;wn|=2;var A=$c(),T=pd();(jt!==a||Dt!==l)&&(wa=null,tl(a,l)),l=!1;var L=Kn;e:do try{if(Qt!==0&&an!==null){var V=an,ee=ti;switch(Qt){case 8:Hl(),L=6;break e;case 3:case 2:case 9:case 6:zn.current===null&&(l=!0);var ve=Qt;if(Qt=0,ti=null,te(a,V,ee,ve),d&&Kc){L=0;break e}break;default:ve=Qt,Qt=0,ti=null,te(a,V,ee,ve)}}v(),L=Kn;break}catch(Ne){dd(a,Ne)}while(!0);return l&&a.shellSuspendCounter++,Jr=Fo=null,wn=g,F.H=A,F.A=T,an===null&&(jt=null,Dt=0,Qu()),L}function v(){for(;an!==null;)N(an)}function b(a,l){var d=wn;wn|=2;var g=$c(),A=pd();jt!==a||Dt!==l?(wa=null,cs=Ge()+500,tl(a,l)):Kc=Qe(a,l);e:do try{if(Qt!==0&&an!==null){l=an;var T=ti;t:switch(Qt){case 1:Qt=0,ti=null,te(a,l,T,1);break;case 2:case 9:if(kh(T)){Qt=0,ti=null,j(l);break}l=function(){Qt!==2&&Qt!==9||jt!==a||(Qt=7),sl(a)},T.then(l,l);break e;case 3:Qt=7;break e;case 4:Qt=5;break e;case 7:kh(T)?(Qt=0,ti=null,j(l)):(Qt=0,ti=null,te(a,l,T,7));break;case 5:var L=null;switch(an.tag){case 26:L=an.memoizedState;case 5:case 27:var V=an;if(!L||KE(L)){Qt=0,ti=null;var ee=V.sibling;if(ee!==null)an=ee;else{var ve=V.return;ve!==null?(an=ve,pe(ve)):an=null}break t}}Qt=0,ti=null,te(a,l,T,5);break;case 6:Qt=0,ti=null,te(a,l,T,6);break;case 8:Hl(),Kn=6;break e;default:throw Error(i(462))}}R();break}catch(Ne){dd(a,Ne)}while(!0);return Jr=Fo=null,F.H=g,F.A=A,wn=d,an!==null?0:(jt=null,Dt=0,Qu(),Kn)}function R(){for(;an!==null&&!Je();)N(an)}function N(a){var l=Dl(a.alternate,a,Ca);a.memoizedProps=a.pendingProps,l===null?pe(a):an=l}function j(a){var l=a,d=l.alternate;switch(l.tag){case 15:case 0:l=Zs(d,l,l.pendingProps,l.type,void 0,Dt);break;case 11:l=Zs(d,l,l.pendingProps,l.type.render,l.ref,Dt);break;case 5:vm(l);default:Yc(d,l),l=an=am(l,Ca),l=Dl(d,l,Ca)}a.memoizedProps=a.pendingProps,l===null?pe(a):an=l}function te(a,l,d,g){Jr=Fo=null,vm(l),Ml=null,mf=0;var A=l.return;try{if(CA(a,A,l,d,Dt)){Kn=1,sd(a,Ki(d,a.current)),an=null;return}}catch(T){if(A!==null)throw an=A,T;Kn=1,sd(a,Ki(d,a.current)),an=null;return}l.flags&32768?(Mn||g===1?a=!0:Kc||(Dt&536870912)!==0?a=!1:(sa=a=!0,(g===2||g===9||g===3||g===6)&&(g=zn.current,g!==null&&g.tag===13&&(g.flags|=16384))),De(l,a)):pe(l)}function pe(a){var l=a;do{if((l.flags&32768)!==0){De(l,sa);return}a=l.return;var d=Lm(l.alternate,l,Ca);if(d!==null){an=d;return}if(l=l.sibling,l!==null){an=l;return}an=l=a}while(l!==null);Kn===0&&(Kn=5)}function De(a,l){do{var d=jc(a.alternate,a);if(d!==null){d.flags&=32767,an=d;return}if(d=a.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!l&&(a=a.sibling,a!==null)){an=a;return}an=a=d}while(a!==null);Kn=6,an=null}function Ke(a,l,d,g,A,T,L,V,ee){a.cancelPendingCommit=null;do nl();while(wi!==0);if((wn&6)!==0)throw Error(i(327));if(l!==null){if(l===a.current)throw Error(i(177));if(T=l.lanes|l.childLanes,T|=Lh,qe(a,d,T,L,V,ee),a===jt&&(an=jt=null,Dt=0),Vn=l,us=a,ra=d,oo=T,bf=A,oa=g,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,En(et,function(){return il(),null})):(a.callbackNode=null,a.callbackPriority=0),g=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||g){g=F.T,F.T=null,A=q.p,q.p=2,L=wn,wn|=4;try{Ri(a,l,d)}finally{wn=L,q.p=A,F.T=g}}wi=1,ot(),ft(),Yt()}}function ot(){if(wi===1){wi=0;var a=us,l=Vn,d=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||d){d=F.T,F.T=null;var g=q.p;q.p=2;var A=wn;wn|=4;try{ld(l,a);var T=IA,L=Zp(a.containerInfo),V=T.focusedElem,ee=T.selectionRange;if(L!==V&&V&&V.ownerDocument&&Qp(V.ownerDocument.documentElement,V)){if(ee!==null&&Wu(V)){var ve=ee.start,Ne=ee.end;if(Ne===void 0&&(Ne=ve),"selectionStart"in V)V.selectionStart=ve,V.selectionEnd=Math.min(Ne,V.value.length);else{var ze=V.ownerDocument||document,be=ze&&ze.defaultView||window;if(be.getSelection){var Ee=be.getSelection(),kt=V.textContent.length,Ft=Math.min(ee.start,kt),Jn=ee.end===void 0?Ft:Math.min(ee.end,kt);!Ee.extend&&Ft>Jn&&(L=Jn,Jn=Ft,Ft=L);var he=Kp(V,Ft),re=Kp(V,Jn);if(he&&re&&(Ee.rangeCount!==1||Ee.anchorNode!==he.node||Ee.anchorOffset!==he.offset||Ee.focusNode!==re.node||Ee.focusOffset!==re.offset)){var ye=ze.createRange();ye.setStart(he.node,he.offset),Ee.removeAllRanges(),Ft>Jn?(Ee.addRange(ye),Ee.extend(re.node,re.offset)):(ye.setEnd(re.node,re.offset),Ee.addRange(ye))}}}}for(ze=[],Ee=V;Ee=Ee.parentNode;)Ee.nodeType===1&&ze.push({element:Ee,left:Ee.scrollLeft,top:Ee.scrollTop});for(typeof V.focus=="function"&&V.focus(),V=0;V<ze.length;V++){var Le=ze[V];Le.element.scrollLeft=Le.left,Le.element.scrollTop=Le.top}}tv=!!PA,IA=PA=null}finally{wn=A,q.p=g,F.T=d}}a.current=l,wi=2}}function ft(){if(wi===2){wi=0;var a=us,l=Vn,d=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||d){d=F.T,F.T=null;var g=q.p;q.p=2;var A=wn;wn|=4;try{ao(a,l.alternate,l)}finally{wn=A,q.p=g,F.T=d}}wi=3}}function Yt(){if(wi===4||wi===3){wi=0,Xe();var a=us,l=Vn,d=ra,g=oa;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?wi=5:(wi=0,Vn=us=null,la(a,a.pendingLanes));var A=a.pendingLanes;if(A===0&&(aa=null),xn(d),l=l.stateNode,Be&&typeof Be.onCommitFiberRoot=="function")try{Be.onCommitFiberRoot(Re,l,void 0,(l.current.flags&128)===128)}catch{}if(g!==null){l=F.T,A=q.p,q.p=2,F.T=null;try{for(var T=a.onRecoverableError,L=0;L<g.length;L++){var V=g[L];T(V.value,{componentStack:V.stack})}}finally{F.T=l,q.p=A}}(ra&3)!==0&&nl(),sl(a),A=a.pendingLanes,(d&4194090)!==0&&(A&42)!==0?a===zl?Sr++:(Sr=0,zl=a):Sr=0,Im(0)}}function la(a,l){(a.pooledCacheLanes&=l)===0&&(l=a.pooledCache,l!=null&&(a.pooledCache=null,Dc(l)))}function nl(a){return ot(),ft(),Yt(),il()}function il(){if(wi!==5)return!1;var a=us,l=oo;oo=0;var d=xn(ra),g=F.T,A=q.p;try{q.p=32>d?32:d,F.T=null,d=bf,bf=null;var T=us,L=ra;if(wi=0,Vn=us=null,ra=0,(wn&6)!==0)throw Error(i(331));var V=wn;if(wn|=4,Om(T.current),fd(T,T.current,L,d),wn=V,Im(0,!1),Be&&typeof Be.onPostCommitFiberRoot=="function")try{Be.onPostCommitFiberRoot(Re,T)}catch{}return!0}finally{q.p=A,F.T=g,la(a,l)}}function Ae(a,l,d){l=Ki(d,l),l=ad(a.stateNode,l,2),a=Zr(a,l,2),a!==null&&(ht(a,2),sl(a))}function ae(a,l,d){if(a.tag===3)Ae(a,a,d);else for(;l!==null;){if(l.tag===3){Ae(l,a,d);break}else if(l.tag===1){var g=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(aa===null||!aa.has(g))){a=Ki(d,a),d=Vy(2),g=Zr(l,d,2),g!==null&&(rd(d,g,l,a),ht(g,2),sl(g));break}}l=l.return}}function Te(a,l,d){var g=a.pingCache;if(g===null){g=a.pingCache=new Pm;var A=new Set;g.set(l,A)}else A=g.get(l),A===void 0&&(A=new Set,g.set(l,A));A.has(d)||(Qc=!0,A.add(d),a=We.bind(null,a,l,d),l.then(a,a))}function We(a,l,d){var g=a.pingCache;g!==null&&g.delete(l),a.pingedLanes|=a.suspendedLanes&d,a.warmLanes&=~d,jt===a&&(Dt&d)===d&&(Kn===4||Kn===3&&(Dt&62914560)===Dt&&300>Ge()-Pn?(wn&2)===0&&tl(a,0):Fl|=d,An===Dt&&(An=0)),sl(a)}function Tt(a,l){l===0&&(l=st()),a=qr(a,l),a!==null&&(ht(a,l),sl(a))}function Qn(a){var l=a.memoizedState,d=0;l!==null&&(d=l.retryLane),Tt(a,d)}function Vt(a,l){var d=0;switch(a.tag){case 13:var g=a.stateNode,A=a.memoizedState;A!==null&&(d=A.retryLane);break;case 19:g=a.stateNode;break;case 22:g=a.stateNode._retryCache;break;default:throw Error(i(314))}g!==null&&g.delete(l),Tt(a,d)}function En(a,l){return St(a,l)}var hi=null,on=null,Er=!1,md=!1,RA=!1,Mf=0;function sl(a){a!==on&&a.next===null&&(on===null?hi=on=a:on=on.next=a),md=!0,Er||(Er=!0,lL())}function Im(a,l){if(!RA&&md){RA=!0;do for(var d=!1,g=hi;g!==null;){if(a!==0){var A=g.pendingLanes;if(A===0)var T=0;else{var L=g.suspendedLanes,V=g.pingedLanes;T=(1<<31-rt(42|a)+1)-1,T&=A&~(L&~V),T=T&201326741?T&201326741|1:T?T|2:0}T!==0&&(d=!0,RE(g,T))}else T=Dt,T=Et(g,g===jt?T:0,g.cancelPendingCommit!==null||g.timeoutHandle!==-1),(T&3)===0||Qe(g,T)||(d=!0,RE(g,T));g=g.next}while(d);RA=!1}}function oL(){EE()}function EE(){md=Er=!1;var a=0;Mf!==0&&(gL()&&(a=Mf),Mf=0);for(var l=Ge(),d=null,g=hi;g!==null;){var A=g.next,T=TE(g,l);T===0?(g.next=null,d===null?hi=A:d.next=A,A===null&&(on=d)):(d=g,(a!==0||(T&3)!==0)&&(md=!0)),g=A}Im(a)}function TE(a,l){for(var d=a.suspendedLanes,g=a.pingedLanes,A=a.expirationTimes,T=a.pendingLanes&-62914561;0<T;){var L=31-rt(T),V=1<<L,ee=A[L];ee===-1?((V&d)===0||(V&g)!==0)&&(A[L]=Ot(V,l)):ee<=l&&(a.expiredLanes|=V),T&=~V}if(l=jt,d=Dt,d=Et(a,a===l?d:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),g=a.callbackNode,d===0||a===l&&(Qt===2||Qt===9)||a.cancelPendingCommit!==null)return g!==null&&g!==null&&K(g),a.callbackNode=null,a.callbackPriority=0;if((d&3)===0||Qe(a,d)){if(l=d&-d,l===a.callbackPriority)return l;switch(g!==null&&K(g),xn(d)){case 2:case 8:d=Ve;break;case 32:d=et;break;case 268435456:d=$;break;default:d=et}return g=CE.bind(null,a),d=St(d,g),a.callbackPriority=l,a.callbackNode=d,l}return g!==null&&g!==null&&K(g),a.callbackPriority=2,a.callbackNode=null,2}function CE(a,l){if(wi!==0&&wi!==5)return a.callbackNode=null,a.callbackPriority=0,null;var d=a.callbackNode;if(nl()&&a.callbackNode!==d)return null;var g=Dt;return g=Et(a,a===jt?g:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),g===0?null:(Zc(a,g,l),TE(a,Ge()),a.callbackNode!=null&&a.callbackNode===d?CE.bind(null,a):null)}function RE(a,l){if(nl())return null;Zc(a,l,!0)}function lL(){vL(function(){(wn&6)!==0?St(at,oL):EE()})}function wA(){return Mf===0&&(Mf=oe()),Mf}function wE(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:Ou(""+a)}function BE(a,l){var d=l.ownerDocument.createElement("input");return d.name=l.name,d.value=l.value,a.id&&d.setAttribute("form",a.id),l.parentNode.insertBefore(d,l),a=new FormData(a),d.parentNode.removeChild(d),a}function cL(a,l,d,g,A){if(l==="submit"&&d&&d.stateNode===A){var T=wE((A[Ei]||null).action),L=g.submitter;L&&(l=(l=L[Ei]||null)?wE(l.formAction):L.getAttribute("formAction"),l!==null&&(T=l,L=null));var V=new vc("action","action",null,g,A);a.push({event:V,listeners:[{instance:null,listener:function(){if(g.defaultPrevented){if(Mf!==0){var ee=L?BE(A,L):new FormData(A);Bm(d,{pending:!0,data:ee,method:A.method,action:T},null,ee)}}else typeof T=="function"&&(V.preventDefault(),ee=L?BE(A,L):new FormData(A),Bm(d,{pending:!0,data:ee,method:A.method,action:T},T,ee))},currentTarget:A}]})}}for(var BA=0;BA<Ku.length;BA++){var DA=Ku[BA],uL=DA.toLowerCase(),fL=DA[0].toUpperCase()+DA.slice(1);Fi(uL,"on"+fL)}Fi(_s,"onAnimationEnd"),Fi(tm,"onAnimationIteration"),Fi(Os,"onAnimationStart"),Fi("dblclick","onDoubleClick"),Fi("focusin","onFocus"),Fi("focusout","onBlur"),Fi(ey,"onTransitionRun"),Fi(jr,"onTransitionStart"),Fi(Tc,"onTransitionCancel"),Fi(Yr,"onTransitionEnd"),k("onMouseEnter",["mouseout","mouseover"]),k("onMouseLeave",["mouseout","mouseover"]),k("onPointerEnter",["pointerout","pointerover"]),k("onPointerLeave",["pointerout","pointerover"]),Ga("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ga("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ga("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ga("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ga("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ga("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fm="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hL=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Fm));function DE(a,l){l=(l&4)!==0;for(var d=0;d<a.length;d++){var g=a[d],A=g.event;g=g.listeners;e:{var T=void 0;if(l)for(var L=g.length-1;0<=L;L--){var V=g[L],ee=V.instance,ve=V.currentTarget;if(V=V.listener,ee!==T&&A.isPropagationStopped())break e;T=V,A.currentTarget=ve;try{T(A)}catch(Ne){Tl(Ne)}A.currentTarget=null,T=ee}else for(L=0;L<g.length;L++){if(V=g[L],ee=V.instance,ve=V.currentTarget,V=V.listener,ee!==T&&A.isPropagationStopped())break e;T=V,A.currentTarget=ve;try{T(A)}catch(Ne){Tl(Ne)}A.currentTarget=null,T=ee}}}}function dn(a,l){var d=l[Ds];d===void 0&&(d=l[Ds]=new Set);var g=a+"__bubble";d.has(g)||(NE(l,a,2,!1),d.add(g))}function NA(a,l,d){var g=0;l&&(g|=4),NE(d,a,g,l)}var Yy="_reactListening"+Math.random().toString(36).slice(2);function UA(a){if(!a[Yy]){a[Yy]=!0,dc.forEach(function(d){d!=="selectionchange"&&(hL.has(d)||NA(d,!1,a),NA(d,!0,a))});var l=a.nodeType===9?a:a.ownerDocument;l===null||l[Yy]||(l[Yy]=!0,NA("selectionchange",!1,l))}}function NE(a,l,d,g){switch(nT(l)){case 2:var A=zL;break;case 8:A=HL;break;default:A=qA}d=A.bind(null,l,d,a),A=void 0,!Iu||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(A=!0),g?A!==void 0?a.addEventListener(l,d,{capture:!0,passive:A}):a.addEventListener(l,d,!0):A!==void 0?a.addEventListener(l,d,{passive:A}):a.addEventListener(l,d,!1)}function LA(a,l,d,g,A){var T=g;if((l&1)===0&&(l&2)===0&&g!==null)e:for(;;){if(g===null)return;var L=g.tag;if(L===3||L===4){var V=g.stateNode.containerInfo;if(V===A)break;if(L===4)for(L=g.return;L!==null;){var ee=L.tag;if((ee===3||ee===4)&&L.stateNode.containerInfo===A)return;L=L.return}for(;V!==null;){if(L=za(V),L===null)return;if(ee=L.tag,ee===5||ee===6||ee===26||ee===27){g=T=L;continue e}V=V.parentNode}}g=g.return}Fp(function(){var ve=T,Ne=Ah(d),ze=[];e:{var be=Uh.get(a);if(be!==void 0){var Ee=vc,kt=a;switch(a){case"keypress":if(To(d)===0)break e;case"keydown":case"keyup":Ee=kp;break;case"focusin":kt="focus",Ee=Sh;break;case"focusout":kt="blur",Ee=Sh;break;case"beforeblur":case"afterblur":Ee=Sh;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ee=Gp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ee=gA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ee=jp;break;case _s:case tm:case Os:Ee=z0;break;case Yr:Ee=Gr;break;case"scroll":case"scrollend":Ee=P0;break;case"wheel":Ee=yA;break;case"copy":case"cut":case"paste":Ee=G0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ee=Eh;break;case"toggle":case"beforetoggle":Ee=Ro}var Ft=(l&4)!==0,Jn=!Ft&&(a==="scroll"||a==="scrollend"),he=Ft?be!==null?be+"Capture":null:be;Ft=[];for(var re=ve,ye;re!==null;){var Le=re;if(ye=Le.stateNode,Le=Le.tag,Le!==5&&Le!==26&&Le!==27||ye===null||he===null||(Le=mc(re,he),Le!=null&&Ft.push(zm(re,Le,ye))),Jn)break;re=re.return}0<Ft.length&&(be=new Ee(be,kt,null,d,Ne),ze.push({event:be,listeners:Ft}))}}if((l&7)===0){e:{if(be=a==="mouseover"||a==="pointerover",Ee=a==="mouseout"||a==="pointerout",be&&d!==_h&&(kt=d.relatedTarget||d.fromElement)&&(za(kt)||kt[rs]))break e;if((Ee||be)&&(be=Ne.window===Ne?Ne:(be=Ne.ownerDocument)?be.defaultView||be.parentWindow:window,Ee?(kt=d.relatedTarget||d.toElement,Ee=ve,kt=kt?za(kt):null,kt!==null&&(Jn=r(kt),Ft=kt.tag,kt!==Jn||Ft!==5&&Ft!==27&&Ft!==6)&&(kt=null)):(Ee=null,kt=ve),Ee!==kt)){if(Ft=Gp,Le="onMouseLeave",he="onMouseEnter",re="mouse",(a==="pointerout"||a==="pointerover")&&(Ft=Eh,Le="onPointerLeave",he="onPointerEnter",re="pointer"),Jn=Ee==null?be:Mo(Ee),ye=kt==null?be:Mo(kt),be=new Ft(Le,re+"leave",Ee,d,Ne),be.target=Jn,be.relatedTarget=ye,Le=null,za(Ne)===ve&&(Ft=new Ft(he,re+"enter",kt,d,Ne),Ft.target=ye,Ft.relatedTarget=Jn,Le=Ft),Jn=Le,Ee&&kt)t:{for(Ft=Ee,he=kt,re=0,ye=Ft;ye;ye=gd(ye))re++;for(ye=0,Le=he;Le;Le=gd(Le))ye++;for(;0<re-ye;)Ft=gd(Ft),re--;for(;0<ye-re;)he=gd(he),ye--;for(;re--;){if(Ft===he||he!==null&&Ft===he.alternate)break t;Ft=gd(Ft),he=gd(he)}Ft=null}else Ft=null;Ee!==null&&UE(ze,be,Ee,Ft,!1),kt!==null&&Jn!==null&&UE(ze,Jn,kt,Ft,!0)}}e:{if(be=ve?Mo(ve):window,Ee=be.nodeName&&be.nodeName.toLowerCase(),Ee==="select"||Ee==="input"&&be.type==="file")var yt=Ch;else if(Jp(be))if(Rh)yt=Do;else{yt=Q0;var fn=vA}else Ee=be.nodeName,!Ee||Ee.toLowerCase()!=="input"||be.type!=="checkbox"&&be.type!=="radio"?ve&&xh(ve.elementType)&&(yt=Ch):yt=qu;if(yt&&(yt=yt(a,ve))){Ns(ze,yt,d,Ne);break e}fn&&fn(a,be,ve),a==="focusout"&&ve&&be.type==="number"&&ve.memoizedProps.value!=null&&Yi(be,"number",be.value)}switch(fn=ve?Mo(ve):window,a){case"focusin":(Jp(fn)||fn.contentEditable==="true")&&(kr=fn,Bh=ve,Ju=null);break;case"focusout":Ju=Bh=kr=null;break;case"mousedown":Dh=!0;break;case"contextmenu":case"mouseup":case"dragend":Dh=!1,em(ze,d,Ne);break;case"selectionchange":if($p)break;case"keydown":case"keyup":em(ze,d,Ne)}var Ct;if(Gu)e:{switch(a){case"compositionstart":var zt="onCompositionStart";break e;case"compositionend":zt="onCompositionEnd";break e;case"compositionupdate":zt="onCompositionUpdate";break e}zt=void 0}else Bo?Xu(a,d)&&(zt="onCompositionEnd"):a==="keydown"&&d.keyCode===229&&(zt="onCompositionStart");zt&&(ku&&d.locale!=="ko"&&(Bo||zt!=="onCompositionStart"?zt==="onCompositionEnd"&&Bo&&(Ct=Hp()):(zr=Ne,zp="value"in zr?zr.value:zr.textContent,Bo=!0)),fn=qy(ve,zt),0<fn.length&&(zt=new Mh(zt,a,null,d,Ne),ze.push({event:zt,listeners:fn}),Ct?zt.data=Ct:(Ct=qp(d),Ct!==null&&(zt.data=Ct)))),(Ct=Vu?ju(a,d):Wp(a,d))&&(zt=qy(ve,"onBeforeInput"),0<zt.length&&(fn=new Mh("onBeforeInput","beforeinput",null,d,Ne),ze.push({event:fn,listeners:zt}),fn.data=Ct)),cL(ze,a,ve,d,Ne)}DE(ze,l)})}function zm(a,l,d){return{instance:a,listener:l,currentTarget:d}}function qy(a,l){for(var d=l+"Capture",g=[];a!==null;){var A=a,T=A.stateNode;if(A=A.tag,A!==5&&A!==26&&A!==27||T===null||(A=mc(a,d),A!=null&&g.unshift(zm(a,A,T)),A=mc(a,l),A!=null&&g.push(zm(a,A,T))),a.tag===3)return g;a=a.return}return[]}function gd(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function UE(a,l,d,g,A){for(var T=l._reactName,L=[];d!==null&&d!==g;){var V=d,ee=V.alternate,ve=V.stateNode;if(V=V.tag,ee!==null&&ee===g)break;V!==5&&V!==26&&V!==27||ve===null||(ee=ve,A?(ve=mc(d,T),ve!=null&&L.unshift(zm(d,ve,ee))):A||(ve=mc(d,T),ve!=null&&L.push(zm(d,ve,ee)))),d=d.return}L.length!==0&&a.push({event:l,listeners:L})}var dL=/\r\n?/g,pL=/\u0000|\uFFFD/g;function LE(a){return(typeof a=="string"?a:""+a).replace(dL,`
`).replace(pL,"")}function OE(a,l){return l=LE(l),LE(a)===l}function Wy(){}function Wn(a,l,d,g,A,T){switch(d){case"children":typeof g=="string"?l==="body"||l==="textarea"&&g===""||vs(a,g):(typeof g=="number"||typeof g=="bigint")&&l!=="body"&&vs(a,""+g);break;case"className":Ze(a,"class",g);break;case"tabIndex":Ze(a,"tabindex",g);break;case"dir":case"role":case"viewBox":case"width":case"height":Ze(a,d,g);break;case"style":Lu(a,g,T);break;case"data":if(l!=="object"){Ze(a,"data",g);break}case"src":case"href":if(g===""&&(l!=="a"||d!=="href")){a.removeAttribute(d);break}if(g==null||typeof g=="function"||typeof g=="symbol"||typeof g=="boolean"){a.removeAttribute(d);break}g=Ou(""+g),a.setAttribute(d,g);break;case"action":case"formAction":if(typeof g=="function"){a.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof T=="function"&&(d==="formAction"?(l!=="input"&&Wn(a,l,"name",A.name,A,null),Wn(a,l,"formEncType",A.formEncType,A,null),Wn(a,l,"formMethod",A.formMethod,A,null),Wn(a,l,"formTarget",A.formTarget,A,null)):(Wn(a,l,"encType",A.encType,A,null),Wn(a,l,"method",A.method,A,null),Wn(a,l,"target",A.target,A,null)));if(g==null||typeof g=="symbol"||typeof g=="boolean"){a.removeAttribute(d);break}g=Ou(""+g),a.setAttribute(d,g);break;case"onClick":g!=null&&(a.onclick=Wy);break;case"onScroll":g!=null&&dn("scroll",a);break;case"onScrollEnd":g!=null&&dn("scrollend",a);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(i(61));if(d=g.__html,d!=null){if(A.children!=null)throw Error(i(60));a.innerHTML=d}}break;case"multiple":a.multiple=g&&typeof g!="function"&&typeof g!="symbol";break;case"muted":a.muted=g&&typeof g!="function"&&typeof g!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(g==null||typeof g=="function"||typeof g=="boolean"||typeof g=="symbol"){a.removeAttribute("xlink:href");break}d=Ou(""+g),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":g!=null&&typeof g!="function"&&typeof g!="symbol"?a.setAttribute(d,""+g):a.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":g&&typeof g!="function"&&typeof g!="symbol"?a.setAttribute(d,""):a.removeAttribute(d);break;case"capture":case"download":g===!0?a.setAttribute(d,""):g!==!1&&g!=null&&typeof g!="function"&&typeof g!="symbol"?a.setAttribute(d,g):a.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":g!=null&&typeof g!="function"&&typeof g!="symbol"&&!isNaN(g)&&1<=g?a.setAttribute(d,g):a.removeAttribute(d);break;case"rowSpan":case"start":g==null||typeof g=="function"||typeof g=="symbol"||isNaN(g)?a.removeAttribute(d):a.setAttribute(d,g);break;case"popover":dn("beforetoggle",a),dn("toggle",a),ke(a,"popover",g);break;case"xlinkActuate":ct(a,"http://www.w3.org/1999/xlink","xlink:actuate",g);break;case"xlinkArcrole":ct(a,"http://www.w3.org/1999/xlink","xlink:arcrole",g);break;case"xlinkRole":ct(a,"http://www.w3.org/1999/xlink","xlink:role",g);break;case"xlinkShow":ct(a,"http://www.w3.org/1999/xlink","xlink:show",g);break;case"xlinkTitle":ct(a,"http://www.w3.org/1999/xlink","xlink:title",g);break;case"xlinkType":ct(a,"http://www.w3.org/1999/xlink","xlink:type",g);break;case"xmlBase":ct(a,"http://www.w3.org/XML/1998/namespace","xml:base",g);break;case"xmlLang":ct(a,"http://www.w3.org/XML/1998/namespace","xml:lang",g);break;case"xmlSpace":ct(a,"http://www.w3.org/XML/1998/namespace","xml:space",g);break;case"is":ke(a,"is",g);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=Pp.get(d)||d,ke(a,d,g))}}function OA(a,l,d,g,A,T){switch(d){case"style":Lu(a,g,T);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(i(61));if(d=g.__html,d!=null){if(A.children!=null)throw Error(i(60));a.innerHTML=d}}break;case"children":typeof g=="string"?vs(a,g):(typeof g=="number"||typeof g=="bigint")&&vs(a,""+g);break;case"onScroll":g!=null&&dn("scroll",a);break;case"onScrollEnd":g!=null&&dn("scrollend",a);break;case"onClick":g!=null&&(a.onclick=Wy);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!pc.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(A=d.endsWith("Capture"),l=d.slice(2,A?d.length-7:void 0),T=a[Ei]||null,T=T!=null?T[d]:null,typeof T=="function"&&a.removeEventListener(l,T,A),typeof g=="function")){typeof T!="function"&&T!==null&&(d in a?a[d]=null:a.hasAttribute(d)&&a.removeAttribute(d)),a.addEventListener(l,g,A);break e}d in a?a[d]=g:g===!0?a.setAttribute(d,""):ke(a,d,g)}}}function Cs(a,l,d){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":dn("error",a),dn("load",a);var g=!1,A=!1,T;for(T in d)if(d.hasOwnProperty(T)){var L=d[T];if(L!=null)switch(T){case"src":g=!0;break;case"srcSet":A=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,l));default:Wn(a,l,T,L,d,null)}}A&&Wn(a,l,"srcSet",d.srcSet,d,null),g&&Wn(a,l,"src",d.src,d,null);return;case"input":dn("invalid",a);var V=T=L=A=null,ee=null,ve=null;for(g in d)if(d.hasOwnProperty(g)){var Ne=d[g];if(Ne!=null)switch(g){case"name":A=Ne;break;case"type":L=Ne;break;case"checked":ee=Ne;break;case"defaultChecked":ve=Ne;break;case"value":T=Ne;break;case"defaultValue":V=Ne;break;case"children":case"dangerouslySetInnerHTML":if(Ne!=null)throw Error(i(137,l));break;default:Wn(a,l,g,Ne,d,null)}}On(a,T,V,ee,ve,L,A,!1),$n(a);return;case"select":dn("invalid",a),g=L=T=null;for(A in d)if(d.hasOwnProperty(A)&&(V=d[A],V!=null))switch(A){case"value":T=V;break;case"defaultValue":L=V;break;case"multiple":g=V;default:Wn(a,l,A,V,d,null)}l=T,d=L,a.multiple=!!g,l!=null?vi(a,!!g,l,!1):d!=null&&vi(a,!!g,d,!0);return;case"textarea":dn("invalid",a),T=A=g=null;for(L in d)if(d.hasOwnProperty(L)&&(V=d[L],V!=null))switch(L){case"value":g=V;break;case"defaultValue":A=V;break;case"children":T=V;break;case"dangerouslySetInnerHTML":if(V!=null)throw Error(i(91));break;default:Wn(a,l,L,V,d,null)}Ii(a,g,A,T),$n(a);return;case"option":for(ee in d)if(d.hasOwnProperty(ee)&&(g=d[ee],g!=null))switch(ee){case"selected":a.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:Wn(a,l,ee,g,d,null)}return;case"dialog":dn("beforetoggle",a),dn("toggle",a),dn("cancel",a),dn("close",a);break;case"iframe":case"object":dn("load",a);break;case"video":case"audio":for(g=0;g<Fm.length;g++)dn(Fm[g],a);break;case"image":dn("error",a),dn("load",a);break;case"details":dn("toggle",a);break;case"embed":case"source":case"link":dn("error",a),dn("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ve in d)if(d.hasOwnProperty(ve)&&(g=d[ve],g!=null))switch(ve){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,l));default:Wn(a,l,ve,g,d,null)}return;default:if(xh(l)){for(Ne in d)d.hasOwnProperty(Ne)&&(g=d[Ne],g!==void 0&&OA(a,l,Ne,g,d,void 0));return}}for(V in d)d.hasOwnProperty(V)&&(g=d[V],g!=null&&Wn(a,l,V,g,d,null))}function mL(a,l,d,g){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var A=null,T=null,L=null,V=null,ee=null,ve=null,Ne=null;for(Ee in d){var ze=d[Ee];if(d.hasOwnProperty(Ee)&&ze!=null)switch(Ee){case"checked":break;case"value":break;case"defaultValue":ee=ze;default:g.hasOwnProperty(Ee)||Wn(a,l,Ee,null,g,ze)}}for(var be in g){var Ee=g[be];if(ze=d[be],g.hasOwnProperty(be)&&(Ee!=null||ze!=null))switch(be){case"type":T=Ee;break;case"name":A=Ee;break;case"checked":ve=Ee;break;case"defaultChecked":Ne=Ee;break;case"value":L=Ee;break;case"defaultValue":V=Ee;break;case"children":case"dangerouslySetInnerHTML":if(Ee!=null)throw Error(i(137,l));break;default:Ee!==ze&&Wn(a,l,be,Ee,g,ze)}}or(a,L,V,ee,ve,Ne,T,A);return;case"select":Ee=L=V=be=null;for(T in d)if(ee=d[T],d.hasOwnProperty(T)&&ee!=null)switch(T){case"value":break;case"multiple":Ee=ee;default:g.hasOwnProperty(T)||Wn(a,l,T,null,g,ee)}for(A in g)if(T=g[A],ee=d[A],g.hasOwnProperty(A)&&(T!=null||ee!=null))switch(A){case"value":be=T;break;case"defaultValue":V=T;break;case"multiple":L=T;default:T!==ee&&Wn(a,l,A,T,g,ee)}l=V,d=L,g=Ee,be!=null?vi(a,!!d,be,!1):!!g!=!!d&&(l!=null?vi(a,!!d,l,!0):vi(a,!!d,d?[]:"",!1));return;case"textarea":Ee=be=null;for(V in d)if(A=d[V],d.hasOwnProperty(V)&&A!=null&&!g.hasOwnProperty(V))switch(V){case"value":break;case"children":break;default:Wn(a,l,V,null,g,A)}for(L in g)if(A=g[L],T=d[L],g.hasOwnProperty(L)&&(A!=null||T!=null))switch(L){case"value":be=A;break;case"defaultValue":Ee=A;break;case"children":break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(i(91));break;default:A!==T&&Wn(a,l,L,A,g,T)}Pi(a,be,Ee);return;case"option":for(var kt in d)if(be=d[kt],d.hasOwnProperty(kt)&&be!=null&&!g.hasOwnProperty(kt))switch(kt){case"selected":a.selected=!1;break;default:Wn(a,l,kt,null,g,be)}for(ee in g)if(be=g[ee],Ee=d[ee],g.hasOwnProperty(ee)&&be!==Ee&&(be!=null||Ee!=null))switch(ee){case"selected":a.selected=be&&typeof be!="function"&&typeof be!="symbol";break;default:Wn(a,l,ee,be,g,Ee)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ft in d)be=d[Ft],d.hasOwnProperty(Ft)&&be!=null&&!g.hasOwnProperty(Ft)&&Wn(a,l,Ft,null,g,be);for(ve in g)if(be=g[ve],Ee=d[ve],g.hasOwnProperty(ve)&&be!==Ee&&(be!=null||Ee!=null))switch(ve){case"children":case"dangerouslySetInnerHTML":if(be!=null)throw Error(i(137,l));break;default:Wn(a,l,ve,be,g,Ee)}return;default:if(xh(l)){for(var Jn in d)be=d[Jn],d.hasOwnProperty(Jn)&&be!==void 0&&!g.hasOwnProperty(Jn)&&OA(a,l,Jn,void 0,g,be);for(Ne in g)be=g[Ne],Ee=d[Ne],!g.hasOwnProperty(Ne)||be===Ee||be===void 0&&Ee===void 0||OA(a,l,Ne,be,g,Ee);return}}for(var he in d)be=d[he],d.hasOwnProperty(he)&&be!=null&&!g.hasOwnProperty(he)&&Wn(a,l,he,null,g,be);for(ze in g)be=g[ze],Ee=d[ze],!g.hasOwnProperty(ze)||be===Ee||be==null&&Ee==null||Wn(a,l,ze,be,g,Ee)}var PA=null,IA=null;function Jy(a){return a.nodeType===9?a:a.ownerDocument}function PE(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function IE(a,l){if(a===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&l==="foreignObject"?0:a}function FA(a,l){return a==="textarea"||a==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var zA=null;function gL(){var a=window.event;return a&&a.type==="popstate"?a===zA?!1:(zA=a,!0):(zA=null,!1)}var FE=typeof setTimeout=="function"?setTimeout:void 0,yL=typeof clearTimeout=="function"?clearTimeout:void 0,zE=typeof Promise=="function"?Promise:void 0,vL=typeof queueMicrotask=="function"?queueMicrotask:typeof zE<"u"?function(a){return zE.resolve(null).then(a).catch(xL)}:FE;function xL(a){setTimeout(function(){throw a})}function eu(a){return a==="head"}function HE(a,l){var d=l,g=0,A=0;do{var T=d.nextSibling;if(a.removeChild(d),T&&T.nodeType===8)if(d=T.data,d==="/$"){if(0<g&&8>g){d=g;var L=a.ownerDocument;if(d&1&&Hm(L.documentElement),d&2&&Hm(L.body),d&4)for(d=L.head,Hm(d),L=d.firstChild;L;){var V=L.nextSibling,ee=L.nodeName;L[Fa]||ee==="SCRIPT"||ee==="STYLE"||ee==="LINK"&&L.rel.toLowerCase()==="stylesheet"||d.removeChild(L),L=V}}if(A===0){a.removeChild(T),Wm(l);return}A--}else d==="$"||d==="$?"||d==="$!"?A++:g=d.charCodeAt(0)-48;else g=0;d=T}while(d);Wm(l)}function HA(a){var l=a.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var d=l;switch(l=l.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":HA(d),Ln(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}a.removeChild(d)}}function _L(a,l,d,g){for(;a.nodeType===1;){var A=d;if(a.nodeName.toLowerCase()!==l.toLowerCase()){if(!g&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(g){if(!a[Fa])switch(l){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(T=a.getAttribute("rel"),T==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(T!==A.rel||a.getAttribute("href")!==(A.href==null||A.href===""?null:A.href)||a.getAttribute("crossorigin")!==(A.crossOrigin==null?null:A.crossOrigin)||a.getAttribute("title")!==(A.title==null?null:A.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(T=a.getAttribute("src"),(T!==(A.src==null?null:A.src)||a.getAttribute("type")!==(A.type==null?null:A.type)||a.getAttribute("crossorigin")!==(A.crossOrigin==null?null:A.crossOrigin))&&T&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(l==="input"&&a.type==="hidden"){var T=A.name==null?null:""+A.name;if(A.type==="hidden"&&a.getAttribute("name")===T)return a}else return a;if(a=lo(a.nextSibling),a===null)break}return null}function AL(a,l,d){if(l==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!d||(a=lo(a.nextSibling),a===null))return null;return a}function GA(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState==="complete"}function bL(a,l){var d=a.ownerDocument;if(a.data!=="$?"||d.readyState==="complete")l();else{var g=function(){l(),d.removeEventListener("DOMContentLoaded",g)};d.addEventListener("DOMContentLoaded",g),a._reactRetry=g}}function lo(a){for(;a!=null;a=a.nextSibling){var l=a.nodeType;if(l===1||l===3)break;if(l===8){if(l=a.data,l==="$"||l==="$!"||l==="$?"||l==="F!"||l==="F")break;if(l==="/$")return null}}return a}var VA=null;function GE(a){a=a.previousSibling;for(var l=0;a;){if(a.nodeType===8){var d=a.data;if(d==="$"||d==="$!"||d==="$?"){if(l===0)return a;l--}else d==="/$"&&l++}a=a.previousSibling}return null}function VE(a,l,d){switch(l=Jy(d),a){case"html":if(a=l.documentElement,!a)throw Error(i(452));return a;case"head":if(a=l.head,!a)throw Error(i(453));return a;case"body":if(a=l.body,!a)throw Error(i(454));return a;default:throw Error(i(451))}}function Hm(a){for(var l=a.attributes;l.length;)a.removeAttributeNode(l[0]);Ln(a)}var Tr=new Map,kE=new Set;function Ky(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var Gl=q.d;q.d={f:SL,r:ML,D:EL,C:TL,L:CL,m:RL,X:BL,S:wL,M:DL};function SL(){var a=Gl.f(),l=Mr();return a||l}function ML(a){var l=Ha(a);l!==null&&l.tag===5&&l.type==="form"?wy(l):Gl.r(a)}var yd=typeof document>"u"?null:document;function XE(a,l,d){var g=yd;if(g&&typeof l=="string"&&l){var A=Fn(l);A='link[rel="'+a+'"][href="'+A+'"]',typeof d=="string"&&(A+='[crossorigin="'+d+'"]'),kE.has(A)||(kE.add(A),a={rel:a,crossOrigin:d,href:l},g.querySelector(A)===null&&(l=g.createElement("link"),Cs(l,"link",a),yi(l),g.head.appendChild(l)))}}function EL(a){Gl.D(a),XE("dns-prefetch",a,null)}function TL(a,l){Gl.C(a,l),XE("preconnect",a,l)}function CL(a,l,d){Gl.L(a,l,d);var g=yd;if(g&&a&&l){var A='link[rel="preload"][as="'+Fn(l)+'"]';l==="image"&&d&&d.imageSrcSet?(A+='[imagesrcset="'+Fn(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(A+='[imagesizes="'+Fn(d.imageSizes)+'"]')):A+='[href="'+Fn(a)+'"]';var T=A;switch(l){case"style":T=vd(a);break;case"script":T=xd(a)}Tr.has(T)||(a=m({rel:"preload",href:l==="image"&&d&&d.imageSrcSet?void 0:a,as:l},d),Tr.set(T,a),g.querySelector(A)!==null||l==="style"&&g.querySelector(Gm(T))||l==="script"&&g.querySelector(Vm(T))||(l=g.createElement("link"),Cs(l,"link",a),yi(l),g.head.appendChild(l)))}}function RL(a,l){Gl.m(a,l);var d=yd;if(d&&a){var g=l&&typeof l.as=="string"?l.as:"script",A='link[rel="modulepreload"][as="'+Fn(g)+'"][href="'+Fn(a)+'"]',T=A;switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":T=xd(a)}if(!Tr.has(T)&&(a=m({rel:"modulepreload",href:a},l),Tr.set(T,a),d.querySelector(A)===null)){switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(Vm(T)))return}g=d.createElement("link"),Cs(g,"link",a),yi(g),d.head.appendChild(g)}}}function wL(a,l,d){Gl.S(a,l,d);var g=yd;if(g&&a){var A=Fr(g).hoistableStyles,T=vd(a);l=l||"default";var L=A.get(T);if(!L){var V={loading:0,preload:null};if(L=g.querySelector(Gm(T)))V.loading=5;else{a=m({rel:"stylesheet",href:a,"data-precedence":l},d),(d=Tr.get(T))&&kA(a,d);var ee=L=g.createElement("link");yi(ee),Cs(ee,"link",a),ee._p=new Promise(function(ve,Ne){ee.onload=ve,ee.onerror=Ne}),ee.addEventListener("load",function(){V.loading|=1}),ee.addEventListener("error",function(){V.loading|=2}),V.loading|=4,Qy(L,l,g)}L={type:"stylesheet",instance:L,count:1,state:V},A.set(T,L)}}}function BL(a,l){Gl.X(a,l);var d=yd;if(d&&a){var g=Fr(d).hoistableScripts,A=xd(a),T=g.get(A);T||(T=d.querySelector(Vm(A)),T||(a=m({src:a,async:!0},l),(l=Tr.get(A))&&XA(a,l),T=d.createElement("script"),yi(T),Cs(T,"link",a),d.head.appendChild(T)),T={type:"script",instance:T,count:1,state:null},g.set(A,T))}}function DL(a,l){Gl.M(a,l);var d=yd;if(d&&a){var g=Fr(d).hoistableScripts,A=xd(a),T=g.get(A);T||(T=d.querySelector(Vm(A)),T||(a=m({src:a,async:!0,type:"module"},l),(l=Tr.get(A))&&XA(a,l),T=d.createElement("script"),yi(T),Cs(T,"link",a),d.head.appendChild(T)),T={type:"script",instance:T,count:1,state:null},g.set(A,T))}}function jE(a,l,d,g){var A=(A=Oe.current)?Ky(A):null;if(!A)throw Error(i(446));switch(a){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(l=vd(d.href),d=Fr(A).hoistableStyles,g=d.get(l),g||(g={type:"style",instance:null,count:0,state:null},d.set(l,g)),g):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){a=vd(d.href);var T=Fr(A).hoistableStyles,L=T.get(a);if(L||(A=A.ownerDocument||A,L={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},T.set(a,L),(T=A.querySelector(Gm(a)))&&!T._p&&(L.instance=T,L.state.loading=5),Tr.has(a)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},Tr.set(a,d),T||NL(A,a,d,L.state))),l&&g===null)throw Error(i(528,""));return L}if(l&&g!==null)throw Error(i(529,""));return null;case"script":return l=d.async,d=d.src,typeof d=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=xd(d),d=Fr(A).hoistableScripts,g=d.get(l),g||(g={type:"script",instance:null,count:0,state:null},d.set(l,g)),g):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,a))}}function vd(a){return'href="'+Fn(a)+'"'}function Gm(a){return'link[rel="stylesheet"]['+a+"]"}function YE(a){return m({},a,{"data-precedence":a.precedence,precedence:null})}function NL(a,l,d,g){a.querySelector('link[rel="preload"][as="style"]['+l+"]")?g.loading=1:(l=a.createElement("link"),g.preload=l,l.addEventListener("load",function(){return g.loading|=1}),l.addEventListener("error",function(){return g.loading|=2}),Cs(l,"link",d),yi(l),a.head.appendChild(l))}function xd(a){return'[src="'+Fn(a)+'"]'}function Vm(a){return"script[async]"+a}function qE(a,l,d){if(l.count++,l.instance===null)switch(l.type){case"style":var g=a.querySelector('style[data-href~="'+Fn(d.href)+'"]');if(g)return l.instance=g,yi(g),g;var A=m({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return g=(a.ownerDocument||a).createElement("style"),yi(g),Cs(g,"style",A),Qy(g,d.precedence,a),l.instance=g;case"stylesheet":A=vd(d.href);var T=a.querySelector(Gm(A));if(T)return l.state.loading|=4,l.instance=T,yi(T),T;g=YE(d),(A=Tr.get(A))&&kA(g,A),T=(a.ownerDocument||a).createElement("link"),yi(T);var L=T;return L._p=new Promise(function(V,ee){L.onload=V,L.onerror=ee}),Cs(T,"link",g),l.state.loading|=4,Qy(T,d.precedence,a),l.instance=T;case"script":return T=xd(d.src),(A=a.querySelector(Vm(T)))?(l.instance=A,yi(A),A):(g=d,(A=Tr.get(T))&&(g=m({},d),XA(g,A)),a=a.ownerDocument||a,A=a.createElement("script"),yi(A),Cs(A,"link",g),a.head.appendChild(A),l.instance=A);case"void":return null;default:throw Error(i(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(g=l.instance,l.state.loading|=4,Qy(g,d.precedence,a));return l.instance}function Qy(a,l,d){for(var g=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),A=g.length?g[g.length-1]:null,T=A,L=0;L<g.length;L++){var V=g[L];if(V.dataset.precedence===l)T=V;else if(T!==A)break}T?T.parentNode.insertBefore(a,T.nextSibling):(l=d.nodeType===9?d.head:d,l.insertBefore(a,l.firstChild))}function kA(a,l){a.crossOrigin==null&&(a.crossOrigin=l.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=l.referrerPolicy),a.title==null&&(a.title=l.title)}function XA(a,l){a.crossOrigin==null&&(a.crossOrigin=l.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=l.referrerPolicy),a.integrity==null&&(a.integrity=l.integrity)}var Zy=null;function WE(a,l,d){if(Zy===null){var g=new Map,A=Zy=new Map;A.set(d,g)}else A=Zy,g=A.get(d),g||(g=new Map,A.set(d,g));if(g.has(a))return g;for(g.set(a,null),d=d.getElementsByTagName(a),A=0;A<d.length;A++){var T=d[A];if(!(T[Fa]||T[gi]||a==="link"&&T.getAttribute("rel")==="stylesheet")&&T.namespaceURI!=="http://www.w3.org/2000/svg"){var L=T.getAttribute(l)||"";L=a+L;var V=g.get(L);V?V.push(T):g.set(L,[T])}}return g}function JE(a,l,d){a=a.ownerDocument||a,a.head.insertBefore(d,l==="title"?a.querySelector("head > title"):null)}function UL(a,l,d){if(d===1||l.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return a=l.disabled,typeof l.precedence=="string"&&a==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function KE(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}var km=null;function LL(){}function OL(a,l,d){if(km===null)throw Error(i(475));var g=km;if(l.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var A=vd(d.href),T=a.querySelector(Gm(A));if(T){a=T._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(g.count++,g=$y.bind(g),a.then(g,g)),l.state.loading|=4,l.instance=T,yi(T);return}T=a.ownerDocument||a,d=YE(d),(A=Tr.get(A))&&kA(d,A),T=T.createElement("link"),yi(T);var L=T;L._p=new Promise(function(V,ee){L.onload=V,L.onerror=ee}),Cs(T,"link",d),l.instance=T}g.stylesheets===null&&(g.stylesheets=new Map),g.stylesheets.set(l,a),(a=l.state.preload)&&(l.state.loading&3)===0&&(g.count++,l=$y.bind(g),a.addEventListener("load",l),a.addEventListener("error",l))}}function PL(){if(km===null)throw Error(i(475));var a=km;return a.stylesheets&&a.count===0&&jA(a,a.stylesheets),0<a.count?function(l){var d=setTimeout(function(){if(a.stylesheets&&jA(a,a.stylesheets),a.unsuspend){var g=a.unsuspend;a.unsuspend=null,g()}},6e4);return a.unsuspend=l,function(){a.unsuspend=null,clearTimeout(d)}}:null}function $y(){if(this.count--,this.count===0){if(this.stylesheets)jA(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var ev=null;function jA(a,l){a.stylesheets=null,a.unsuspend!==null&&(a.count++,ev=new Map,l.forEach(IL,a),ev=null,$y.call(a))}function IL(a,l){if(!(l.state.loading&4)){var d=ev.get(a);if(d)var g=d.get(null);else{d=new Map,ev.set(a,d);for(var A=a.querySelectorAll("link[data-precedence],style[data-precedence]"),T=0;T<A.length;T++){var L=A[T];(L.nodeName==="LINK"||L.getAttribute("media")!=="not all")&&(d.set(L.dataset.precedence,L),g=L)}g&&d.set(null,g)}A=l.instance,L=A.getAttribute("data-precedence"),T=d.get(L)||g,T===g&&d.set(null,A),d.set(L,A),this.count++,g=$y.bind(this),A.addEventListener("load",g),A.addEventListener("error",g),T?T.parentNode.insertBefore(A,T.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(A,a.firstChild)),l.state.loading|=4}}var Xm={$$typeof:B,Provider:null,Consumer:null,_currentValue:Y,_currentValue2:Y,_threadCount:0};function FL(a,l,d,g,A,T,L,V){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=je(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=je(0),this.hiddenUpdates=je(null),this.identifierPrefix=g,this.onUncaughtError=A,this.onCaughtError=T,this.onRecoverableError=L,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=V,this.incompleteTransitions=new Map}function QE(a,l,d,g,A,T,L,V,ee,ve,Ne,ze){return a=new FL(a,l,d,L,V,ee,ve,ze),l=1,T===!0&&(l|=24),T=Ps(3,null,null,l),a.current=T,T.stateNode=a,l=Hh(),l.refCount++,a.pooledCache=l,l.refCount++,T.memoizedState={element:g,isDehydrated:d,cache:l},pm(T),a}function ZE(a){return a?(a=Lo,a):Lo}function $E(a,l,d,g,A,T){A=ZE(A),g.context===null?g.context=A:g.pendingContext=A,g=dr(l),g.payload={element:d},T=T===void 0?null:T,T!==null&&(g.callback=T),d=Zr(a,g,l),d!==null&&(Ts(d,a,l),Sl(d,a,l))}function eT(a,l){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var d=a.retryLane;a.retryLane=d!==0&&d<l?d:l}}function YA(a,l){eT(a,l),(a=a.alternate)&&eT(a,l)}function tT(a){if(a.tag===13){var l=qr(a,67108864);l!==null&&Ts(l,a,67108864),YA(a,67108864)}}var tv=!0;function zL(a,l,d,g){var A=F.T;F.T=null;var T=q.p;try{q.p=2,qA(a,l,d,g)}finally{q.p=T,F.T=A}}function HL(a,l,d,g){var A=F.T;F.T=null;var T=q.p;try{q.p=8,qA(a,l,d,g)}finally{q.p=T,F.T=A}}function qA(a,l,d,g){if(tv){var A=WA(g);if(A===null)LA(a,l,g,nv,d),iT(a,g);else if(VL(A,a,l,d,g))g.stopPropagation();else if(iT(a,g),l&4&&-1<GL.indexOf(a)){for(;A!==null;){var T=Ha(A);if(T!==null)switch(T.tag){case 3:if(T=T.stateNode,T.current.memoizedState.isDehydrated){var L=At(T.pendingLanes);if(L!==0){var V=T;for(V.pendingLanes|=2,V.entangledLanes|=2;L;){var ee=1<<31-rt(L);V.entanglements[1]|=ee,L&=~ee}sl(T),(wn&6)===0&&(cs=Ge()+500,Im(0))}}break;case 13:V=qr(T,2),V!==null&&Ts(V,T,2),Mr(),YA(T,2)}if(T=WA(g),T===null&&LA(a,l,g,nv,d),T===A)break;A=T}A!==null&&g.stopPropagation()}else LA(a,l,g,null,d)}}function WA(a){return a=Ah(a),JA(a)}var nv=null;function JA(a){if(nv=null,a=za(a),a!==null){var l=r(a);if(l===null)a=null;else{var d=l.tag;if(d===13){if(a=o(l),a!==null)return a;a=null}else if(d===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;a=null}else l!==a&&(a=null)}}return nv=a,null}function nT(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ue()){case at:return 2;case Ve:return 8;case et:case Ht:return 32;case $:return 268435456;default:return 32}default:return 32}}var KA=!1,tu=null,nu=null,iu=null,jm=new Map,Ym=new Map,su=[],GL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function iT(a,l){switch(a){case"focusin":case"focusout":tu=null;break;case"dragenter":case"dragleave":nu=null;break;case"mouseover":case"mouseout":iu=null;break;case"pointerover":case"pointerout":jm.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ym.delete(l.pointerId)}}function qm(a,l,d,g,A,T){return a===null||a.nativeEvent!==T?(a={blockedOn:l,domEventName:d,eventSystemFlags:g,nativeEvent:T,targetContainers:[A]},l!==null&&(l=Ha(l),l!==null&&tT(l)),a):(a.eventSystemFlags|=g,l=a.targetContainers,A!==null&&l.indexOf(A)===-1&&l.push(A),a)}function VL(a,l,d,g,A){switch(l){case"focusin":return tu=qm(tu,a,l,d,g,A),!0;case"dragenter":return nu=qm(nu,a,l,d,g,A),!0;case"mouseover":return iu=qm(iu,a,l,d,g,A),!0;case"pointerover":var T=A.pointerId;return jm.set(T,qm(jm.get(T)||null,a,l,d,g,A)),!0;case"gotpointercapture":return T=A.pointerId,Ym.set(T,qm(Ym.get(T)||null,a,l,d,g,A)),!0}return!1}function sT(a){var l=za(a.target);if(l!==null){var d=r(l);if(d!==null){if(l=d.tag,l===13){if(l=o(d),l!==null){a.blockedOn=l,Bs(a.priority,function(){if(d.tag===13){var g=ai();g=Pt(g);var A=qr(d,g);A!==null&&Ts(A,d,g),YA(d,g)}});return}}else if(l===3&&d.stateNode.current.memoizedState.isDehydrated){a.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}a.blockedOn=null}function iv(a){if(a.blockedOn!==null)return!1;for(var l=a.targetContainers;0<l.length;){var d=WA(a.nativeEvent);if(d===null){d=a.nativeEvent;var g=new d.constructor(d.type,d);_h=g,d.target.dispatchEvent(g),_h=null}else return l=Ha(d),l!==null&&tT(l),a.blockedOn=d,!1;l.shift()}return!0}function aT(a,l,d){iv(a)&&d.delete(l)}function kL(){KA=!1,tu!==null&&iv(tu)&&(tu=null),nu!==null&&iv(nu)&&(nu=null),iu!==null&&iv(iu)&&(iu=null),jm.forEach(aT),Ym.forEach(aT)}function sv(a,l){a.blockedOn===l&&(a.blockedOn=null,KA||(KA=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,kL)))}var av=null;function rT(a){av!==a&&(av=a,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){av===a&&(av=null);for(var l=0;l<a.length;l+=3){var d=a[l],g=a[l+1],A=a[l+2];if(typeof g!="function"){if(JA(g||d)===null)continue;break}var T=Ha(d);T!==null&&(a.splice(l,3),l-=3,Bm(T,{pending:!0,data:A,method:d.method,action:g},g,A))}}))}function Wm(a){function l(ee){return sv(ee,a)}tu!==null&&sv(tu,a),nu!==null&&sv(nu,a),iu!==null&&sv(iu,a),jm.forEach(l),Ym.forEach(l);for(var d=0;d<su.length;d++){var g=su[d];g.blockedOn===a&&(g.blockedOn=null)}for(;0<su.length&&(d=su[0],d.blockedOn===null);)sT(d),d.blockedOn===null&&su.shift();if(d=(a.ownerDocument||a).$$reactFormReplay,d!=null)for(g=0;g<d.length;g+=3){var A=d[g],T=d[g+1],L=A[Ei]||null;if(typeof T=="function")L||rT(d);else if(L){var V=null;if(T&&T.hasAttribute("formAction")){if(A=T,L=T[Ei]||null)V=L.formAction;else if(JA(A)!==null)continue}else V=L.action;typeof V=="function"?d[g+1]=V:(d.splice(g,3),g-=3),rT(d)}}}function QA(a){this._internalRoot=a}rv.prototype.render=QA.prototype.render=function(a){var l=this._internalRoot;if(l===null)throw Error(i(409));var d=l.current,g=ai();$E(d,g,a,l,null,null)},rv.prototype.unmount=QA.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var l=a.containerInfo;$E(a.current,2,null,a,null,null),Mr(),l[rs]=null}};function rv(a){this._internalRoot=a}rv.prototype.unstable_scheduleHydration=function(a){if(a){var l=hn();a={blockedOn:null,target:a,priority:l};for(var d=0;d<su.length&&l!==0&&l<su[d].priority;d++);su.splice(d,0,a),d===0&&sT(a)}};var oT=e.version;if(oT!=="19.1.0")throw Error(i(527,oT,"19.1.0"));q.findDOMNode=function(a){var l=a._reactInternals;if(l===void 0)throw typeof a.render=="function"?Error(i(188)):(a=Object.keys(a).join(","),Error(i(268,a)));return a=h(l),a=a!==null?p(a):null,a=a===null?null:a.stateNode,a};var XL={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ov=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ov.isDisabled&&ov.supportsFiber)try{Re=ov.inject(XL),Be=ov}catch{}}return Km.createRoot=function(a,l){if(!s(a))throw Error(i(299));var d=!1,g="",A=yf,T=id,L=Gy,V=null;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(A=l.onUncaughtError),l.onCaughtError!==void 0&&(T=l.onCaughtError),l.onRecoverableError!==void 0&&(L=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(V=l.unstable_transitionCallbacks)),l=QE(a,1,!1,null,null,d,g,A,T,L,V,null),a[rs]=l.current,UA(a),new QA(l)},Km.hydrateRoot=function(a,l,d){if(!s(a))throw Error(i(299));var g=!1,A="",T=yf,L=id,V=Gy,ee=null,ve=null;return d!=null&&(d.unstable_strictMode===!0&&(g=!0),d.identifierPrefix!==void 0&&(A=d.identifierPrefix),d.onUncaughtError!==void 0&&(T=d.onUncaughtError),d.onCaughtError!==void 0&&(L=d.onCaughtError),d.onRecoverableError!==void 0&&(V=d.onRecoverableError),d.unstable_transitionCallbacks!==void 0&&(ee=d.unstable_transitionCallbacks),d.formState!==void 0&&(ve=d.formState)),l=QE(a,1,!0,l,d??null,g,A,T,L,V,ee,ve),l.context=ZE(null),d=l.current,g=ai(),g=Pt(g),A=dr(g),A.callback=null,Zr(d,A,g),d=g,l.current.lanes=d,ht(l,d),sl(l),a[rs]=l.current,UA(a),new rv(l)},Km.version="19.1.0",Km}var yT;function eO(){if(yT)return eb.exports;yT=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),eb.exports=$L(),eb.exports}var tB=eO(),Qm={},vT;function tO(){if(vT)return Qm;vT=1,Object.defineProperty(Qm,"__esModule",{value:!0}),Qm.parse=o,Qm.serialize=p;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,r=(()=>{const x=function(){};return x.prototype=Object.create(null),x})();function o(x,_){const M=new r,C=x.length;if(C<2)return M;const E=(_==null?void 0:_.decode)||m;let S=0;do{const w=x.indexOf("=",S);if(w===-1)break;const B=x.indexOf(";",S),D=B===-1?C:B;if(w>D){S=x.lastIndexOf(";",w-1)+1;continue}const P=u(x,S,w),I=h(x,w,P),G=x.slice(P,I);if(M[G]===void 0){let z=u(x,w+1,D),U=h(x,D,z);const O=E(x.slice(z,U));M[G]=O}S=D+1}while(S<C);return M}function u(x,_,M){do{const C=x.charCodeAt(_);if(C!==32&&C!==9)return _}while(++_<M);return M}function h(x,_,M){for(;_>M;){const C=x.charCodeAt(--_);if(C!==32&&C!==9)return _+1}return M}function p(x,_,M){const C=(M==null?void 0:M.encode)||encodeURIComponent;if(!n.test(x))throw new TypeError(`argument name is invalid: ${x}`);const E=C(_);if(!e.test(E))throw new TypeError(`argument val is invalid: ${_}`);let S=x+"="+E;if(!M)return S;if(M.maxAge!==void 0){if(!Number.isInteger(M.maxAge))throw new TypeError(`option maxAge is invalid: ${M.maxAge}`);S+="; Max-Age="+M.maxAge}if(M.domain){if(!t.test(M.domain))throw new TypeError(`option domain is invalid: ${M.domain}`);S+="; Domain="+M.domain}if(M.path){if(!i.test(M.path))throw new TypeError(`option path is invalid: ${M.path}`);S+="; Path="+M.path}if(M.expires){if(!y(M.expires)||!Number.isFinite(M.expires.valueOf()))throw new TypeError(`option expires is invalid: ${M.expires}`);S+="; Expires="+M.expires.toUTCString()}if(M.httpOnly&&(S+="; HttpOnly"),M.secure&&(S+="; Secure"),M.partitioned&&(S+="; Partitioned"),M.priority)switch(typeof M.priority=="string"?M.priority.toLowerCase():void 0){case"low":S+="; Priority=Low";break;case"medium":S+="; Priority=Medium";break;case"high":S+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${M.priority}`)}if(M.sameSite)switch(typeof M.sameSite=="string"?M.sameSite.toLowerCase():M.sameSite){case!0:case"strict":S+="; SameSite=Strict";break;case"lax":S+="; SameSite=Lax";break;case"none":S+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${M.sameSite}`)}return S}function m(x){if(x.indexOf("%")===-1)return x;try{return decodeURIComponent(x)}catch{return x}}function y(x){return s.call(x)==="[object Date]"}return Qm}tO();var xT="popstate";function nO(n={}){function e(s,r){let{pathname:o="/",search:u="",hash:h=""}=mh(s.location.hash.substring(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),GS("",{pathname:o,search:u,hash:h},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function t(s,r){let o=s.document.querySelector("base"),u="";if(o&&o.getAttribute("href")){let h=s.location.href,p=h.indexOf("#");u=p===-1?h:h.slice(0,p)}return u+"#"+(typeof r=="string"?r:Xg(r))}function i(s,r){xo(s.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(r)})`)}return sO(e,t,i,n)}function mi(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function xo(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function iO(){return Math.random().toString(36).substring(2,10)}function _T(n,e){return{usr:n.state,key:n.key,idx:e}}function GS(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?mh(e):e,state:t,key:e&&e.key||i||iO()}}function Xg({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function mh(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function sO(n,e,t,i={}){let{window:s=document.defaultView,v5Compat:r=!1}=i,o=s.history,u="POP",h=null,p=m();p==null&&(p=0,o.replaceState({...o.state,idx:p},""));function m(){return(o.state||{idx:null}).idx}function y(){u="POP";let E=m(),S=E==null?null:E-p;p=E,h&&h({action:u,location:C.location,delta:S})}function x(E,S){u="PUSH";let w=GS(C.location,E,S);t&&t(w,E),p=m()+1;let B=_T(w,p),D=C.createHref(w);try{o.pushState(B,"",D)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;s.location.assign(D)}r&&h&&h({action:u,location:C.location,delta:1})}function _(E,S){u="REPLACE";let w=GS(C.location,E,S);t&&t(w,E),p=m();let B=_T(w,p),D=C.createHref(w);o.replaceState(B,"",D),r&&h&&h({action:u,location:C.location,delta:0})}function M(E){return aO(E)}let C={get action(){return u},get location(){return n(s,o)},listen(E){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(xT,y),h=E,()=>{s.removeEventListener(xT,y),h=null}},createHref(E){return e(s,E)},createURL:M,encodeLocation(E){let S=M(E);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:x,replace:_,go(E){return o.go(E)}};return C}function aO(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),mi(t,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:Xg(n);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function nB(n,e,t="/"){return rO(n,e,t,!1)}function rO(n,e,t,i){let s=typeof e=="string"?mh(e):e,r=oc(s.pathname||"/",t);if(r==null)return null;let o=iB(n);oO(o);let u=null;for(let h=0;u==null&&h<o.length;++h){let p=vO(r);u=gO(o[h],p,i)}return u}function iB(n,e=[],t=[],i=""){let s=(r,o,u)=>{let h={relativePath:u===void 0?r.path||"":u,caseSensitive:r.caseSensitive===!0,childrenIndex:o,route:r};h.relativePath.startsWith("/")&&(mi(h.relativePath.startsWith(i),`Absolute route path "${h.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(i.length));let p=ic([i,h.relativePath]),m=t.concat(h);r.children&&r.children.length>0&&(mi(r.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),iB(r.children,e,m,p)),!(r.path==null&&!r.index)&&e.push({path:p,score:pO(p,r.index),routesMeta:m})};return n.forEach((r,o)=>{var u;if(r.path===""||!((u=r.path)!=null&&u.includes("?")))s(r,o);else for(let h of sB(r.path))s(r,o,h)}),e}function sB(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,s=t.endsWith("?"),r=t.replace(/\?$/,"");if(i.length===0)return s?[r,""]:[r];let o=sB(i.join("/")),u=[];return u.push(...o.map(h=>h===""?r:[r,h].join("/"))),s&&u.push(...o),u.map(h=>n.startsWith("/")&&h===""?"/":h)}function oO(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:mO(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var lO=/^:[\w-]+$/,cO=3,uO=2,fO=1,hO=10,dO=-2,AT=n=>n==="*";function pO(n,e){let t=n.split("/"),i=t.length;return t.some(AT)&&(i+=dO),e&&(i+=uO),t.filter(s=>!AT(s)).reduce((s,r)=>s+(lO.test(r)?cO:r===""?fO:hO),i)}function mO(n,e){return n.length===e.length&&n.slice(0,-1).every((i,s)=>i===e[s])?n[n.length-1]-e[e.length-1]:0}function gO(n,e,t=!1){let{routesMeta:i}=n,s={},r="/",o=[];for(let u=0;u<i.length;++u){let h=i[u],p=u===i.length-1,m=r==="/"?e:e.slice(r.length)||"/",y=Tx({path:h.relativePath,caseSensitive:h.caseSensitive,end:p},m),x=h.route;if(!y&&p&&t&&!i[i.length-1].route.index&&(y=Tx({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},m)),!y)return null;Object.assign(s,y.params),o.push({params:s,pathname:ic([r,y.pathname]),pathnameBase:bO(ic([r,y.pathnameBase])),route:x}),y.pathnameBase!=="/"&&(r=ic([r,y.pathnameBase]))}return o}function Tx(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=yO(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let r=s[0],o=r.replace(/(.)\/+$/,"$1"),u=s.slice(1);return{params:i.reduce((p,{paramName:m,isOptional:y},x)=>{if(m==="*"){let M=u[x]||"";o=r.slice(0,r.length-M.length).replace(/(.)\/+$/,"$1")}const _=u[x];return y&&!_?p[m]=void 0:p[m]=(_||"").replace(/%2F/g,"/"),p},{}),pathname:r,pathnameBase:o,pattern:n}}function yO(n,e=!1,t=!0){xo(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,u,h)=>(i.push({paramName:u,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),i]}function vO(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return xo(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function oc(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function xO(n,e="/"){let{pathname:t,search:i="",hash:s=""}=typeof n=="string"?mh(n):n;return{pathname:t?t.startsWith("/")?t:_O(t,e):e,search:SO(i),hash:MO(s)}}function _O(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function sb(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function AO(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function aB(n){let e=AO(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function rB(n,e,t,i=!1){let s;typeof n=="string"?s=mh(n):(s={...n},mi(!s.pathname||!s.pathname.includes("?"),sb("?","pathname","search",s)),mi(!s.pathname||!s.pathname.includes("#"),sb("#","pathname","hash",s)),mi(!s.search||!s.search.includes("#"),sb("#","search","hash",s)));let r=n===""||s.pathname==="",o=r?"/":s.pathname,u;if(o==null)u=t;else{let y=e.length-1;if(!i&&o.startsWith("..")){let x=o.split("/");for(;x[0]==="..";)x.shift(),y-=1;s.pathname=x.join("/")}u=y>=0?e[y]:"/"}let h=xO(s,u),p=o&&o!=="/"&&o.endsWith("/"),m=(r||o===".")&&t.endsWith("/");return!h.pathname.endsWith("/")&&(p||m)&&(h.pathname+="/"),h}var ic=n=>n.join("/").replace(/\/\/+/g,"/"),bO=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),SO=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,MO=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function EO(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var oB=["POST","PUT","PATCH","DELETE"];new Set(oB);var TO=["GET",...oB];new Set(TO);var Ap=Q.createContext(null);Ap.displayName="DataRouter";var E_=Q.createContext(null);E_.displayName="DataRouterState";var lB=Q.createContext({isTransitioning:!1});lB.displayName="ViewTransition";var CO=Q.createContext(new Map);CO.displayName="Fetchers";var RO=Q.createContext(null);RO.displayName="Await";var gl=Q.createContext(null);gl.displayName="Navigation";var u0=Q.createContext(null);u0.displayName="Location";var yl=Q.createContext({outlet:null,matches:[],isDataRoute:!1});yl.displayName="Route";var HM=Q.createContext(null);HM.displayName="RouteError";function wO(n,{relative:e}={}){mi(f0(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=Q.useContext(gl),{hash:s,pathname:r,search:o}=h0(n,{relative:e}),u=r;return t!=="/"&&(u=r==="/"?t:ic([t,r])),i.createHref({pathname:u,search:o,hash:s})}function f0(){return Q.useContext(u0)!=null}function hc(){return mi(f0(),"useLocation() may be used only in the context of a <Router> component."),Q.useContext(u0).location}var cB="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function uB(n){Q.useContext(gl).static||Q.useLayoutEffect(n)}function BO(){let{isDataRoute:n}=Q.useContext(yl);return n?XO():DO()}function DO(){mi(f0(),"useNavigate() may be used only in the context of a <Router> component.");let n=Q.useContext(Ap),{basename:e,navigator:t}=Q.useContext(gl),{matches:i}=Q.useContext(yl),{pathname:s}=hc(),r=JSON.stringify(aB(i)),o=Q.useRef(!1);return uB(()=>{o.current=!0}),Q.useCallback((h,p={})=>{if(xo(o.current,cB),!o.current)return;if(typeof h=="number"){t.go(h);return}let m=rB(h,JSON.parse(r),s,p.relative==="path");n==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:ic([e,m.pathname])),(p.replace?t.replace:t.push)(m,p.state,p)},[e,t,r,s,n])}Q.createContext(null);function NO(){let{matches:n}=Q.useContext(yl),e=n[n.length-1];return e?e.params:{}}function h0(n,{relative:e}={}){let{matches:t}=Q.useContext(yl),{pathname:i}=hc(),s=JSON.stringify(aB(t));return Q.useMemo(()=>rB(n,JSON.parse(s),i,e==="path"),[n,s,i,e])}function UO(n,e){return fB(n,e)}function fB(n,e,t,i){var S;mi(f0(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=Q.useContext(gl),{matches:r}=Q.useContext(yl),o=r[r.length-1],u=o?o.params:{},h=o?o.pathname:"/",p=o?o.pathnameBase:"/",m=o&&o.route;{let w=m&&m.path||"";hB(h,!m||w.endsWith("*")||w.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${w}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${w}"> to <Route path="${w==="/"?"*":`${w}/*`}">.`)}let y=hc(),x;if(e){let w=typeof e=="string"?mh(e):e;mi(p==="/"||((S=w.pathname)==null?void 0:S.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${w.pathname}" was given in the \`location\` prop.`),x=w}else x=y;let _=x.pathname||"/",M=_;if(p!=="/"){let w=p.replace(/^\//,"").split("/");M="/"+_.replace(/^\//,"").split("/").slice(w.length).join("/")}let C=nB(n,{pathname:M});xo(m||C!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),xo(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let E=FO(C&&C.map(w=>Object.assign({},w,{params:Object.assign({},u,w.params),pathname:ic([p,s.encodeLocation?s.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?p:ic([p,s.encodeLocation?s.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),r,t,i);return e&&E?Q.createElement(u0.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},E):E}function LO(){let n=kO(),e=EO(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},r={padding:"2px 4px",backgroundColor:i},o=null;return console.error("Error handled by React Router default ErrorBoundary:",n),o=Q.createElement(Q.Fragment,null,Q.createElement("p",null,"💿 Hey developer 👋"),Q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Q.createElement("code",{style:r},"ErrorBoundary")," or"," ",Q.createElement("code",{style:r},"errorElement")," prop on your route.")),Q.createElement(Q.Fragment,null,Q.createElement("h2",null,"Unexpected Application Error!"),Q.createElement("h3",{style:{fontStyle:"italic"}},e),t?Q.createElement("pre",{style:s},t):null,o)}var OO=Q.createElement(LO,null),PO=class extends Q.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?Q.createElement(yl.Provider,{value:this.props.routeContext},Q.createElement(HM.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function IO({routeContext:n,match:e,children:t}){let i=Q.useContext(Ap);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),Q.createElement(yl.Provider,{value:n},t)}function FO(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let s=n,r=t==null?void 0:t.errors;if(r!=null){let h=s.findIndex(p=>p.route.id&&(r==null?void 0:r[p.route.id])!==void 0);mi(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(r).join(",")}`),s=s.slice(0,Math.min(s.length,h+1))}let o=!1,u=-1;if(t)for(let h=0;h<s.length;h++){let p=s[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(u=h),p.route.id){let{loaderData:m,errors:y}=t,x=p.route.loader&&!m.hasOwnProperty(p.route.id)&&(!y||y[p.route.id]===void 0);if(p.route.lazy||x){o=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((h,p,m)=>{let y,x=!1,_=null,M=null;t&&(y=r&&p.route.id?r[p.route.id]:void 0,_=p.route.errorElement||OO,o&&(u<0&&m===0?(hB("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,M=null):u===m&&(x=!0,M=p.route.hydrateFallbackElement||null)));let C=e.concat(s.slice(0,m+1)),E=()=>{let S;return y?S=_:x?S=M:p.route.Component?S=Q.createElement(p.route.Component,null):p.route.element?S=p.route.element:S=h,Q.createElement(IO,{match:p,routeContext:{outlet:h,matches:C,isDataRoute:t!=null},children:S})};return t&&(p.route.ErrorBoundary||p.route.errorElement||m===0)?Q.createElement(PO,{location:t.location,revalidation:t.revalidation,component:_,error:y,children:E(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):E()},null)}function GM(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function zO(n){let e=Q.useContext(Ap);return mi(e,GM(n)),e}function HO(n){let e=Q.useContext(E_);return mi(e,GM(n)),e}function GO(n){let e=Q.useContext(yl);return mi(e,GM(n)),e}function VM(n){let e=GO(n),t=e.matches[e.matches.length-1];return mi(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function VO(){return VM("useRouteId")}function kO(){var i;let n=Q.useContext(HM),e=HO("useRouteError"),t=VM("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function XO(){let{router:n}=zO("useNavigate"),e=VM("useNavigate"),t=Q.useRef(!1);return uB(()=>{t.current=!0}),Q.useCallback(async(s,r={})=>{xo(t.current,cB),t.current&&(typeof s=="number"?n.navigate(s):await n.navigate(s,{fromRouteId:e,...r}))},[n,e])}var bT={};function hB(n,e,t){!e&&!bT[n]&&(bT[n]=!0,xo(!1,t))}Q.memo(jO);function jO({routes:n,future:e,state:t}){return fB(n,void 0,t,e)}function hx(n){mi(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function YO({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:s,static:r=!1}){mi(!f0(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=n.replace(/^\/*/,"/"),u=Q.useMemo(()=>({basename:o,navigator:s,static:r,future:{}}),[o,s,r]);typeof t=="string"&&(t=mh(t));let{pathname:h="/",search:p="",hash:m="",state:y=null,key:x="default"}=t,_=Q.useMemo(()=>{let M=oc(h,o);return M==null?null:{location:{pathname:M,search:p,hash:m,state:y,key:x},navigationType:i}},[o,h,p,m,y,x,i]);return xo(_!=null,`<Router basename="${o}"> is not able to match the URL "${h}${p}${m}" because it does not start with the basename, so the <Router> won't render anything.`),_==null?null:Q.createElement(gl.Provider,{value:u},Q.createElement(u0.Provider,{children:e,value:_}))}function qO({children:n,location:e}){return UO(VS(n),e)}function VS(n,e=[]){let t=[];return Q.Children.forEach(n,(i,s)=>{if(!Q.isValidElement(i))return;let r=[...e,s];if(i.type===Q.Fragment){t.push.apply(t,VS(i.props.children,r));return}mi(i.type===hx,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),mi(!i.props.index||!i.props.children,"An index route cannot have child routes.");let o={id:i.props.id||r.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(o.children=VS(i.props.children,r)),t.push(o)}),t}var dx="get",px="application/x-www-form-urlencoded";function T_(n){return n!=null&&typeof n.tagName=="string"}function WO(n){return T_(n)&&n.tagName.toLowerCase()==="button"}function JO(n){return T_(n)&&n.tagName.toLowerCase()==="form"}function KO(n){return T_(n)&&n.tagName.toLowerCase()==="input"}function QO(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function ZO(n,e){return n.button===0&&(!e||e==="_self")&&!QO(n)}var lv=null;function $O(){if(lv===null)try{new FormData(document.createElement("form"),0),lv=!1}catch{lv=!0}return lv}var eP=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ab(n){return n!=null&&!eP.has(n)?(xo(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${px}"`),null):n}function tP(n,e){let t,i,s,r,o;if(JO(n)){let u=n.getAttribute("action");i=u?oc(u,e):null,t=n.getAttribute("method")||dx,s=ab(n.getAttribute("enctype"))||px,r=new FormData(n)}else if(WO(n)||KO(n)&&(n.type==="submit"||n.type==="image")){let u=n.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=n.getAttribute("formaction")||u.getAttribute("action");if(i=h?oc(h,e):null,t=n.getAttribute("formmethod")||u.getAttribute("method")||dx,s=ab(n.getAttribute("formenctype"))||ab(u.getAttribute("enctype"))||px,r=new FormData(u,n),!$O()){let{name:p,type:m,value:y}=n;if(m==="image"){let x=p?`${p}.`:"";r.append(`${x}x`,"0"),r.append(`${x}y`,"0")}else p&&r.append(p,y)}}else{if(T_(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=dx,i=null,s=px,o=n}return r&&s==="text/plain"&&(o=r,r=void 0),{action:i,method:t.toLowerCase(),encType:s,formData:r,body:o}}function kM(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function nP(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function iP(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function sP(n,e,t){let i=await Promise.all(n.map(async s=>{let r=e.routes[s.route.id];if(r){let o=await nP(r,t);return o.links?o.links():[]}return[]}));return lP(i.flat(1).filter(iP).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function ST(n,e,t,i,s,r){let o=(h,p)=>t[p]?h.route.id!==t[p].route.id:!0,u=(h,p)=>{var m;return t[p].pathname!==h.pathname||((m=t[p].route.path)==null?void 0:m.endsWith("*"))&&t[p].params["*"]!==h.params["*"]};return r==="assets"?e.filter((h,p)=>o(h,p)||u(h,p)):r==="data"?e.filter((h,p)=>{var y;let m=i.routes[h.route.id];if(!m||!m.hasLoader)return!1;if(o(h,p)||u(h,p))return!0;if(h.route.shouldRevalidate){let x=h.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((y=t[0])==null?void 0:y.params)||{},nextUrl:new URL(n,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function aP(n,e,{includeHydrateFallback:t}={}){return rP(n.map(i=>{let s=e.routes[i.route.id];if(!s)return[];let r=[s.module];return s.clientActionModule&&(r=r.concat(s.clientActionModule)),s.clientLoaderModule&&(r=r.concat(s.clientLoaderModule)),t&&s.hydrateFallbackModule&&(r=r.concat(s.hydrateFallbackModule)),s.imports&&(r=r.concat(s.imports)),r}).flat(1))}function rP(n){return[...new Set(n)]}function oP(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function lP(n,e){let t=new Set;return new Set(e),n.reduce((i,s)=>{let r=JSON.stringify(oP(s));return t.has(r)||(t.add(r),i.push({key:r,link:s})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var cP=new Set([100,101,204,205]);function uP(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&oc(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function dB(){let n=Q.useContext(Ap);return kM(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function fP(){let n=Q.useContext(E_);return kM(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var XM=Q.createContext(void 0);XM.displayName="FrameworkContext";function pB(){let n=Q.useContext(XM);return kM(n,"You must render this element inside a <HydratedRouter> element"),n}function hP(n,e){let t=Q.useContext(XM),[i,s]=Q.useState(!1),[r,o]=Q.useState(!1),{onFocus:u,onBlur:h,onMouseEnter:p,onMouseLeave:m,onTouchStart:y}=e,x=Q.useRef(null);Q.useEffect(()=>{if(n==="render"&&o(!0),n==="viewport"){let C=S=>{S.forEach(w=>{o(w.isIntersecting)})},E=new IntersectionObserver(C,{threshold:.5});return x.current&&E.observe(x.current),()=>{E.disconnect()}}},[n]),Q.useEffect(()=>{if(i){let C=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(C)}}},[i]);let _=()=>{s(!0)},M=()=>{s(!1),o(!1)};return t?n!=="intent"?[r,x,{}]:[r,x,{onFocus:Zm(u,_),onBlur:Zm(h,M),onMouseEnter:Zm(p,_),onMouseLeave:Zm(m,M),onTouchStart:Zm(y,_)}]:[!1,x,{}]}function Zm(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function dP({page:n,...e}){let{router:t}=dB(),i=Q.useMemo(()=>nB(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?Q.createElement(mP,{page:n,matches:i,...e}):null}function pP(n){let{manifest:e,routeModules:t}=pB(),[i,s]=Q.useState([]);return Q.useEffect(()=>{let r=!1;return sP(n,e,t).then(o=>{r||s(o)}),()=>{r=!0}},[n,e,t]),i}function mP({page:n,matches:e,...t}){let i=hc(),{manifest:s,routeModules:r}=pB(),{basename:o}=dB(),{loaderData:u,matches:h}=fP(),p=Q.useMemo(()=>ST(n,e,h,s,i,"data"),[n,e,h,s,i]),m=Q.useMemo(()=>ST(n,e,h,s,i,"assets"),[n,e,h,s,i]),y=Q.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let M=new Set,C=!1;if(e.forEach(S=>{var B;let w=s.routes[S.route.id];!w||!w.hasLoader||(!p.some(D=>D.route.id===S.route.id)&&S.route.id in u&&((B=r[S.route.id])!=null&&B.shouldRevalidate)||w.hasClientLoader?C=!0:M.add(S.route.id))}),M.size===0)return[];let E=uP(n,o);return C&&M.size>0&&E.searchParams.set("_routes",e.filter(S=>M.has(S.route.id)).map(S=>S.route.id).join(",")),[E.pathname+E.search]},[o,u,i,s,p,e,n,r]),x=Q.useMemo(()=>aP(m,s),[m,s]),_=pP(m);return Q.createElement(Q.Fragment,null,y.map(M=>Q.createElement("link",{key:M,rel:"prefetch",as:"fetch",href:M,...t})),x.map(M=>Q.createElement("link",{key:M,rel:"modulepreload",href:M,...t})),_.map(({key:M,link:C})=>Q.createElement("link",{key:M,...C})))}function gP(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var mB=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{mB&&(window.__reactRouterVersion="7.6.3")}catch{}function yP({basename:n,children:e,window:t}){let i=Q.useRef();i.current==null&&(i.current=nO({window:t,v5Compat:!0}));let s=i.current,[r,o]=Q.useState({action:s.action,location:s.location}),u=Q.useCallback(h=>{Q.startTransition(()=>o(h))},[o]);return Q.useLayoutEffect(()=>s.listen(u),[s,u]),Q.createElement(YO,{basename:n,children:e,location:r.location,navigationType:r.action,navigator:s})}var gB=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ol=Q.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:s,reloadDocument:r,replace:o,state:u,target:h,to:p,preventScrollReset:m,viewTransition:y,...x},_){let{basename:M}=Q.useContext(gl),C=typeof p=="string"&&gB.test(p),E,S=!1;if(typeof p=="string"&&C&&(E=p,mB))try{let U=new URL(window.location.href),O=p.startsWith("//")?new URL(U.protocol+p):new URL(p),W=oc(O.pathname,M);O.origin===U.origin&&W!=null?p=W+O.search+O.hash:S=!0}catch{xo(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let w=wO(p,{relative:s}),[B,D,P]=hP(i,x),I=AP(p,{replace:o,state:u,target:h,preventScrollReset:m,relative:s,viewTransition:y});function G(U){e&&e(U),U.defaultPrevented||I(U)}let z=Q.createElement("a",{...x,...P,href:E||w,onClick:S||r?e:G,ref:gP(_,D),target:h,"data-discover":!C&&t==="render"?"true":void 0});return B&&!C?Q.createElement(Q.Fragment,null,z,Q.createElement(dP,{page:w})):z});ol.displayName="Link";var vP=Q.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:s=!1,style:r,to:o,viewTransition:u,children:h,...p},m){let y=h0(o,{relative:p.relative}),x=hc(),_=Q.useContext(E_),{navigator:M,basename:C}=Q.useContext(gl),E=_!=null&&TP(y)&&u===!0,S=M.encodeLocation?M.encodeLocation(y).pathname:y.pathname,w=x.pathname,B=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;t||(w=w.toLowerCase(),B=B?B.toLowerCase():null,S=S.toLowerCase()),B&&C&&(B=oc(B,C)||B);const D=S!=="/"&&S.endsWith("/")?S.length-1:S.length;let P=w===S||!s&&w.startsWith(S)&&w.charAt(D)==="/",I=B!=null&&(B===S||!s&&B.startsWith(S)&&B.charAt(S.length)==="/"),G={isActive:P,isPending:I,isTransitioning:E},z=P?e:void 0,U;typeof i=="function"?U=i(G):U=[i,P?"active":null,I?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let O=typeof r=="function"?r(G):r;return Q.createElement(ol,{...p,"aria-current":z,className:U,ref:m,style:O,to:o,viewTransition:u},typeof h=="function"?h(G):h)});vP.displayName="NavLink";var xP=Q.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:s,state:r,method:o=dx,action:u,onSubmit:h,relative:p,preventScrollReset:m,viewTransition:y,...x},_)=>{let M=MP(),C=EP(u,{relative:p}),E=o.toLowerCase()==="get"?"get":"post",S=typeof u=="string"&&gB.test(u),w=B=>{if(h&&h(B),B.defaultPrevented)return;B.preventDefault();let D=B.nativeEvent.submitter,P=(D==null?void 0:D.getAttribute("formmethod"))||o;M(D||B.currentTarget,{fetcherKey:e,method:P,navigate:t,replace:s,state:r,relative:p,preventScrollReset:m,viewTransition:y})};return Q.createElement("form",{ref:_,method:E,action:C,onSubmit:i?h:w,...x,"data-discover":!S&&n==="render"?"true":void 0})});xP.displayName="Form";function _P(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function yB(n){let e=Q.useContext(Ap);return mi(e,_P(n)),e}function AP(n,{target:e,replace:t,state:i,preventScrollReset:s,relative:r,viewTransition:o}={}){let u=BO(),h=hc(),p=h0(n,{relative:r});return Q.useCallback(m=>{if(ZO(m,e)){m.preventDefault();let y=t!==void 0?t:Xg(h)===Xg(p);u(n,{replace:y,state:i,preventScrollReset:s,relative:r,viewTransition:o})}},[h,u,p,t,i,e,n,s,r,o])}var bP=0,SP=()=>`__${String(++bP)}__`;function MP(){let{router:n}=yB("useSubmit"),{basename:e}=Q.useContext(gl),t=VO();return Q.useCallback(async(i,s={})=>{let{action:r,method:o,encType:u,formData:h,body:p}=tP(i,e);if(s.navigate===!1){let m=s.fetcherKey||SP();await n.fetch(m,t,s.action||r,{preventScrollReset:s.preventScrollReset,formData:h,body:p,formMethod:s.method||o,formEncType:s.encType||u,flushSync:s.flushSync})}else await n.navigate(s.action||r,{preventScrollReset:s.preventScrollReset,formData:h,body:p,formMethod:s.method||o,formEncType:s.encType||u,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,e,t])}function EP(n,{relative:e}={}){let{basename:t}=Q.useContext(gl),i=Q.useContext(yl);mi(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),r={...h0(n||".",{relative:e})},o=hc();if(n==null){r.search=o.search;let u=new URLSearchParams(r.search),h=u.getAll("index");if(h.some(m=>m==="")){u.delete("index"),h.filter(y=>y).forEach(y=>u.append("index",y));let m=u.toString();r.search=m?`?${m}`:""}}return(!n||n===".")&&s.route.index&&(r.search=r.search?r.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(r.pathname=r.pathname==="/"?t:ic([t,r.pathname])),Xg(r)}function TP(n,e={}){let t=Q.useContext(lB);mi(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=yB("useViewTransitionState"),s=h0(n,{relative:e.relative});if(!t.isTransitioning)return!1;let r=oc(t.currentLocation.pathname,i)||t.currentLocation.pathname,o=oc(t.nextLocation.pathname,i)||t.nextLocation.pathname;return Tx(s.pathname,o)!=null||Tx(s.pathname,r)!=null}[...cP];const jM=Q.createContext({});function bp(n){const e=Q.useRef(null);return e.current===null&&(e.current=n()),e.current}const YM=typeof window<"u",C_=YM?Q.useLayoutEffect:Q.useEffect,R_=Q.createContext(null);function qM(n,e){n.indexOf(e)===-1&&n.push(e)}function WM(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const dl=(n,e,t)=>t>e?e:t<n?n:t;let CP=()=>{},JM=()=>{};const lc={},vB=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function xB(n){return typeof n=="object"&&n!==null}const _B=n=>/^0[^.\s]+$/u.test(n);function KM(n){let e;return()=>(e===void 0&&(e=n()),e)}const Oa=n=>n,RP=(n,e)=>t=>e(n(t)),d0=(...n)=>n.reduce(RP),ap=(n,e,t)=>{const i=e-n;return i===0?1:(t-n)/i};class QM{constructor(){this.subscriptions=[]}add(e){return qM(this.subscriptions,e),()=>WM(this.subscriptions,e)}notify(e,t,i){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,t,i);else for(let r=0;r<s;r++){const o=this.subscriptions[r];o&&o(e,t,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ll=n=>n*1e3,cl=n=>n/1e3;function ZM(n,e){return e?n*(1e3/e):0}const AB=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,wP=1e-7,BP=12;function DP(n,e,t,i,s){let r,o,u=0;do o=e+(t-e)/2,r=AB(o,i,s)-n,r>0?t=o:e=o;while(Math.abs(r)>wP&&++u<BP);return o}function p0(n,e,t,i){if(n===e&&t===i)return Oa;const s=r=>DP(r,0,1,n,t);return r=>r===0||r===1?r:AB(s(r),e,i)}const bB=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,SB=n=>e=>1-n(1-e),MB=p0(.33,1.53,.69,.99),$M=SB(MB),EB=bB($M),TB=n=>(n*=2)<1?.5*$M(n):.5*(2-Math.pow(2,-10*(n-1))),e1=n=>1-Math.sin(Math.acos(n)),CB=SB(e1),RB=bB(e1),NP=p0(.42,0,1,1),UP=p0(0,0,.58,1),wB=p0(.42,0,.58,1),LP=n=>Array.isArray(n)&&typeof n[0]!="number",BB=n=>Array.isArray(n)&&typeof n[0]=="number",OP={linear:Oa,easeIn:NP,easeInOut:wB,easeOut:UP,circIn:e1,circInOut:RB,circOut:CB,backIn:$M,backInOut:EB,backOut:MB,anticipate:TB},PP=n=>typeof n=="string",MT=n=>{if(BB(n)){JM(n.length===4);const[e,t,i,s]=n;return p0(e,t,i,s)}else if(PP(n))return OP[n];return n},cv=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function IP(n,e){let t=new Set,i=new Set,s=!1,r=!1;const o=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1};function h(m){o.has(m)&&(p.schedule(m),n()),m(u)}const p={schedule:(m,y=!1,x=!1)=>{const M=x&&s?t:i;return y&&o.add(m),M.has(m)||M.add(m),m},cancel:m=>{i.delete(m),o.delete(m)},process:m=>{if(u=m,s){r=!0;return}s=!0,[t,i]=[i,t],t.forEach(h),t.clear(),s=!1,r&&(r=!1,p.process(m))}};return p}const FP=40;function DB(n,e){let t=!1,i=!0;const s={delta:0,timestamp:0,isProcessing:!1},r=()=>t=!0,o=cv.reduce((B,D)=>(B[D]=IP(r),B),{}),{setup:u,read:h,resolveKeyframes:p,preUpdate:m,update:y,preRender:x,render:_,postRender:M}=o,C=()=>{const B=lc.useManualTiming?s.timestamp:performance.now();t=!1,lc.useManualTiming||(s.delta=i?1e3/60:Math.max(Math.min(B-s.timestamp,FP),1)),s.timestamp=B,s.isProcessing=!0,u.process(s),h.process(s),p.process(s),m.process(s),y.process(s),x.process(s),_.process(s),M.process(s),s.isProcessing=!1,t&&e&&(i=!1,n(C))},E=()=>{t=!0,i=!0,s.isProcessing||n(C)};return{schedule:cv.reduce((B,D)=>{const P=o[D];return B[D]=(I,G=!1,z=!1)=>(t||E(),P.schedule(I,G,z)),B},{}),cancel:B=>{for(let D=0;D<cv.length;D++)o[cv[D]].cancel(B)},state:s,steps:o}}const{schedule:Xn,cancel:_o,state:ds,steps:rb}=DB(typeof requestAnimationFrame<"u"?requestAnimationFrame:Oa,!0);let mx;function zP(){mx=void 0}const Ua={now:()=>(mx===void 0&&Ua.set(ds.isProcessing||lc.useManualTiming?ds.timestamp:performance.now()),mx),set:n=>{mx=n,queueMicrotask(zP)}},NB=n=>e=>typeof e=="string"&&e.startsWith(n),t1=NB("--"),HP=NB("var(--"),n1=n=>HP(n)?GP.test(n.split("/*")[0].trim()):!1,GP=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Sp={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},jg={...Sp,transform:n=>dl(0,1,n)},uv={...Sp,default:1},Cg=n=>Math.round(n*1e5)/1e5,i1=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function VP(n){return n==null}const kP=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,s1=(n,e)=>t=>!!(typeof t=="string"&&kP.test(t)&&t.startsWith(n)||e&&!VP(t)&&Object.prototype.hasOwnProperty.call(t,e)),UB=(n,e,t)=>i=>{if(typeof i!="string")return i;const[s,r,o,u]=i.match(i1);return{[n]:parseFloat(s),[e]:parseFloat(r),[t]:parseFloat(o),alpha:u!==void 0?parseFloat(u):1}},XP=n=>dl(0,255,n),ob={...Sp,transform:n=>Math.round(XP(n))},Wf={test:s1("rgb","red"),parse:UB("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:i=1})=>"rgba("+ob.transform(n)+", "+ob.transform(e)+", "+ob.transform(t)+", "+Cg(jg.transform(i))+")"};function jP(n){let e="",t="",i="",s="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),i=n.substring(5,7),s=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),i=n.substring(3,4),s=n.substring(4,5),e+=e,t+=t,i+=i,s+=s),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(i,16),alpha:s?parseInt(s,16)/255:1}}const kS={test:s1("#"),parse:jP,transform:Wf.transform},m0=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),mu=m0("deg"),ul=m0("%"),Xt=m0("px"),YP=m0("vh"),qP=m0("vw"),ET={...ul,parse:n=>ul.parse(n)/100,transform:n=>ul.transform(n*100)},Xd={test:s1("hsl","hue"),parse:UB("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:i=1})=>"hsla("+Math.round(n)+", "+ul.transform(Cg(e))+", "+ul.transform(Cg(t))+", "+Cg(jg.transform(i))+")"},Xi={test:n=>Wf.test(n)||kS.test(n)||Xd.test(n),parse:n=>Wf.test(n)?Wf.parse(n):Xd.test(n)?Xd.parse(n):kS.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Wf.transform(n):Xd.transform(n),getAnimatableNone:n=>{const e=Xi.parse(n);return e.alpha=0,Xi.transform(e)}},WP=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function JP(n){var e,t;return isNaN(n)&&typeof n=="string"&&(((e=n.match(i1))==null?void 0:e.length)||0)+(((t=n.match(WP))==null?void 0:t.length)||0)>0}const LB="number",OB="color",KP="var",QP="var(",TT="${}",ZP=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Yg(n){const e=n.toString(),t=[],i={color:[],number:[],var:[]},s=[];let r=0;const u=e.replace(ZP,h=>(Xi.test(h)?(i.color.push(r),s.push(OB),t.push(Xi.parse(h))):h.startsWith(QP)?(i.var.push(r),s.push(KP),t.push(h)):(i.number.push(r),s.push(LB),t.push(parseFloat(h))),++r,TT)).split(TT);return{values:t,split:u,indexes:i,types:s}}function PB(n){return Yg(n).values}function IB(n){const{split:e,types:t}=Yg(n),i=e.length;return s=>{let r="";for(let o=0;o<i;o++)if(r+=e[o],s[o]!==void 0){const u=t[o];u===LB?r+=Cg(s[o]):u===OB?r+=Xi.transform(s[o]):r+=s[o]}return r}}const $P=n=>typeof n=="number"?0:Xi.test(n)?Xi.getAnimatableNone(n):n;function eI(n){const e=PB(n);return IB(n)(e.map($P))}const bu={test:JP,parse:PB,createTransformer:IB,getAnimatableNone:eI};function lb(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function tI({hue:n,saturation:e,lightness:t,alpha:i}){n/=360,e/=100,t/=100;let s=0,r=0,o=0;if(!e)s=r=o=t;else{const u=t<.5?t*(1+e):t+e-t*e,h=2*t-u;s=lb(h,u,n+1/3),r=lb(h,u,n),o=lb(h,u,n-1/3)}return{red:Math.round(s*255),green:Math.round(r*255),blue:Math.round(o*255),alpha:i}}function Cx(n,e){return t=>t>0?e:n}const di=(n,e,t)=>n+(e-n)*t,cb=(n,e,t)=>{const i=n*n,s=t*(e*e-i)+i;return s<0?0:Math.sqrt(s)},nI=[kS,Wf,Xd],iI=n=>nI.find(e=>e.test(n));function CT(n){const e=iI(n);if(!e)return!1;let t=e.parse(n);return e===Xd&&(t=tI(t)),t}const RT=(n,e)=>{const t=CT(n),i=CT(e);if(!t||!i)return Cx(n,e);const s={...t};return r=>(s.red=cb(t.red,i.red,r),s.green=cb(t.green,i.green,r),s.blue=cb(t.blue,i.blue,r),s.alpha=di(t.alpha,i.alpha,r),Wf.transform(s))},XS=new Set(["none","hidden"]);function sI(n,e){return XS.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function aI(n,e){return t=>di(n,e,t)}function a1(n){return typeof n=="number"?aI:typeof n=="string"?n1(n)?Cx:Xi.test(n)?RT:lI:Array.isArray(n)?FB:typeof n=="object"?Xi.test(n)?RT:rI:Cx}function FB(n,e){const t=[...n],i=t.length,s=n.map((r,o)=>a1(r)(r,e[o]));return r=>{for(let o=0;o<i;o++)t[o]=s[o](r);return t}}function rI(n,e){const t={...n,...e},i={};for(const s in t)n[s]!==void 0&&e[s]!==void 0&&(i[s]=a1(n[s])(n[s],e[s]));return s=>{for(const r in i)t[r]=i[r](s);return t}}function oI(n,e){const t=[],i={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const r=e.types[s],o=n.indexes[r][i[r]],u=n.values[o]??0;t[s]=u,i[r]++}return t}const lI=(n,e)=>{const t=bu.createTransformer(e),i=Yg(n),s=Yg(e);return i.indexes.var.length===s.indexes.var.length&&i.indexes.color.length===s.indexes.color.length&&i.indexes.number.length>=s.indexes.number.length?XS.has(n)&&!s.values.length||XS.has(e)&&!i.values.length?sI(n,e):d0(FB(oI(i,s),s.values),t):Cx(n,e)};function zB(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?di(n,e,t):a1(n)(n,e)}const cI=n=>{const e=({timestamp:t})=>n(t);return{start:(t=!0)=>Xn.update(e,t),stop:()=>_o(e),now:()=>ds.isProcessing?ds.timestamp:Ua.now()}},HB=(n,e,t=10)=>{let i="";const s=Math.max(Math.round(e/t),2);for(let r=0;r<s;r++)i+=Math.round(n(r/(s-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},Rx=2e4;function r1(n){let e=0;const t=50;let i=n.next(e);for(;!i.done&&e<Rx;)e+=t,i=n.next(e);return e>=Rx?1/0:e}function uI(n,e=100,t){const i=t({...n,keyframes:[0,e]}),s=Math.min(r1(i),Rx);return{type:"keyframes",ease:r=>i.next(s*r).value/e,duration:cl(s)}}const fI=5;function GB(n,e,t){const i=Math.max(e-fI,0);return ZM(t-n(i),e-i)}const Si={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},ub=.001;function hI({duration:n=Si.duration,bounce:e=Si.bounce,velocity:t=Si.velocity,mass:i=Si.mass}){let s,r,o=1-e;o=dl(Si.minDamping,Si.maxDamping,o),n=dl(Si.minDuration,Si.maxDuration,cl(n)),o<1?(s=p=>{const m=p*o,y=m*n,x=m-t,_=jS(p,o),M=Math.exp(-y);return ub-x/_*M},r=p=>{const y=p*o*n,x=y*t+t,_=Math.pow(o,2)*Math.pow(p,2)*n,M=Math.exp(-y),C=jS(Math.pow(p,2),o);return(-s(p)+ub>0?-1:1)*((x-_)*M)/C}):(s=p=>{const m=Math.exp(-p*n),y=(p-t)*n+1;return-ub+m*y},r=p=>{const m=Math.exp(-p*n),y=(t-p)*(n*n);return m*y});const u=5/n,h=pI(s,r,u);if(n=ll(n),isNaN(h))return{stiffness:Si.stiffness,damping:Si.damping,duration:n};{const p=Math.pow(h,2)*i;return{stiffness:p,damping:o*2*Math.sqrt(i*p),duration:n}}}const dI=12;function pI(n,e,t){let i=t;for(let s=1;s<dI;s++)i=i-n(i)/e(i);return i}function jS(n,e){return n*Math.sqrt(1-e*e)}const mI=["duration","bounce"],gI=["stiffness","damping","mass"];function wT(n,e){return e.some(t=>n[t]!==void 0)}function yI(n){let e={velocity:Si.velocity,stiffness:Si.stiffness,damping:Si.damping,mass:Si.mass,isResolvedFromDuration:!1,...n};if(!wT(n,gI)&&wT(n,mI))if(n.visualDuration){const t=n.visualDuration,i=2*Math.PI/(t*1.2),s=i*i,r=2*dl(.05,1,1-(n.bounce||0))*Math.sqrt(s);e={...e,mass:Si.mass,stiffness:s,damping:r}}else{const t=hI(n);e={...e,...t,mass:Si.mass},e.isResolvedFromDuration=!0}return e}function wx(n=Si.visualDuration,e=Si.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:i,restDelta:s}=t;const r=t.keyframes[0],o=t.keyframes[t.keyframes.length-1],u={done:!1,value:r},{stiffness:h,damping:p,mass:m,duration:y,velocity:x,isResolvedFromDuration:_}=yI({...t,velocity:-cl(t.velocity||0)}),M=x||0,C=p/(2*Math.sqrt(h*m)),E=o-r,S=cl(Math.sqrt(h/m)),w=Math.abs(E)<5;i||(i=w?Si.restSpeed.granular:Si.restSpeed.default),s||(s=w?Si.restDelta.granular:Si.restDelta.default);let B;if(C<1){const P=jS(S,C);B=I=>{const G=Math.exp(-C*S*I);return o-G*((M+C*S*E)/P*Math.sin(P*I)+E*Math.cos(P*I))}}else if(C===1)B=P=>o-Math.exp(-S*P)*(E+(M+S*E)*P);else{const P=S*Math.sqrt(C*C-1);B=I=>{const G=Math.exp(-C*S*I),z=Math.min(P*I,300);return o-G*((M+C*S*E)*Math.sinh(z)+P*E*Math.cosh(z))/P}}const D={calculatedDuration:_&&y||null,next:P=>{const I=B(P);if(_)u.done=P>=y;else{let G=P===0?M:0;C<1&&(G=P===0?ll(M):GB(B,P,I));const z=Math.abs(G)<=i,U=Math.abs(o-I)<=s;u.done=z&&U}return u.value=u.done?o:I,u},toString:()=>{const P=Math.min(r1(D),Rx),I=HB(G=>D.next(P*G).value,P,30);return P+"ms "+I},toTransition:()=>{}};return D}wx.applyToOptions=n=>{const e=uI(n,100,wx);return n.ease=e.ease,n.duration=ll(e.duration),n.type="keyframes",n};function YS({keyframes:n,velocity:e=0,power:t=.8,timeConstant:i=325,bounceDamping:s=10,bounceStiffness:r=500,modifyTarget:o,min:u,max:h,restDelta:p=.5,restSpeed:m}){const y=n[0],x={done:!1,value:y},_=z=>u!==void 0&&z<u||h!==void 0&&z>h,M=z=>u===void 0?h:h===void 0||Math.abs(u-z)<Math.abs(h-z)?u:h;let C=t*e;const E=y+C,S=o===void 0?E:o(E);S!==E&&(C=S-y);const w=z=>-C*Math.exp(-z/i),B=z=>S+w(z),D=z=>{const U=w(z),O=B(z);x.done=Math.abs(U)<=p,x.value=x.done?S:O};let P,I;const G=z=>{_(x.value)&&(P=z,I=wx({keyframes:[x.value,M(x.value)],velocity:GB(B,z,x.value),damping:s,stiffness:r,restDelta:p,restSpeed:m}))};return G(0),{calculatedDuration:null,next:z=>{let U=!1;return!I&&P===void 0&&(U=!0,D(z),G(z)),P!==void 0&&z>=P?I.next(z-P):(!U&&D(z),x)}}}function vI(n,e,t){const i=[],s=t||lc.mix||zB,r=n.length-1;for(let o=0;o<r;o++){let u=s(n[o],n[o+1]);if(e){const h=Array.isArray(e)?e[o]||Oa:e;u=d0(h,u)}i.push(u)}return i}function o1(n,e,{clamp:t=!0,ease:i,mixer:s}={}){const r=n.length;if(JM(r===e.length),r===1)return()=>e[0];if(r===2&&e[0]===e[1])return()=>e[1];const o=n[0]===n[1];n[0]>n[r-1]&&(n=[...n].reverse(),e=[...e].reverse());const u=vI(e,i,s),h=u.length,p=m=>{if(o&&m<n[0])return e[0];let y=0;if(h>1)for(;y<n.length-2&&!(m<n[y+1]);y++);const x=ap(n[y],n[y+1],m);return u[y](x)};return t?m=>p(dl(n[0],n[r-1],m)):p}function xI(n,e){const t=n[n.length-1];for(let i=1;i<=e;i++){const s=ap(0,e,i);n.push(di(t,1,s))}}function VB(n){const e=[0];return xI(e,n.length-1),e}function _I(n,e){return n.map(t=>t*e)}function AI(n,e){return n.map(()=>e||wB).splice(0,n.length-1)}function Rg({duration:n=300,keyframes:e,times:t,ease:i="easeInOut"}){const s=LP(i)?i.map(MT):MT(i),r={done:!1,value:e[0]},o=_I(t&&t.length===e.length?t:VB(e),n),u=o1(o,e,{ease:Array.isArray(s)?s:AI(e,s)});return{calculatedDuration:n,next:h=>(r.value=u(h),r.done=h>=n,r)}}const bI=n=>n!==null;function l1(n,{repeat:e,repeatType:t="loop"},i,s=1){const r=n.filter(bI),u=s<0||e&&t!=="loop"&&e%2===1?0:r.length-1;return!u||i===void 0?r[u]:i}const SI={decay:YS,inertia:YS,tween:Rg,keyframes:Rg,spring:wx};function kB(n){typeof n.type=="string"&&(n.type=SI[n.type])}class c1{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const MI=n=>n/100;class w_ extends c1{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var i,s;const{motionValue:t}=this.options;t&&t.updatedAt!==Ua.now()&&this.tick(Ua.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(i=this.options).onStop)==null||s.call(i))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;kB(e);const{type:t=Rg,repeat:i=0,repeatDelay:s=0,repeatType:r,velocity:o=0}=e;let{keyframes:u}=e;const h=t||Rg;h!==Rg&&typeof u[0]!="number"&&(this.mixKeyframes=d0(MI,zB(u[0],u[1])),u=[0,100]);const p=h({...e,keyframes:u});r==="mirror"&&(this.mirroredGenerator=h({...e,keyframes:[...u].reverse(),velocity:-o})),p.calculatedDuration===null&&(p.calculatedDuration=r1(p));const{calculatedDuration:m}=p;this.calculatedDuration=m,this.resolvedDuration=m+s,this.totalDuration=this.resolvedDuration*(i+1)-s,this.generator=p}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){const{generator:i,totalDuration:s,mixKeyframes:r,mirroredGenerator:o,resolvedDuration:u,calculatedDuration:h}=this;if(this.startTime===null)return i.next(0);const{delay:p=0,keyframes:m,repeat:y,repeatType:x,repeatDelay:_,type:M,onUpdate:C,finalKeyframe:E}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const S=this.currentTime-p*(this.playbackSpeed>=0?1:-1),w=this.playbackSpeed>=0?S<0:S>s;this.currentTime=Math.max(S,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let B=this.currentTime,D=i;if(y){const z=Math.min(this.currentTime,s)/u;let U=Math.floor(z),O=z%1;!O&&z>=1&&(O=1),O===1&&U--,U=Math.min(U,y+1),!!(U%2)&&(x==="reverse"?(O=1-O,_&&(O-=_/u)):x==="mirror"&&(D=o)),B=dl(0,1,O)*u}const P=w?{done:!1,value:m[0]}:D.next(B);r&&(P.value=r(P.value));let{done:I}=P;!w&&h!==null&&(I=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const G=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&I);return G&&M!==YS&&(P.value=l1(m,this.options,E,this.speed)),C&&C(P.value),G&&this.finish(),P}then(e,t){return this.finished.then(e,t)}get duration(){return cl(this.calculatedDuration)}get time(){return cl(this.currentTime)}set time(e){var t;e=ll(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(t=this.driver)==null||t.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Ua.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=cl(this.currentTime))}play(){var s,r;if(this.isStopped)return;const{driver:e=cI,startTime:t}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(r=(s=this.options).onPlay)==null||r.call(s);const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=t??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ua.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,t;this.notifyFinished(),this.teardown(),this.state="finished",(t=(e=this.options).onComplete)==null||t.call(e)}cancel(){var e,t;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(t=(e=this.options).onCancel)==null||t.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var t;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(t=this.driver)==null||t.stop(),e.observe(this)}}function EI(n){for(let e=1;e<n.length;e++)n[e]??(n[e]=n[e-1])}const Jf=n=>n*180/Math.PI,qS=n=>{const e=Jf(Math.atan2(n[1],n[0]));return WS(e)},TI={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:qS,rotateZ:qS,skewX:n=>Jf(Math.atan(n[1])),skewY:n=>Jf(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},WS=n=>(n=n%360,n<0&&(n+=360),n),BT=qS,DT=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),NT=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),CI={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:DT,scaleY:NT,scale:n=>(DT(n)+NT(n))/2,rotateX:n=>WS(Jf(Math.atan2(n[6],n[5]))),rotateY:n=>WS(Jf(Math.atan2(-n[2],n[0]))),rotateZ:BT,rotate:BT,skewX:n=>Jf(Math.atan(n[4])),skewY:n=>Jf(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function JS(n){return n.includes("scale")?1:0}function KS(n,e){if(!n||n==="none")return JS(e);const t=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,s;if(t)i=CI,s=t;else{const u=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=TI,s=u}if(!s)return JS(e);const r=i[e],o=s[1].split(",").map(wI);return typeof r=="function"?r(o):o[r]}const RI=(n,e)=>{const{transform:t="none"}=getComputedStyle(n);return KS(t,e)};function wI(n){return parseFloat(n.trim())}const Mp=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ep=new Set(Mp),UT=n=>n===Sp||n===Xt,BI=new Set(["x","y","z"]),DI=Mp.filter(n=>!BI.has(n));function NI(n){const e=[];return DI.forEach(t=>{const i=n.getValue(t);i!==void 0&&(e.push([t,i.get()]),i.set(t.startsWith("scale")?1:0))}),e}const ih={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:(n,{transform:e})=>KS(e,"x"),y:(n,{transform:e})=>KS(e,"y")};ih.translateX=ih.x;ih.translateY=ih.y;const sh=new Set;let QS=!1,ZS=!1,$S=!1;function XB(){if(ZS){const n=Array.from(sh).filter(i=>i.needsMeasurement),e=new Set(n.map(i=>i.element)),t=new Map;e.forEach(i=>{const s=NI(i);s.length&&(t.set(i,s),i.render())}),n.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const s=t.get(i);s&&s.forEach(([r,o])=>{var u;(u=i.getValue(r))==null||u.set(o)})}),n.forEach(i=>i.measureEndState()),n.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}ZS=!1,QS=!1,sh.forEach(n=>n.complete($S)),sh.clear()}function jB(){sh.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(ZS=!0)})}function UI(){$S=!0,jB(),XB(),$S=!1}class u1{constructor(e,t,i,s,r,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=i,this.motionValue=s,this.element=r,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(sh.add(this),QS||(QS=!0,Xn.read(jB),Xn.resolveKeyframes(XB))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:i,motionValue:s}=this;if(e[0]===null){const r=s==null?void 0:s.get(),o=e[e.length-1];if(r!==void 0)e[0]=r;else if(i&&t){const u=i.readValue(t,o);u!=null&&(e[0]=u)}e[0]===void 0&&(e[0]=o),s&&r===void 0&&s.set(e[0])}EI(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),sh.delete(this)}cancel(){this.state==="scheduled"&&(sh.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const LI=n=>n.startsWith("--");function OI(n,e,t){LI(e)?n.style.setProperty(e,t):n.style[e]=t}const YB=KM(()=>window.ScrollTimeline!==void 0),PI={};function II(n,e){const t=KM(n);return()=>PI[e]??t()}const qB=II(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Sg=([n,e,t,i])=>`cubic-bezier(${n}, ${e}, ${t}, ${i})`,LT={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Sg([0,.65,.55,1]),circOut:Sg([.55,0,1,.45]),backIn:Sg([.31,.01,.66,-.59]),backOut:Sg([.33,1.53,.69,.99])};function WB(n,e){if(n)return typeof n=="function"?qB()?HB(n,e):"ease-out":BB(n)?Sg(n):Array.isArray(n)?n.map(t=>WB(t,e)||LT.easeOut):LT[n]}function FI(n,e,t,{delay:i=0,duration:s=300,repeat:r=0,repeatType:o="loop",ease:u="easeOut",times:h}={},p=void 0){const m={[e]:t};h&&(m.offset=h);const y=WB(u,s);Array.isArray(y)&&(m.easing=y);const x={delay:i,duration:s,easing:Array.isArray(y)?"linear":y,fill:"both",iterations:r+1,direction:o==="reverse"?"alternate":"normal"};return p&&(x.pseudoElement=p),n.animate(m,x)}function JB(n){return typeof n=="function"&&"applyToOptions"in n}function zI({type:n,...e}){return JB(n)&&qB()?n.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class HI extends c1{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:t,name:i,keyframes:s,pseudoElement:r,allowFlatten:o=!1,finalKeyframe:u,onComplete:h}=e;this.isPseudoElement=!!r,this.allowFlatten=o,this.options=e,JM(typeof e.type!="string");const p=zI(e);this.animation=FI(t,i,s,p,r),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!r){const m=l1(s,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(m):OI(t,i,m),this.animation.cancel()}h==null||h(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,t;(t=(e=this.animation).finish)==null||t.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,t;this.isPseudoElement||(t=(e=this.animation).commitStyles)==null||t.call(e)}get duration(){var t,i;const e=((i=(t=this.animation.effect)==null?void 0:t.getComputedTiming)==null?void 0:i.call(t).duration)||0;return cl(Number(e))}get time(){return cl(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=ll(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){var i;return this.allowFlatten&&((i=this.animation.effect)==null||i.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&YB()?(this.animation.timeline=e,Oa):t(this)}}const KB={anticipate:TB,backInOut:EB,circInOut:RB};function GI(n){return n in KB}function VI(n){typeof n.ease=="string"&&GI(n.ease)&&(n.ease=KB[n.ease])}const OT=10;class kI extends HI{constructor(e){VI(e),kB(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:t,onUpdate:i,onComplete:s,element:r,...o}=this.options;if(!t)return;if(e!==void 0){t.set(e);return}const u=new w_({...o,autoplay:!1}),h=ll(this.finishedTime??this.time);t.setWithVelocity(u.sample(h-OT).value,u.sample(h).value,OT),u.stop()}}const PT=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(bu.test(n)||n==="0")&&!n.startsWith("url("));function XI(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function jI(n,e,t,i){const s=n[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const r=n[n.length-1],o=PT(s,e),u=PT(r,e);return!o||!u?!1:XI(n)||(t==="spring"||JB(t))&&i}function B_(n){return xB(n)&&"offsetHeight"in n}const YI=new Set(["opacity","clipPath","filter","transform"]),qI=KM(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function WI(n){var p;const{motionValue:e,name:t,repeatDelay:i,repeatType:s,damping:r,type:o}=n;if(!B_((p=e==null?void 0:e.owner)==null?void 0:p.current))return!1;const{onUpdate:u,transformTemplate:h}=e.owner.getProps();return qI()&&t&&YI.has(t)&&(t!=="transform"||!h)&&!u&&!i&&s!=="mirror"&&r!==0&&o!=="inertia"}const JI=40;class KI extends c1{constructor({autoplay:e=!0,delay:t=0,type:i="keyframes",repeat:s=0,repeatDelay:r=0,repeatType:o="loop",keyframes:u,name:h,motionValue:p,element:m,...y}){var M;super(),this.stop=()=>{var C,E;this._animation&&(this._animation.stop(),(C=this.stopTimeline)==null||C.call(this)),(E=this.keyframeResolver)==null||E.cancel()},this.createdAt=Ua.now();const x={autoplay:e,delay:t,type:i,repeat:s,repeatDelay:r,repeatType:o,name:h,motionValue:p,element:m,...y},_=(m==null?void 0:m.KeyframeResolver)||u1;this.keyframeResolver=new _(u,(C,E,S)=>this.onKeyframesResolved(C,E,x,!S),h,p,m),(M=this.keyframeResolver)==null||M.scheduleResolve()}onKeyframesResolved(e,t,i,s){this.keyframeResolver=void 0;const{name:r,type:o,velocity:u,delay:h,isHandoff:p,onUpdate:m}=i;this.resolvedAt=Ua.now(),jI(e,r,o,u)||((lc.instantAnimations||!h)&&(m==null||m(l1(e,i,t))),e[0]=e[e.length-1],i.duration=0,i.repeat=0);const x={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>JI?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:t,...i,keyframes:e},_=!p&&WI(x)?new kI({...x,element:x.motionValue.owner.current}):new w_(x);_.finished.then(()=>this.notifyFinished()).catch(Oa),this.pendingTimeline&&(this.stopTimeline=_.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=_}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),UI()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const QI=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function ZI(n){const e=QI.exec(n);if(!e)return[,];const[,t,i,s]=e;return[`--${t??i}`,s]}function QB(n,e,t=1){const[i,s]=ZI(n);if(!i)return;const r=window.getComputedStyle(e).getPropertyValue(i);if(r){const o=r.trim();return vB(o)?parseFloat(o):o}return n1(s)?QB(s,e,t+1):s}function f1(n,e){return(n==null?void 0:n[e])??(n==null?void 0:n.default)??n}const ZB=new Set(["width","height","top","left","right","bottom",...Mp]),$I={test:n=>n==="auto",parse:n=>n},$B=n=>e=>e.test(n),eD=[Sp,Xt,ul,mu,qP,YP,$I],IT=n=>eD.find($B(n));function eF(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||_B(n):!0}const tF=new Set(["brightness","contrast","saturate","opacity"]);function nF(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[i]=t.match(i1)||[];if(!i)return n;const s=t.replace(i,"");let r=tF.has(e)?1:0;return i!==t&&(r*=100),e+"("+r+s+")"}const iF=/\b([a-z-]*)\(.*?\)/gu,eM={...bu,getAnimatableNone:n=>{const e=n.match(iF);return e?e.map(nF).join(" "):n}},FT={...Sp,transform:Math.round},sF={rotate:mu,rotateX:mu,rotateY:mu,rotateZ:mu,scale:uv,scaleX:uv,scaleY:uv,scaleZ:uv,skew:mu,skewX:mu,skewY:mu,distance:Xt,translateX:Xt,translateY:Xt,translateZ:Xt,x:Xt,y:Xt,z:Xt,perspective:Xt,transformPerspective:Xt,opacity:jg,originX:ET,originY:ET,originZ:Xt},h1={borderWidth:Xt,borderTopWidth:Xt,borderRightWidth:Xt,borderBottomWidth:Xt,borderLeftWidth:Xt,borderRadius:Xt,radius:Xt,borderTopLeftRadius:Xt,borderTopRightRadius:Xt,borderBottomRightRadius:Xt,borderBottomLeftRadius:Xt,width:Xt,maxWidth:Xt,height:Xt,maxHeight:Xt,top:Xt,right:Xt,bottom:Xt,left:Xt,padding:Xt,paddingTop:Xt,paddingRight:Xt,paddingBottom:Xt,paddingLeft:Xt,margin:Xt,marginTop:Xt,marginRight:Xt,marginBottom:Xt,marginLeft:Xt,backgroundPositionX:Xt,backgroundPositionY:Xt,...sF,zIndex:FT,fillOpacity:jg,strokeOpacity:jg,numOctaves:FT},aF={...h1,color:Xi,backgroundColor:Xi,outlineColor:Xi,fill:Xi,stroke:Xi,borderColor:Xi,borderTopColor:Xi,borderRightColor:Xi,borderBottomColor:Xi,borderLeftColor:Xi,filter:eM,WebkitFilter:eM},tD=n=>aF[n];function nD(n,e){let t=tD(n);return t!==eM&&(t=bu),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const rF=new Set(["auto","none","0"]);function oF(n,e,t){let i=0,s;for(;i<n.length&&!s;){const r=n[i];typeof r=="string"&&!rF.has(r)&&Yg(r).values.length&&(s=n[i]),i++}if(s&&t)for(const r of e)n[r]=nD(t,s)}class lF extends u1{constructor(e,t,i,s,r){super(e,t,i,s,r,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:i}=this;if(!t||!t.current)return;super.readKeyframes();for(let h=0;h<e.length;h++){let p=e[h];if(typeof p=="string"&&(p=p.trim(),n1(p))){const m=QB(p,t.current);m!==void 0&&(e[h]=m),h===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!ZB.has(i)||e.length!==2)return;const[s,r]=e,o=IT(s),u=IT(r);if(o!==u)if(UT(o)&&UT(u))for(let h=0;h<e.length;h++){const p=e[h];typeof p=="string"&&(e[h]=parseFloat(p))}else ih[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,i=[];for(let s=0;s<e.length;s++)(e[s]===null||eF(e[s]))&&i.push(s);i.length&&oF(e,i,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ih[i](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const s=t[t.length-1];s!==void 0&&e.getValue(i,s).jump(s,!1)}measureEndState(){var u;const{element:e,name:t,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const s=e.getValue(t);s&&s.jump(this.measuredOrigin,!1);const r=i.length-1,o=i[r];i[r]=ih[t](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(u=this.removedTransforms)!=null&&u.length&&this.removedTransforms.forEach(([h,p])=>{e.getValue(h).set(p)}),this.resolveNoneKeyframes()}}function iD(n,e,t){if(n instanceof EventTarget)return[n];if(typeof n=="string"){const s=document.querySelectorAll(n);return s?Array.from(s):[]}return Array.from(n)}const sD=(n,e)=>e&&typeof n=="number"?e.transform(n):n,zT=30,cF=n=>!isNaN(parseFloat(n)),wg={current:void 0};class uF{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,s=!0)=>{var o,u;const r=Ua.now();if(this.updatedAt!==r&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const h of this.dependents)h.dirty();s&&((u=this.events.renderRequest)==null||u.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=Ua.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=cF(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new QM);const i=this.events[e].add(t);return e==="change"?()=>{i(),Xn.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,i){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return wg.current&&wg.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=Ua.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>zT)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,zT);return ZM(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,t;(e=this.dependents)==null||e.clear(),(t=this.events.destroy)==null||t.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function yo(n,e){return new uF(n,e)}const{schedule:d1}=DB(queueMicrotask,!1),po={x:!1,y:!1};function aD(){return po.x||po.y}function fF(n){return n==="x"||n==="y"?po[n]?null:(po[n]=!0,()=>{po[n]=!1}):po.x||po.y?null:(po.x=po.y=!0,()=>{po.x=po.y=!1})}function rD(n,e){const t=iD(n),i=new AbortController,s={passive:!0,...e,signal:i.signal};return[t,s,()=>i.abort()]}function HT(n){return!(n.pointerType==="touch"||aD())}function hF(n,e,t={}){const[i,s,r]=rD(n,t),o=u=>{if(!HT(u))return;const{target:h}=u,p=e(h,u);if(typeof p!="function"||!h)return;const m=y=>{HT(y)&&(p(y),h.removeEventListener("pointerleave",m))};h.addEventListener("pointerleave",m,s)};return i.forEach(u=>{u.addEventListener("pointerenter",o,s)}),r}const oD=(n,e)=>e?n===e?!0:oD(n,e.parentElement):!1,p1=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,dF=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function pF(n){return dF.has(n.tagName)||n.tabIndex!==-1}const gx=new WeakSet;function GT(n){return e=>{e.key==="Enter"&&n(e)}}function fb(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const mF=(n,e)=>{const t=n.currentTarget;if(!t)return;const i=GT(()=>{if(gx.has(t))return;fb(t,"down");const s=GT(()=>{fb(t,"up")}),r=()=>fb(t,"cancel");t.addEventListener("keyup",s,e),t.addEventListener("blur",r,e)});t.addEventListener("keydown",i,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",i),e)};function VT(n){return p1(n)&&!aD()}function gF(n,e,t={}){const[i,s,r]=rD(n,t),o=u=>{const h=u.currentTarget;if(!VT(u))return;gx.add(h);const p=e(h,u),m=(_,M)=>{window.removeEventListener("pointerup",y),window.removeEventListener("pointercancel",x),gx.has(h)&&gx.delete(h),VT(_)&&typeof p=="function"&&p(_,{success:M})},y=_=>{m(_,h===window||h===document||t.useGlobalTarget||oD(h,_.target))},x=_=>{m(_,!1)};window.addEventListener("pointerup",y,s),window.addEventListener("pointercancel",x,s)};return i.forEach(u=>{(t.useGlobalTarget?window:u).addEventListener("pointerdown",o,s),B_(u)&&(u.addEventListener("focus",p=>mF(p,s)),!pF(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),r}function m1(n){return xB(n)&&"ownerSVGElement"in n}const yx=new WeakMap;let gu;const lD=(n,e,t)=>(i,s)=>s&&s[0]?s[0][n+"Size"]:m1(i)&&"getBBox"in i?i.getBBox()[e]:i[t],yF=lD("inline","width","offsetWidth"),vF=lD("block","height","offsetHeight");function xF({target:n,borderBoxSize:e}){var t;(t=yx.get(n))==null||t.forEach(i=>{i(n,{get width(){return yF(n,e)},get height(){return vF(n,e)}})})}function _F(n){n.forEach(xF)}function AF(){typeof ResizeObserver>"u"||(gu=new ResizeObserver(_F))}function bF(n,e){gu||AF();const t=iD(n);return t.forEach(i=>{let s=yx.get(i);s||(s=new Set,yx.set(i,s)),s.add(e),gu==null||gu.observe(i)}),()=>{t.forEach(i=>{const s=yx.get(i);s==null||s.delete(e),s!=null&&s.size||gu==null||gu.unobserve(i)})}}const vx=new Set;let jd;function SF(){jd=()=>{const n={get width(){return window.innerWidth},get height(){return window.innerHeight}};vx.forEach(e=>e(n))},window.addEventListener("resize",jd)}function MF(n){return vx.add(n),jd||SF(),()=>{vx.delete(n),!vx.size&&typeof jd=="function"&&(window.removeEventListener("resize",jd),jd=void 0)}}function EF(n,e){return typeof n=="function"?MF(n):bF(n,e)}function cD(n,e){let t;const i=()=>{const{currentTime:s}=e,o=(s===null?0:s.value)/100;t!==o&&n(o),t=o};return Xn.preUpdate(i,!0),()=>_o(i)}function TF(n){return m1(n)&&n.tagName==="svg"}function CF(...n){const e=!Array.isArray(n[0]),t=e?0:-1,i=n[0+t],s=n[1+t],r=n[2+t],o=n[3+t],u=o1(s,r,o);return e?u(i):u}const ps=n=>!!(n&&n.getVelocity);function RF(n,e,t){const i=n.get();let s=null,r=i,o;const u=typeof i=="string"?i.replace(/[\d.-]/g,""):void 0,h=()=>{s&&(s.stop(),s=null)},p=()=>{h(),s=new w_({keyframes:[XT(n.get()),XT(r)],velocity:n.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...t,onUpdate:o})};n.attach((y,x)=>(r=y,o=_=>x(kT(_,u)),Xn.postRender(p),n.get()),h);let m;return ps(e)&&(m=e.on("change",y=>n.set(kT(y,u))),n.on("destroy",m)),m}function kT(n,e){return e?n+e:n}function XT(n){return typeof n=="number"?n:parseFloat(n)}const wF=[...eD,Xi,bu],BF=n=>wF.find($B(n)),g0=Q.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});class DF extends Q.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const i=t.offsetParent,s=B_(i)&&i.offsetWidth||0,r=this.props.sizeRef.current;r.height=t.offsetHeight||0,r.width=t.offsetWidth||0,r.top=t.offsetTop,r.left=t.offsetLeft,r.right=s-r.width-r.left}return null}componentDidUpdate(){}render(){return this.props.children}}function NF({children:n,isPresent:e,anchorX:t}){const i=Q.useId(),s=Q.useRef(null),r=Q.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=Q.useContext(g0);return Q.useInsertionEffect(()=>{const{width:u,height:h,top:p,left:m,right:y}=r.current;if(e||!s.current||!u||!h)return;const x=t==="left"?`left: ${m}`:`right: ${y}`;s.current.dataset.motionPopId=i;const _=document.createElement("style");return o&&(_.nonce=o),document.head.appendChild(_),_.sheet&&_.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${h}px !important;
            ${x}px !important;
            top: ${p}px !important;
          }
        `),()=>{document.head.contains(_)&&document.head.removeChild(_)}},[e]),J.jsx(DF,{isPresent:e,childRef:s,sizeRef:r,children:Q.cloneElement(n,{ref:s})})}const UF=({children:n,initial:e,isPresent:t,onExitComplete:i,custom:s,presenceAffectsLayout:r,mode:o,anchorX:u})=>{const h=bp(LF),p=Q.useId();let m=!0,y=Q.useMemo(()=>(m=!1,{id:p,initial:e,isPresent:t,custom:s,onExitComplete:x=>{h.set(x,!0);for(const _ of h.values())if(!_)return;i&&i()},register:x=>(h.set(x,!1),()=>h.delete(x))}),[t,h,i]);return r&&m&&(y={...y}),Q.useMemo(()=>{h.forEach((x,_)=>h.set(_,!1))},[t]),Q.useEffect(()=>{!t&&!h.size&&i&&i()},[t]),o==="popLayout"&&(n=J.jsx(NF,{isPresent:t,anchorX:u,children:n})),J.jsx(R_.Provider,{value:y,children:n})};function LF(){return new Map}function uD(n=!0){const e=Q.useContext(R_);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:i,register:s}=e,r=Q.useId();Q.useEffect(()=>{if(n)return s(r)},[n]);const o=Q.useCallback(()=>n&&i&&i(r),[r,i,n]);return!t&&i?[!1,o]:[!0]}const fv=n=>n.key||"";function jT(n){const e=[];return Q.Children.forEach(n,t=>{Q.isValidElement(t)&&e.push(t)}),e}const OF=({children:n,custom:e,initial:t=!0,onExitComplete:i,presenceAffectsLayout:s=!0,mode:r="sync",propagate:o=!1,anchorX:u="left"})=>{const[h,p]=uD(o),m=Q.useMemo(()=>jT(n),[n]),y=o&&!h?[]:m.map(fv),x=Q.useRef(!0),_=Q.useRef(m),M=bp(()=>new Map),[C,E]=Q.useState(m),[S,w]=Q.useState(m);C_(()=>{x.current=!1,_.current=m;for(let P=0;P<S.length;P++){const I=fv(S[P]);y.includes(I)?M.delete(I):M.get(I)!==!0&&M.set(I,!1)}},[S,y.length,y.join("-")]);const B=[];if(m!==C){let P=[...m];for(let I=0;I<S.length;I++){const G=S[I],z=fv(G);y.includes(z)||(P.splice(I,0,G),B.push(G))}return r==="wait"&&B.length&&(P=B),w(jT(P)),E(m),null}const{forceRender:D}=Q.useContext(jM);return J.jsx(J.Fragment,{children:S.map(P=>{const I=fv(P),G=o&&!h?!1:m===S||y.includes(I),z=()=>{if(M.has(I))M.set(I,!0);else return;let U=!0;M.forEach(O=>{O||(U=!1)}),U&&(D==null||D(),w(_.current),o&&(p==null||p()),i&&i())};return J.jsx(UF,{isPresent:G,initial:!x.current||t?void 0:!1,custom:e,presenceAffectsLayout:s,mode:r,onExitComplete:G?void 0:z,anchorX:u,children:P},I)})})},fD=Q.createContext({strict:!1}),YT={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},rp={};for(const n in YT)rp[n]={isEnabled:e=>YT[n].some(t=>!!e[t])};function PF(n){for(const e in n)rp[e]={...rp[e],...n[e]}}const IF=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Bx(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||IF.has(n)}let hD=n=>!Bx(n);function FF(n){typeof n=="function"&&(hD=e=>e.startsWith("on")?!Bx(e):n(e))}try{FF(require("@emotion/is-prop-valid").default)}catch{}function zF(n,e,t){const i={};for(const s in n)s==="values"&&typeof n.values=="object"||(hD(s)||t===!0&&Bx(s)||!e&&!Bx(s)||n.draggable&&s.startsWith("onDrag"))&&(i[s]=n[s]);return i}function HF(n){if(typeof Proxy>"u")return n;const e=new Map,t=(...i)=>n(...i);return new Proxy(t,{get:(i,s)=>s==="create"?n:(e.has(s)||e.set(s,n(s)),e.get(s))})}const D_=Q.createContext({});function N_(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function qg(n){return typeof n=="string"||Array.isArray(n)}const g1=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],y1=["initial",...g1];function U_(n){return N_(n.animate)||y1.some(e=>qg(n[e]))}function dD(n){return!!(U_(n)||n.variants)}function GF(n,e){if(U_(n)){const{initial:t,animate:i}=n;return{initial:t===!1||qg(t)?t:void 0,animate:qg(i)?i:void 0}}return n.inherit!==!1?e:{}}function VF(n){const{initial:e,animate:t}=GF(n,Q.useContext(D_));return Q.useMemo(()=>({initial:e,animate:t}),[qT(e),qT(t)])}function qT(n){return Array.isArray(n)?n.join(" "):n}const kF=Symbol.for("motionComponentSymbol");function Yd(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function XF(n,e,t){return Q.useCallback(i=>{i&&n.onMount&&n.onMount(i),e&&(i?e.mount(i):e.unmount()),t&&(typeof t=="function"?t(i):Yd(t)&&(t.current=i))},[e])}const v1=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),jF="framerAppearId",pD="data-"+v1(jF),mD=Q.createContext({});function YF(n,e,t,i,s){var C,E;const{visualElement:r}=Q.useContext(D_),o=Q.useContext(fD),u=Q.useContext(R_),h=Q.useContext(g0).reducedMotion,p=Q.useRef(null);i=i||o.renderer,!p.current&&i&&(p.current=i(n,{visualState:e,parent:r,props:t,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:h}));const m=p.current,y=Q.useContext(mD);m&&!m.projection&&s&&(m.type==="html"||m.type==="svg")&&qF(p.current,t,s,y);const x=Q.useRef(!1);Q.useInsertionEffect(()=>{m&&x.current&&m.update(t,u)});const _=t[pD],M=Q.useRef(!!_&&!((C=window.MotionHandoffIsComplete)!=null&&C.call(window,_))&&((E=window.MotionHasOptimisedAnimation)==null?void 0:E.call(window,_)));return C_(()=>{m&&(x.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),d1.render(m.render),M.current&&m.animationState&&m.animationState.animateChanges())}),Q.useEffect(()=>{m&&(!M.current&&m.animationState&&m.animationState.animateChanges(),M.current&&(queueMicrotask(()=>{var S;(S=window.MotionHandoffMarkAsComplete)==null||S.call(window,_)}),M.current=!1))}),m}function qF(n,e,t,i){const{layoutId:s,layout:r,drag:o,dragConstraints:u,layoutScroll:h,layoutRoot:p,layoutCrossfade:m}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:gD(n.parent)),n.projection.setOptions({layoutId:s,layout:r,alwaysMeasureLayout:!!o||u&&Yd(u),visualElement:n,animationType:typeof r=="string"?r:"both",initialPromotionConfig:i,crossfade:m,layoutScroll:h,layoutRoot:p})}function gD(n){if(n)return n.options.allowProjection!==!1?n.projection:gD(n.parent)}function WF({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:i,Component:s}){n&&PF(n);function r(u,h){let p;const m={...Q.useContext(g0),...u,layoutId:JF(u)},{isStatic:y}=m,x=VF(u),_=i(u,y);if(!y&&YM){KF();const M=QF(m);p=M.MeasureLayout,x.visualElement=YF(s,_,m,e,M.ProjectionNode)}return J.jsxs(D_.Provider,{value:x,children:[p&&x.visualElement?J.jsx(p,{visualElement:x.visualElement,...m}):null,t(s,u,XF(_,x.visualElement,h),_,y,x.visualElement)]})}r.displayName=`motion.${typeof s=="string"?s:`create(${s.displayName??s.name??""})`}`;const o=Q.forwardRef(r);return o[kF]=s,o}function JF({layoutId:n}){const e=Q.useContext(jM).id;return e&&n!==void 0?e+"-"+n:n}function KF(n,e){Q.useContext(fD).strict}function QF(n){const{drag:e,layout:t}=rp;if(!e&&!t)return{};const i={...e,...t};return{MeasureLayout:e!=null&&e.isEnabled(n)||t!=null&&t.isEnabled(n)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const Wg={};function ZF(n){for(const e in n)Wg[e]=n[e],t1(e)&&(Wg[e].isCSSVariable=!0)}function yD(n,{layout:e,layoutId:t}){return Ep.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!Wg[n]||n==="opacity")}const $F={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},ez=Mp.length;function tz(n,e,t){let i="",s=!0;for(let r=0;r<ez;r++){const o=Mp[r],u=n[o];if(u===void 0)continue;let h=!0;if(typeof u=="number"?h=u===(o.startsWith("scale")?1:0):h=parseFloat(u)===0,!h||t){const p=sD(u,h1[o]);if(!h){s=!1;const m=$F[o]||o;i+=`${m}(${p}) `}t&&(e[o]=p)}}return i=i.trim(),t?i=t(e,s?"":i):s&&(i="none"),i}function x1(n,e,t){const{style:i,vars:s,transformOrigin:r}=n;let o=!1,u=!1;for(const h in e){const p=e[h];if(Ep.has(h)){o=!0;continue}else if(t1(h)){s[h]=p;continue}else{const m=sD(p,h1[h]);h.startsWith("origin")?(u=!0,r[h]=m):i[h]=m}}if(e.transform||(o||t?i.transform=tz(e,n.transform,t):i.transform&&(i.transform="none")),u){const{originX:h="50%",originY:p="50%",originZ:m=0}=r;i.transformOrigin=`${h} ${p} ${m}`}}const _1=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function vD(n,e,t){for(const i in e)!ps(e[i])&&!yD(i,t)&&(n[i]=e[i])}function nz({transformTemplate:n},e){return Q.useMemo(()=>{const t=_1();return x1(t,e,n),Object.assign({},t.vars,t.style)},[e])}function iz(n,e){const t=n.style||{},i={};return vD(i,t,n),Object.assign(i,nz(n,e)),i}function sz(n,e){const t={},i=iz(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=i,t}const az={offset:"stroke-dashoffset",array:"stroke-dasharray"},rz={offset:"strokeDashoffset",array:"strokeDasharray"};function oz(n,e,t=1,i=0,s=!0){n.pathLength=1;const r=s?az:rz;n[r.offset]=Xt.transform(-i);const o=Xt.transform(e),u=Xt.transform(t);n[r.array]=`${o} ${u}`}function xD(n,{attrX:e,attrY:t,attrScale:i,pathLength:s,pathSpacing:r=1,pathOffset:o=0,...u},h,p,m){if(x1(n,u,p),h){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:y,style:x}=n;y.transform&&(x.transform=y.transform,delete y.transform),(x.transform||y.transformOrigin)&&(x.transformOrigin=y.transformOrigin??"50% 50%",delete y.transformOrigin),x.transform&&(x.transformBox=(m==null?void 0:m.transformBox)??"fill-box",delete y.transformBox),e!==void 0&&(y.x=e),t!==void 0&&(y.y=t),i!==void 0&&(y.scale=i),s!==void 0&&oz(y,s,r,o,!1)}const _D=()=>({..._1(),attrs:{}}),AD=n=>typeof n=="string"&&n.toLowerCase()==="svg";function lz(n,e,t,i){const s=Q.useMemo(()=>{const r=_D();return xD(r,e,AD(i),n.transformTemplate,n.style),{...r.attrs,style:{...r.style}}},[e]);if(n.style){const r={};vD(r,n.style,n),s.style={...r,...s.style}}return s}const cz=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function A1(n){return typeof n!="string"||n.includes("-")?!1:!!(cz.indexOf(n)>-1||/[A-Z]/u.test(n))}function uz(n=!1){return(t,i,s,{latestValues:r},o)=>{const h=(A1(t)?lz:sz)(i,r,o,t),p=zF(i,typeof t=="string",n),m=t!==Q.Fragment?{...p,...h,ref:s}:{},{children:y}=i,x=Q.useMemo(()=>ps(y)?y.get():y,[y]);return Q.createElement(t,{...m,children:x})}}function WT(n){const e=[{},{}];return n==null||n.values.forEach((t,i)=>{e[0][i]=t.get(),e[1][i]=t.getVelocity()}),e}function b1(n,e,t,i){if(typeof e=="function"){const[s,r]=WT(i);e=e(t!==void 0?t:n.custom,s,r)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[s,r]=WT(i);e=e(t!==void 0?t:n.custom,s,r)}return e}function xx(n){return ps(n)?n.get():n}function fz({scrapeMotionValuesFromProps:n,createRenderState:e},t,i,s){return{latestValues:hz(t,i,s,n),renderState:e()}}const bD=n=>(e,t)=>{const i=Q.useContext(D_),s=Q.useContext(R_),r=()=>fz(n,e,i,s);return t?r():bp(r)};function hz(n,e,t,i){const s={},r=i(n,{});for(const x in r)s[x]=xx(r[x]);let{initial:o,animate:u}=n;const h=U_(n),p=dD(n);e&&p&&!h&&n.inherit!==!1&&(o===void 0&&(o=e.initial),u===void 0&&(u=e.animate));let m=t?t.initial===!1:!1;m=m||o===!1;const y=m?u:o;if(y&&typeof y!="boolean"&&!N_(y)){const x=Array.isArray(y)?y:[y];for(let _=0;_<x.length;_++){const M=b1(n,x[_]);if(M){const{transitionEnd:C,transition:E,...S}=M;for(const w in S){let B=S[w];if(Array.isArray(B)){const D=m?B.length-1:0;B=B[D]}B!==null&&(s[w]=B)}for(const w in C)s[w]=C[w]}}}return s}function S1(n,e,t){var r;const{style:i}=n,s={};for(const o in i)(ps(i[o])||e.style&&ps(e.style[o])||yD(o,n)||((r=t==null?void 0:t.getValue(o))==null?void 0:r.liveStyle)!==void 0)&&(s[o]=i[o]);return s}const dz={useVisualState:bD({scrapeMotionValuesFromProps:S1,createRenderState:_1})};function SD(n,e,t){const i=S1(n,e,t);for(const s in n)if(ps(n[s])||ps(e[s])){const r=Mp.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;i[r]=n[s]}return i}const pz={useVisualState:bD({scrapeMotionValuesFromProps:SD,createRenderState:_D})};function mz(n,e){return function(i,{forwardMotionProps:s}={forwardMotionProps:!1}){const o={...A1(i)?pz:dz,preloadedFeatures:n,useRender:uz(s),createVisualElement:e,Component:i};return WF(o)}}function Jg(n,e,t){const i=n.getProps();return b1(i,e,t!==void 0?t:i.custom,n)}const tM=n=>Array.isArray(n);function gz(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,yo(t))}function yz(n){return tM(n)?n[n.length-1]||0:n}function vz(n,e){const t=Jg(n,e);let{transitionEnd:i={},transition:s={},...r}=t||{};r={...r,...i};for(const o in r){const u=yz(r[o]);gz(n,o,u)}}function xz(n){return!!(ps(n)&&n.add)}function nM(n,e){const t=n.getValue("willChange");if(xz(t))return t.add(e);if(!t&&lc.WillChange){const i=new lc.WillChange("auto");n.addValue("willChange",i),i.add(e)}}function MD(n){return n.props[pD]}const _z=n=>n!==null;function Az(n,{repeat:e,repeatType:t="loop"},i){const s=n.filter(_z),r=e&&t!=="loop"&&e%2===1?0:s.length-1;return s[r]}const bz={type:"spring",stiffness:500,damping:25,restSpeed:10},Sz=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),Mz={type:"keyframes",duration:.8},Ez={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Tz=(n,{keyframes:e})=>e.length>2?Mz:Ep.has(n)?n.startsWith("scale")?Sz(e[1]):bz:Ez;function Cz({when:n,delay:e,delayChildren:t,staggerChildren:i,staggerDirection:s,repeat:r,repeatType:o,repeatDelay:u,from:h,elapsed:p,...m}){return!!Object.keys(m).length}const M1=(n,e,t,i={},s,r)=>o=>{const u=f1(i,n)||{},h=u.delay||i.delay||0;let{elapsed:p=0}=i;p=p-ll(h);const m={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...u,delay:-p,onUpdate:x=>{e.set(x),u.onUpdate&&u.onUpdate(x)},onComplete:()=>{o(),u.onComplete&&u.onComplete()},name:n,motionValue:e,element:r?void 0:s};Cz(u)||Object.assign(m,Tz(n,m)),m.duration&&(m.duration=ll(m.duration)),m.repeatDelay&&(m.repeatDelay=ll(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let y=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(m.duration=0,m.delay===0&&(y=!0)),(lc.instantAnimations||lc.skipAnimations)&&(y=!0,m.duration=0,m.delay=0),m.allowFlatten=!u.type&&!u.ease,y&&!r&&e.get()!==void 0){const x=Az(m.keyframes,u);if(x!==void 0){Xn.update(()=>{m.onUpdate(x),m.onComplete()});return}}return u.isSync?new w_(m):new KI(m)};function Rz({protectedKeys:n,needsAnimating:e},t){const i=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,i}function ED(n,e,{delay:t=0,transitionOverride:i,type:s}={}){let{transition:r=n.getDefaultTransition(),transitionEnd:o,...u}=e;i&&(r=i);const h=[],p=s&&n.animationState&&n.animationState.getState()[s];for(const m in u){const y=n.getValue(m,n.latestValues[m]??null),x=u[m];if(x===void 0||p&&Rz(p,m))continue;const _={delay:t,...f1(r||{},m)},M=y.get();if(M!==void 0&&!y.isAnimating&&!Array.isArray(x)&&x===M&&!_.velocity)continue;let C=!1;if(window.MotionHandoffAnimation){const S=MD(n);if(S){const w=window.MotionHandoffAnimation(S,m,Xn);w!==null&&(_.startTime=w,C=!0)}}nM(n,m),y.start(M1(m,y,x,n.shouldReduceMotion&&ZB.has(m)?{type:!1}:_,n,C));const E=y.animation;E&&h.push(E)}return o&&Promise.all(h).then(()=>{Xn.update(()=>{o&&vz(n,o)})}),h}function iM(n,e,t={}){var h;const i=Jg(n,e,t.type==="exit"?(h=n.presenceContext)==null?void 0:h.custom:void 0);let{transition:s=n.getDefaultTransition()||{}}=i||{};t.transitionOverride&&(s=t.transitionOverride);const r=i?()=>Promise.all(ED(n,i,t)):()=>Promise.resolve(),o=n.variantChildren&&n.variantChildren.size?(p=0)=>{const{delayChildren:m=0,staggerChildren:y,staggerDirection:x}=s;return wz(n,e,m+p,y,x,t)}:()=>Promise.resolve(),{when:u}=s;if(u){const[p,m]=u==="beforeChildren"?[r,o]:[o,r];return p().then(()=>m())}else return Promise.all([r(),o(t.delay)])}function wz(n,e,t=0,i=0,s=1,r){const o=[],u=(n.variantChildren.size-1)*i,h=s===1?(p=0)=>p*i:(p=0)=>u-p*i;return Array.from(n.variantChildren).sort(Bz).forEach((p,m)=>{p.notify("AnimationStart",e),o.push(iM(p,e,{...r,delay:t+h(m)}).then(()=>p.notify("AnimationComplete",e)))}),Promise.all(o)}function Bz(n,e){return n.sortNodePosition(e)}function Dz(n,e,t={}){n.notify("AnimationStart",e);let i;if(Array.isArray(e)){const s=e.map(r=>iM(n,r,t));i=Promise.all(s)}else if(typeof e=="string")i=iM(n,e,t);else{const s=typeof e=="function"?Jg(n,e,t.custom):e;i=Promise.all(ED(n,s,t))}return i.then(()=>{n.notify("AnimationComplete",e)})}function TD(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let i=0;i<t;i++)if(e[i]!==n[i])return!1;return!0}const Nz=y1.length;function CD(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?CD(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<Nz;t++){const i=y1[t],s=n.props[i];(qg(s)||s===!1)&&(e[i]=s)}return e}const Uz=[...g1].reverse(),Lz=g1.length;function Oz(n){return e=>Promise.all(e.map(({animation:t,options:i})=>Dz(n,t,i)))}function Pz(n){let e=Oz(n),t=JT(),i=!0;const s=h=>(p,m)=>{var x;const y=Jg(n,m,h==="exit"?(x=n.presenceContext)==null?void 0:x.custom:void 0);if(y){const{transition:_,transitionEnd:M,...C}=y;p={...p,...C,...M}}return p};function r(h){e=h(n)}function o(h){const{props:p}=n,m=CD(n.parent)||{},y=[],x=new Set;let _={},M=1/0;for(let E=0;E<Lz;E++){const S=Uz[E],w=t[S],B=p[S]!==void 0?p[S]:m[S],D=qg(B),P=S===h?w.isActive:null;P===!1&&(M=E);let I=B===m[S]&&B!==p[S]&&D;if(I&&i&&n.manuallyAnimateOnMount&&(I=!1),w.protectedKeys={..._},!w.isActive&&P===null||!B&&!w.prevProp||N_(B)||typeof B=="boolean")continue;const G=Iz(w.prevProp,B);let z=G||S===h&&w.isActive&&!I&&D||E>M&&D,U=!1;const O=Array.isArray(B)?B:[B];let W=O.reduce(s(S),{});P===!1&&(W={});const{prevResolvedValues:ce={}}=w,se={...ce,...W},me=q=>{z=!0,x.has(q)&&(U=!0,x.delete(q)),w.needsAnimating[q]=!0;const Y=n.getValue(q);Y&&(Y.liveStyle=!1)};for(const q in se){const Y=W[q],ue=ce[q];if(_.hasOwnProperty(q))continue;let X=!1;tM(Y)&&tM(ue)?X=!TD(Y,ue):X=Y!==ue,X?Y!=null?me(q):x.add(q):Y!==void 0&&x.has(q)?me(q):w.protectedKeys[q]=!0}w.prevProp=B,w.prevResolvedValues=W,w.isActive&&(_={..._,...W}),i&&n.blockInitialAnimation&&(z=!1),z&&(!(I&&G)||U)&&y.push(...O.map(q=>({animation:q,options:{type:S}})))}if(x.size){const E={};if(typeof p.initial!="boolean"){const S=Jg(n,Array.isArray(p.initial)?p.initial[0]:p.initial);S&&S.transition&&(E.transition=S.transition)}x.forEach(S=>{const w=n.getBaseTarget(S),B=n.getValue(S);B&&(B.liveStyle=!0),E[S]=w??null}),y.push({animation:E})}let C=!!y.length;return i&&(p.initial===!1||p.initial===p.animate)&&!n.manuallyAnimateOnMount&&(C=!1),i=!1,C?e(y):Promise.resolve()}function u(h,p){var y;if(t[h].isActive===p)return Promise.resolve();(y=n.variantChildren)==null||y.forEach(x=>{var _;return(_=x.animationState)==null?void 0:_.setActive(h,p)}),t[h].isActive=p;const m=o(h);for(const x in t)t[x].protectedKeys={};return m}return{animateChanges:o,setActive:u,setAnimateFunction:r,getState:()=>t,reset:()=>{t=JT(),i=!0}}}function Iz(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!TD(e,n):!1}function Ef(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function JT(){return{animate:Ef(!0),whileInView:Ef(),whileHover:Ef(),whileTap:Ef(),whileDrag:Ef(),whileFocus:Ef(),exit:Ef()}}class Cu{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Fz extends Cu{constructor(e){super(e),e.animationState||(e.animationState=Pz(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();N_(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let zz=0;class Hz extends Cu{constructor(){super(...arguments),this.id=zz++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const s=this.node.animationState.setActive("exit",!e);t&&!e&&s.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Gz={animation:{Feature:Fz},exit:{Feature:Hz}};function Kg(n,e,t,i={passive:!0}){return n.addEventListener(e,t,i),()=>n.removeEventListener(e,t)}function y0(n){return{point:{x:n.pageX,y:n.pageY}}}const Vz=n=>e=>p1(e)&&n(e,y0(e));function Bg(n,e,t,i){return Kg(n,e,Vz(t),i)}function RD({top:n,left:e,right:t,bottom:i}){return{x:{min:e,max:t},y:{min:n,max:i}}}function kz({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function Xz(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),i=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:i.y,right:i.x}}const wD=1e-4,jz=1-wD,Yz=1+wD,BD=.01,qz=0-BD,Wz=0+BD;function ma(n){return n.max-n.min}function Jz(n,e,t){return Math.abs(n-e)<=t}function KT(n,e,t,i=.5){n.origin=i,n.originPoint=di(e.min,e.max,n.origin),n.scale=ma(t)/ma(e),n.translate=di(t.min,t.max,n.origin)-n.originPoint,(n.scale>=jz&&n.scale<=Yz||isNaN(n.scale))&&(n.scale=1),(n.translate>=qz&&n.translate<=Wz||isNaN(n.translate))&&(n.translate=0)}function Dg(n,e,t,i){KT(n.x,e.x,t.x,i?i.originX:void 0),KT(n.y,e.y,t.y,i?i.originY:void 0)}function QT(n,e,t){n.min=t.min+e.min,n.max=n.min+ma(e)}function Kz(n,e,t){QT(n.x,e.x,t.x),QT(n.y,e.y,t.y)}function ZT(n,e,t){n.min=e.min-t.min,n.max=n.min+ma(e)}function Ng(n,e,t){ZT(n.x,e.x,t.x),ZT(n.y,e.y,t.y)}const $T=()=>({translate:0,scale:1,origin:0,originPoint:0}),qd=()=>({x:$T(),y:$T()}),eC=()=>({min:0,max:0}),Di=()=>({x:eC(),y:eC()});function Br(n){return[n("x"),n("y")]}function hb(n){return n===void 0||n===1}function sM({scale:n,scaleX:e,scaleY:t}){return!hb(n)||!hb(e)||!hb(t)}function kf(n){return sM(n)||DD(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function DD(n){return tC(n.x)||tC(n.y)}function tC(n){return n&&n!=="0%"}function Dx(n,e,t){const i=n-t,s=e*i;return t+s}function nC(n,e,t,i,s){return s!==void 0&&(n=Dx(n,s,i)),Dx(n,t,i)+e}function aM(n,e=0,t=1,i,s){n.min=nC(n.min,e,t,i,s),n.max=nC(n.max,e,t,i,s)}function ND(n,{x:e,y:t}){aM(n.x,e.translate,e.scale,e.originPoint),aM(n.y,t.translate,t.scale,t.originPoint)}const iC=.999999999999,sC=1.0000000000001;function Qz(n,e,t,i=!1){const s=t.length;if(!s)return;e.x=e.y=1;let r,o;for(let u=0;u<s;u++){r=t[u],o=r.projectionDelta;const{visualElement:h}=r.options;h&&h.props.style&&h.props.style.display==="contents"||(i&&r.options.layoutScroll&&r.scroll&&r!==r.root&&Jd(n,{x:-r.scroll.offset.x,y:-r.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,ND(n,o)),i&&kf(r.latestValues)&&Jd(n,r.latestValues))}e.x<sC&&e.x>iC&&(e.x=1),e.y<sC&&e.y>iC&&(e.y=1)}function Wd(n,e){n.min=n.min+e,n.max=n.max+e}function aC(n,e,t,i,s=.5){const r=di(n.min,n.max,s);aM(n,e,t,r,i)}function Jd(n,e){aC(n.x,e.x,e.scaleX,e.scale,e.originX),aC(n.y,e.y,e.scaleY,e.scale,e.originY)}function UD(n,e){return RD(Xz(n.getBoundingClientRect(),e))}function Zz(n,e,t){const i=UD(n,t),{scroll:s}=e;return s&&(Wd(i.x,s.offset.x),Wd(i.y,s.offset.y)),i}const LD=({current:n})=>n?n.ownerDocument.defaultView:null,rC=(n,e)=>Math.abs(n-e);function $z(n,e){const t=rC(n.x,e.x),i=rC(n.y,e.y);return Math.sqrt(t**2+i**2)}class OD{constructor(e,t,{transformPagePoint:i,contextWindow:s,dragSnapToOrigin:r=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=pb(this.lastMoveEventInfo,this.history),x=this.startEvent!==null,_=$z(y.offset,{x:0,y:0})>=3;if(!x&&!_)return;const{point:M}=y,{timestamp:C}=ds;this.history.push({...M,timestamp:C});const{onStart:E,onMove:S}=this.handlers;x||(E&&E(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),S&&S(this.lastMoveEvent,y)},this.handlePointerMove=(y,x)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=db(x,this.transformPagePoint),Xn.update(this.updatePoint,!0)},this.handlePointerUp=(y,x)=>{this.end();const{onEnd:_,onSessionEnd:M,resumeAnimation:C}=this.handlers;if(this.dragSnapToOrigin&&C&&C(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=pb(y.type==="pointercancel"?this.lastMoveEventInfo:db(x,this.transformPagePoint),this.history);this.startEvent&&_&&_(y,E),M&&M(y,E)},!p1(e))return;this.dragSnapToOrigin=r,this.handlers=t,this.transformPagePoint=i,this.contextWindow=s||window;const o=y0(e),u=db(o,this.transformPagePoint),{point:h}=u,{timestamp:p}=ds;this.history=[{...h,timestamp:p}];const{onSessionStart:m}=t;m&&m(e,pb(u,this.history)),this.removeListeners=d0(Bg(this.contextWindow,"pointermove",this.handlePointerMove),Bg(this.contextWindow,"pointerup",this.handlePointerUp),Bg(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),_o(this.updatePoint)}}function db(n,e){return e?{point:e(n.point)}:n}function oC(n,e){return{x:n.x-e.x,y:n.y-e.y}}function pb({point:n},e){return{point:n,delta:oC(n,PD(e)),offset:oC(n,eH(e)),velocity:tH(e,.1)}}function eH(n){return n[0]}function PD(n){return n[n.length-1]}function tH(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,i=null;const s=PD(n);for(;t>=0&&(i=n[t],!(s.timestamp-i.timestamp>ll(e)));)t--;if(!i)return{x:0,y:0};const r=cl(s.timestamp-i.timestamp);if(r===0)return{x:0,y:0};const o={x:(s.x-i.x)/r,y:(s.y-i.y)/r};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function nH(n,{min:e,max:t},i){return e!==void 0&&n<e?n=i?di(e,n,i.min):Math.max(n,e):t!==void 0&&n>t&&(n=i?di(t,n,i.max):Math.min(n,t)),n}function lC(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function iH(n,{top:e,left:t,bottom:i,right:s}){return{x:lC(n.x,t,s),y:lC(n.y,e,i)}}function cC(n,e){let t=e.min-n.min,i=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,i]=[i,t]),{min:t,max:i}}function sH(n,e){return{x:cC(n.x,e.x),y:cC(n.y,e.y)}}function aH(n,e){let t=.5;const i=ma(n),s=ma(e);return s>i?t=ap(e.min,e.max-i,n.min):i>s&&(t=ap(n.min,n.max-s,e.min)),dl(0,1,t)}function rH(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const rM=.35;function oH(n=rM){return n===!1?n=0:n===!0&&(n=rM),{x:uC(n,"left","right"),y:uC(n,"top","bottom")}}function uC(n,e,t){return{min:fC(n,e),max:fC(n,t)}}function fC(n,e){return typeof n=="number"?n:n[e]||0}const lH=new WeakMap;class cH{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Di(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=m=>{const{dragSnapToOrigin:y}=this.getProps();y?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(y0(m).point)},r=(m,y)=>{const{drag:x,dragPropagation:_,onDragStart:M}=this.getProps();if(x&&!_&&(this.openDragLock&&this.openDragLock(),this.openDragLock=fF(x),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Br(E=>{let S=this.getAxisMotionValue(E).get()||0;if(ul.test(S)){const{projection:w}=this.visualElement;if(w&&w.layout){const B=w.layout.layoutBox[E];B&&(S=ma(B)*(parseFloat(S)/100))}}this.originPoint[E]=S}),M&&Xn.postRender(()=>M(m,y)),nM(this.visualElement,"transform");const{animationState:C}=this.visualElement;C&&C.setActive("whileDrag",!0)},o=(m,y)=>{const{dragPropagation:x,dragDirectionLock:_,onDirectionLock:M,onDrag:C}=this.getProps();if(!x&&!this.openDragLock)return;const{offset:E}=y;if(_&&this.currentDirection===null){this.currentDirection=uH(E),this.currentDirection!==null&&M&&M(this.currentDirection);return}this.updateAxis("x",y.point,E),this.updateAxis("y",y.point,E),this.visualElement.render(),C&&C(m,y)},u=(m,y)=>this.stop(m,y),h=()=>Br(m=>{var y;return this.getAnimationState(m)==="paused"&&((y=this.getAxisMotionValue(m).animation)==null?void 0:y.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new OD(e,{onSessionStart:s,onStart:r,onMove:o,onSessionEnd:u,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,contextWindow:LD(this.visualElement)})}stop(e,t){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:s}=t;this.startAnimation(s);const{onDragEnd:r}=this.getProps();r&&Xn.postRender(()=>r(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,i){const{drag:s}=this.getProps();if(!i||!hv(e,s,this.currentDirection))return;const r=this.getAxisMotionValue(e);let o=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(o=nH(o,this.constraints[e],this.elastic[e])),r.set(o)}resolveConstraints(){var r;const{dragConstraints:e,dragElastic:t}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(r=this.visualElement.projection)==null?void 0:r.layout,s=this.constraints;e&&Yd(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=iH(i.layoutBox,e):this.constraints=!1,this.elastic=oH(t),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Br(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=rH(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Yd(e))return!1;const i=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const r=Zz(i,s.root,this.visualElement.getTransformPagePoint());let o=sH(s.layout.layoutBox,r);if(t){const u=t(kz(o));this.hasMutatedConstraints=!!u,u&&(o=RD(u))}return o}startAnimation(e){const{drag:t,dragMomentum:i,dragElastic:s,dragTransition:r,dragSnapToOrigin:o,onDragTransitionEnd:u}=this.getProps(),h=this.constraints||{},p=Br(m=>{if(!hv(m,t,this.currentDirection))return;let y=h&&h[m]||{};o&&(y={min:0,max:0});const x=s?200:1e6,_=s?40:1e7,M={type:"inertia",velocity:i?e[m]:0,bounceStiffness:x,bounceDamping:_,timeConstant:750,restDelta:1,restSpeed:10,...r,...y};return this.startAxisValueAnimation(m,M)});return Promise.all(p).then(u)}startAxisValueAnimation(e,t){const i=this.getAxisMotionValue(e);return nM(this.visualElement,e),i.start(M1(e,i,0,t,this.visualElement,!1))}stopAnimation(){Br(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Br(e=>{var t;return(t=this.getAxisMotionValue(e).animation)==null?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)==null?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),s=i[t];return s||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){Br(t=>{const{drag:i}=this.getProps();if(!hv(t,i,this.currentDirection))return;const{projection:s}=this.visualElement,r=this.getAxisMotionValue(t);if(s&&s.layout){const{min:o,max:u}=s.layout.layoutBox[t];r.set(e[t]-di(o,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:i}=this.visualElement;if(!Yd(t)||!i||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Br(o=>{const u=this.getAxisMotionValue(o);if(u&&this.constraints!==!1){const h=u.get();s[o]=aH({min:h,max:h},this.constraints[o])}});const{transformTemplate:r}=this.visualElement.getProps();this.visualElement.current.style.transform=r?r({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Br(o=>{if(!hv(o,e,null))return;const u=this.getAxisMotionValue(o),{min:h,max:p}=this.constraints[o];u.set(di(h,p,s[o]))})}addListeners(){if(!this.visualElement.current)return;lH.set(this.visualElement,this);const e=this.visualElement.current,t=Bg(e,"pointerdown",h=>{const{drag:p,dragListener:m=!0}=this.getProps();p&&m&&this.start(h)}),i=()=>{const{dragConstraints:h}=this.getProps();Yd(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,r=s.addEventListener("measure",i);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Xn.read(i);const o=Kg(window,"resize",()=>this.scalePositionWithinConstraints()),u=s.addEventListener("didUpdate",({delta:h,hasLayoutChanged:p})=>{this.isDragging&&p&&(Br(m=>{const y=this.getAxisMotionValue(m);y&&(this.originPoint[m]+=h[m].translate,y.set(y.get()+h[m].translate))}),this.visualElement.render())});return()=>{o(),t(),r(),u&&u()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:i=!1,dragPropagation:s=!1,dragConstraints:r=!1,dragElastic:o=rM,dragMomentum:u=!0}=e;return{...e,drag:t,dragDirectionLock:i,dragPropagation:s,dragConstraints:r,dragElastic:o,dragMomentum:u}}}function hv(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function uH(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class fH extends Cu{constructor(e){super(e),this.removeGroupControls=Oa,this.removeListeners=Oa,this.controls=new cH(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Oa}unmount(){this.removeGroupControls(),this.removeListeners()}}const hC=n=>(e,t)=>{n&&Xn.postRender(()=>n(e,t))};class hH extends Cu{constructor(){super(...arguments),this.removePointerDownListener=Oa}onPointerDown(e){this.session=new OD(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:LD(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:i,onPanEnd:s}=this.node.getProps();return{onSessionStart:hC(e),onStart:hC(t),onMove:i,onEnd:(r,o)=>{delete this.session,s&&Xn.postRender(()=>s(r,o))}}}mount(){this.removePointerDownListener=Bg(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const _x={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function dC(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const $m={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(Xt.test(n))n=parseFloat(n);else return n;const t=dC(n,e.target.x),i=dC(n,e.target.y);return`${t}% ${i}%`}},dH={correct:(n,{treeScale:e,projectionDelta:t})=>{const i=n,s=bu.parse(n);if(s.length>5)return i;const r=bu.createTransformer(n),o=typeof s[0]!="number"?1:0,u=t.x.scale*e.x,h=t.y.scale*e.y;s[0+o]/=u,s[1+o]/=h;const p=di(u,h,.5);return typeof s[2+o]=="number"&&(s[2+o]/=p),typeof s[3+o]=="number"&&(s[3+o]/=p),r(s)}};class pH extends Q.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i,layoutId:s}=this.props,{projection:r}=e;ZF(mH),r&&(t.group&&t.group.add(r),i&&i.register&&s&&i.register(r),r.root.didUpdate(),r.addEventListener("animationComplete",()=>{this.safeToRemove()}),r.setOptions({...r.options,onExitComplete:()=>this.safeToRemove()})),_x.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:i,drag:s,isPresent:r}=this.props,{projection:o}=i;return o&&(o.isPresent=r,s||e.layoutDependency!==t||t===void 0||e.isPresent!==r?o.willUpdate():this.safeToRemove(),e.isPresent!==r&&(r?o.promote():o.relegate()||Xn.postRender(()=>{const u=o.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),d1.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(s),i&&i.deregister&&i.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function ID(n){const[e,t]=uD(),i=Q.useContext(jM);return J.jsx(pH,{...n,layoutGroup:i,switchLayoutGroup:Q.useContext(mD),isPresent:e,safeToRemove:t})}const mH={borderRadius:{...$m,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:$m,borderTopRightRadius:$m,borderBottomLeftRadius:$m,borderBottomRightRadius:$m,boxShadow:dH};function gH(n,e,t){const i=ps(n)?n:yo(n);return i.start(M1("",i,e,t)),i.animation}const yH=(n,e)=>n.depth-e.depth;class vH{constructor(){this.children=[],this.isDirty=!1}add(e){qM(this.children,e),this.isDirty=!0}remove(e){WM(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(yH),this.isDirty=!1,this.children.forEach(e)}}function xH(n,e){const t=Ua.now(),i=({timestamp:s})=>{const r=s-t;r>=e&&(_o(i),n(r-e))};return Xn.setup(i,!0),()=>_o(i)}const FD=["TopLeft","TopRight","BottomLeft","BottomRight"],_H=FD.length,pC=n=>typeof n=="string"?parseFloat(n):n,mC=n=>typeof n=="number"||Xt.test(n);function AH(n,e,t,i,s,r){s?(n.opacity=di(0,t.opacity??1,bH(i)),n.opacityExit=di(e.opacity??1,0,SH(i))):r&&(n.opacity=di(e.opacity??1,t.opacity??1,i));for(let o=0;o<_H;o++){const u=`border${FD[o]}Radius`;let h=gC(e,u),p=gC(t,u);if(h===void 0&&p===void 0)continue;h||(h=0),p||(p=0),h===0||p===0||mC(h)===mC(p)?(n[u]=Math.max(di(pC(h),pC(p),i),0),(ul.test(p)||ul.test(h))&&(n[u]+="%")):n[u]=p}(e.rotate||t.rotate)&&(n.rotate=di(e.rotate||0,t.rotate||0,i))}function gC(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const bH=zD(0,.5,CB),SH=zD(.5,.95,Oa);function zD(n,e,t){return i=>i<n?0:i>e?1:t(ap(n,e,i))}function yC(n,e){n.min=e.min,n.max=e.max}function Cr(n,e){yC(n.x,e.x),yC(n.y,e.y)}function vC(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function xC(n,e,t,i,s){return n-=e,n=Dx(n,1/t,i),s!==void 0&&(n=Dx(n,1/s,i)),n}function MH(n,e=0,t=1,i=.5,s,r=n,o=n){if(ul.test(e)&&(e=parseFloat(e),e=di(o.min,o.max,e/100)-o.min),typeof e!="number")return;let u=di(r.min,r.max,i);n===r&&(u-=e),n.min=xC(n.min,e,t,u,s),n.max=xC(n.max,e,t,u,s)}function _C(n,e,[t,i,s],r,o){MH(n,e[t],e[i],e[s],e.scale,r,o)}const EH=["x","scaleX","originX"],TH=["y","scaleY","originY"];function AC(n,e,t,i){_C(n.x,e,EH,t?t.x:void 0,i?i.x:void 0),_C(n.y,e,TH,t?t.y:void 0,i?i.y:void 0)}function bC(n){return n.translate===0&&n.scale===1}function HD(n){return bC(n.x)&&bC(n.y)}function SC(n,e){return n.min===e.min&&n.max===e.max}function CH(n,e){return SC(n.x,e.x)&&SC(n.y,e.y)}function MC(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function GD(n,e){return MC(n.x,e.x)&&MC(n.y,e.y)}function EC(n){return ma(n.x)/ma(n.y)}function TC(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class RH{constructor(){this.members=[]}add(e){qM(this.members,e),e.scheduleRender()}remove(e){if(WM(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(s=>e===s);if(t===0)return!1;let i;for(let s=t;s>=0;s--){const r=this.members[s];if(r.isPresent!==!1){i=r;break}}return i?(this.promote(i),!0):!1}promote(e,t){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,t&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:i}=e;t.onExitComplete&&t.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function wH(n,e,t){let i="";const s=n.x.translate/e.x,r=n.y.translate/e.y,o=(t==null?void 0:t.z)||0;if((s||r||o)&&(i=`translate3d(${s}px, ${r}px, ${o}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:p,rotate:m,rotateX:y,rotateY:x,skewX:_,skewY:M}=t;p&&(i=`perspective(${p}px) ${i}`),m&&(i+=`rotate(${m}deg) `),y&&(i+=`rotateX(${y}deg) `),x&&(i+=`rotateY(${x}deg) `),_&&(i+=`skewX(${_}deg) `),M&&(i+=`skewY(${M}deg) `)}const u=n.x.scale*e.x,h=n.y.scale*e.y;return(u!==1||h!==1)&&(i+=`scale(${u}, ${h})`),i||"none"}const mb=["","X","Y","Z"],BH={visibility:"hidden"},DH=1e3;let NH=0;function gb(n,e,t,i){const{latestValues:s}=e;s[n]&&(t[n]=s[n],e.setStaticValue(n,0),i&&(i[n]=0))}function VD(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=MD(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:s,layoutId:r}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",Xn,!(s||r))}const{parent:i}=n;i&&!i.hasCheckedOptimisedAppear&&VD(i)}function kD({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:i,resetTransform:s}){return class{constructor(o={},u=e==null?void 0:e()){this.id=NH++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(OH),this.nodes.forEach(HH),this.nodes.forEach(GH),this.nodes.forEach(PH)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new vH)}addEventListener(o,u){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new QM),this.eventHandlers.get(o).add(u)}notifyListeners(o,...u){const h=this.eventHandlers.get(o);h&&h.notify(...u)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=m1(o)&&!TF(o),this.instance=o;const{layoutId:u,layout:h,visualElement:p}=this.options;if(p&&!p.current&&p.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(h||u)&&(this.isLayoutDirty=!0),n){let m;const y=()=>this.root.updateBlockedByResize=!1;n(o,()=>{this.root.updateBlockedByResize=!0,m&&m(),m=xH(y,250),_x.hasAnimatedSinceResize&&(_x.hasAnimatedSinceResize=!1,this.nodes.forEach(RC))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&p&&(u||h)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:y,hasRelativeLayoutChanged:x,layout:_})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const M=this.options.transition||p.getDefaultTransition()||YH,{onLayoutAnimationStart:C,onLayoutAnimationComplete:E}=p.getProps(),S=!this.targetLayout||!GD(this.targetLayout,_),w=!y&&x;if(this.options.layoutRoot||this.resumeFrom||w||y&&(S||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const B={...f1(M,"layout"),onPlay:C,onComplete:E};(p.shouldReduceMotion||this.options.layoutRoot)&&(B.delay=0,B.type=!1),this.startAnimation(B),this.setAnimationOrigin(m,w)}else y||RC(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=_})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),_o(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(VH),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&VD(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const y=this.path[m];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:u,layout:h}=this.options;if(u===void 0&&!h)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(CC);return}this.isUpdating||this.nodes.forEach(FH),this.isUpdating=!1,this.nodes.forEach(zH),this.nodes.forEach(UH),this.nodes.forEach(LH),this.clearAllSnapshots();const u=Ua.now();ds.delta=dl(0,1e3/60,u-ds.timestamp),ds.timestamp=u,ds.isProcessing=!0,rb.update.process(ds),rb.preRender.process(ds),rb.render.process(ds),ds.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,d1.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(IH),this.sharedNodes.forEach(kH)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Xn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Xn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ma(this.snapshot.measuredBox.x)&&!ma(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Di(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(u=!1),u&&this.instance){const h=i(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:h,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!HD(this.projectionDelta),h=this.getTransformTemplate(),p=h?h(this.latestValues,""):void 0,m=p!==this.prevTransformTemplateValue;o&&this.instance&&(u||kf(this.latestValues)||m)&&(s(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const u=this.measurePageBox();let h=this.removeElementScroll(u);return o&&(h=this.removeTransform(h)),qH(h),{animationId:this.root.animationId,measuredBox:u,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){var p;const{visualElement:o}=this.options;if(!o)return Di();const u=o.measureViewportBox();if(!(((p=this.scroll)==null?void 0:p.wasRoot)||this.path.some(WH))){const{scroll:m}=this.root;m&&(Wd(u.x,m.offset.x),Wd(u.y,m.offset.y))}return u}removeElementScroll(o){var h;const u=Di();if(Cr(u,o),(h=this.scroll)!=null&&h.wasRoot)return u;for(let p=0;p<this.path.length;p++){const m=this.path[p],{scroll:y,options:x}=m;m!==this.root&&y&&x.layoutScroll&&(y.wasRoot&&Cr(u,o),Wd(u.x,y.offset.x),Wd(u.y,y.offset.y))}return u}applyTransform(o,u=!1){const h=Di();Cr(h,o);for(let p=0;p<this.path.length;p++){const m=this.path[p];!u&&m.options.layoutScroll&&m.scroll&&m!==m.root&&Jd(h,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),kf(m.latestValues)&&Jd(h,m.latestValues)}return kf(this.latestValues)&&Jd(h,this.latestValues),h}removeTransform(o){const u=Di();Cr(u,o);for(let h=0;h<this.path.length;h++){const p=this.path[h];if(!p.instance||!kf(p.latestValues))continue;sM(p.latestValues)&&p.updateSnapshot();const m=Di(),y=p.measurePageBox();Cr(m,y),AC(u,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,m)}return kf(this.latestValues)&&AC(u,this.latestValues),u}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ds.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var x;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==u;if(!(o||h&&this.isSharedProjectionDirty||this.isProjectionDirty||(x=this.parent)!=null&&x.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:y}=this.options;if(!(!this.layout||!(m||y))){if(this.resolvedRelativeTargetAt=ds.timestamp,!this.targetDelta&&!this.relativeTarget){const _=this.getClosestProjectingParent();_&&_.layout&&this.animationProgress!==1?(this.relativeParent=_,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Di(),this.relativeTargetOrigin=Di(),Ng(this.relativeTargetOrigin,this.layout.layoutBox,_.layout.layoutBox),Cr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Di(),this.targetWithTransforms=Di()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Kz(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Cr(this.target,this.layout.layoutBox),ND(this.target,this.targetDelta)):Cr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const _=this.getClosestProjectingParent();_&&!!_.resumingFrom==!!this.resumingFrom&&!_.options.layoutScroll&&_.target&&this.animationProgress!==1?(this.relativeParent=_,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Di(),this.relativeTargetOrigin=Di(),Ng(this.relativeTargetOrigin,this.target,_.target),Cr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||sM(this.parent.latestValues)||DD(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var M;const o=this.getLead(),u=!!this.resumingFrom||this!==o;let h=!0;if((this.isProjectionDirty||(M=this.parent)!=null&&M.isProjectionDirty)&&(h=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===ds.timestamp&&(h=!1),h)return;const{layout:p,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||m))return;Cr(this.layoutCorrected,this.layout.layoutBox);const y=this.treeScale.x,x=this.treeScale.y;Qz(this.layoutCorrected,this.treeScale,this.path,u),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Di());const{target:_}=o;if(!_){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(vC(this.prevProjectionDelta.x,this.projectionDelta.x),vC(this.prevProjectionDelta.y,this.projectionDelta.y)),Dg(this.projectionDelta,this.layoutCorrected,_,this.latestValues),(this.treeScale.x!==y||this.treeScale.y!==x||!TC(this.projectionDelta.x,this.prevProjectionDelta.x)||!TC(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",_))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var u;if((u=this.options.visualElement)==null||u.scheduleRender(),o){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=qd(),this.projectionDelta=qd(),this.projectionDeltaWithTransform=qd()}setAnimationOrigin(o,u=!1){const h=this.snapshot,p=h?h.latestValues:{},m={...this.latestValues},y=qd();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const x=Di(),_=h?h.source:void 0,M=this.layout?this.layout.source:void 0,C=_!==M,E=this.getStack(),S=!E||E.members.length<=1,w=!!(C&&!S&&this.options.crossfade===!0&&!this.path.some(jH));this.animationProgress=0;let B;this.mixTargetDelta=D=>{const P=D/1e3;wC(y.x,o.x,P),wC(y.y,o.y,P),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ng(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),XH(this.relativeTarget,this.relativeTargetOrigin,x,P),B&&CH(this.relativeTarget,B)&&(this.isProjectionDirty=!1),B||(B=Di()),Cr(B,this.relativeTarget)),C&&(this.animationValues=m,AH(m,p,this.latestValues,P,w,S)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=P},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var u,h,p;this.notifyListeners("animationStart"),(u=this.currentAnimation)==null||u.stop(),(p=(h=this.resumingFrom)==null?void 0:h.currentAnimation)==null||p.stop(),this.pendingAnimation&&(_o(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Xn.update(()=>{_x.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=yo(0)),this.currentAnimation=gH(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:m=>{this.mixTargetDelta(m),o.onUpdate&&o.onUpdate(m)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(DH),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:u,target:h,layout:p,latestValues:m}=o;if(!(!u||!h||!p)){if(this!==o&&this.layout&&p&&XD(this.options.animationType,this.layout.layoutBox,p.layoutBox)){h=this.target||Di();const y=ma(this.layout.layoutBox.x);h.x.min=o.target.x.min,h.x.max=h.x.min+y;const x=ma(this.layout.layoutBox.y);h.y.min=o.target.y.min,h.y.max=h.y.min+x}Cr(u,h),Jd(u,m),Dg(this.projectionDeltaWithTransform,this.layoutCorrected,u,m)}}registerSharedNode(o,u){this.sharedNodes.has(o)||this.sharedNodes.set(o,new RH),this.sharedNodes.get(o).add(u);const p=u.options.initialPromotionConfig;u.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(u):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var u;const{layoutId:o}=this.options;return o?((u=this.getStack())==null?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:o}=this.options;return o?(u=this.getStack())==null?void 0:u.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:u,preserveFollowOpacity:h}={}){const p=this.getStack();p&&p.promote(this,h),o&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let u=!1;const{latestValues:h}=o;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(u=!0),!u)return;const p={};h.z&&gb("z",o,p,this.animationValues);for(let m=0;m<mb.length;m++)gb(`rotate${mb[m]}`,o,p,this.animationValues),gb(`skew${mb[m]}`,o,p,this.animationValues);o.render();for(const m in p)o.setStaticValue(m,p[m]),this.animationValues&&(this.animationValues[m]=p[m]);o.scheduleRender()}getProjectionStyles(o){if(!this.instance||this.isSVG)return;if(!this.isVisible)return BH;const u={visibility:""},h=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=xx(o==null?void 0:o.pointerEvents)||"",u.transform=h?h(this.latestValues,""):"none",u;const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){const _={};return this.options.layoutId&&(_.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,_.pointerEvents=xx(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!kf(this.latestValues)&&(_.transform=h?h({},""):"none",this.hasProjected=!1),_}const m=p.animationValues||p.latestValues;this.applyTransformsToTarget(),u.transform=wH(this.projectionDeltaWithTransform,this.treeScale,m),h&&(u.transform=h(m,u.transform));const{x:y,y:x}=this.projectionDelta;u.transformOrigin=`${y.origin*100}% ${x.origin*100}% 0`,p.animationValues?u.opacity=p===this?m.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:u.opacity=p===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const _ in Wg){if(m[_]===void 0)continue;const{correct:M,applyTo:C,isCSSVariable:E}=Wg[_],S=u.transform==="none"?m[_]:M(m[_],p);if(C){const w=C.length;for(let B=0;B<w;B++)u[C[B]]=S}else E?this.options.visualElement.renderState.vars[_]=S:u[_]=S}return this.options.layoutId&&(u.pointerEvents=p===this?xx(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var u;return(u=o.currentAnimation)==null?void 0:u.stop()}),this.root.nodes.forEach(CC),this.root.sharedNodes.clear()}}}function UH(n){n.updateLayout()}function LH(n){var t;const e=((t=n.resumeFrom)==null?void 0:t.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&e&&n.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:s}=n.layout,{animationType:r}=n.options,o=e.source!==n.layout.source;r==="size"?Br(y=>{const x=o?e.measuredBox[y]:e.layoutBox[y],_=ma(x);x.min=i[y].min,x.max=x.min+_}):XD(r,e.layoutBox,i)&&Br(y=>{const x=o?e.measuredBox[y]:e.layoutBox[y],_=ma(i[y]);x.max=x.min+_,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[y].max=n.relativeTarget[y].min+_)});const u=qd();Dg(u,i,e.layoutBox);const h=qd();o?Dg(h,n.applyTransform(s,!0),e.measuredBox):Dg(h,i,e.layoutBox);const p=!HD(u);let m=!1;if(!n.resumeFrom){const y=n.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:x,layout:_}=y;if(x&&_){const M=Di();Ng(M,e.layoutBox,x.layoutBox);const C=Di();Ng(C,i,_.layoutBox),GD(M,C)||(m=!0),y.options.layoutRoot&&(n.relativeTarget=C,n.relativeTargetOrigin=M,n.relativeParent=y)}}}n.notifyListeners("didUpdate",{layout:i,snapshot:e,delta:h,layoutDelta:u,hasLayoutChanged:p,hasRelativeLayoutChanged:m})}else if(n.isLead()){const{onExitComplete:i}=n.options;i&&i()}n.options.transition=void 0}function OH(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function PH(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function IH(n){n.clearSnapshot()}function CC(n){n.clearMeasurements()}function FH(n){n.isLayoutDirty=!1}function zH(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function RC(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function HH(n){n.resolveTargetDelta()}function GH(n){n.calcProjection()}function VH(n){n.resetSkewAndRotation()}function kH(n){n.removeLeadSnapshot()}function wC(n,e,t){n.translate=di(e.translate,0,t),n.scale=di(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function BC(n,e,t,i){n.min=di(e.min,t.min,i),n.max=di(e.max,t.max,i)}function XH(n,e,t,i){BC(n.x,e.x,t.x,i),BC(n.y,e.y,t.y,i)}function jH(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const YH={duration:.45,ease:[.4,0,.1,1]},DC=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),NC=DC("applewebkit/")&&!DC("chrome/")?Math.round:Oa;function UC(n){n.min=NC(n.min),n.max=NC(n.max)}function qH(n){UC(n.x),UC(n.y)}function XD(n,e,t){return n==="position"||n==="preserve-aspect"&&!Jz(EC(e),EC(t),.2)}function WH(n){var e;return n!==n.root&&((e=n.scroll)==null?void 0:e.wasRoot)}const JH=kD({attachResizeListener:(n,e)=>Kg(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),yb={current:void 0},jD=kD({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!yb.current){const n=new JH({});n.mount(window),n.setOptions({layoutScroll:!0}),yb.current=n}return yb.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),KH={pan:{Feature:hH},drag:{Feature:fH,ProjectionNode:jD,MeasureLayout:ID}};function LC(n,e,t){const{props:i}=n;n.animationState&&i.whileHover&&n.animationState.setActive("whileHover",t==="Start");const s="onHover"+t,r=i[s];r&&Xn.postRender(()=>r(e,y0(e)))}class QH extends Cu{mount(){const{current:e}=this.node;e&&(this.unmount=hF(e,(t,i)=>(LC(this.node,i,"Start"),s=>LC(this.node,s,"End"))))}unmount(){}}class ZH extends Cu{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=d0(Kg(this.node.current,"focus",()=>this.onFocus()),Kg(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function OC(n,e,t){const{props:i}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&i.whileTap&&n.animationState.setActive("whileTap",t==="Start");const s="onTap"+(t==="End"?"":t),r=i[s];r&&Xn.postRender(()=>r(e,y0(e)))}class $H extends Cu{mount(){const{current:e}=this.node;e&&(this.unmount=gF(e,(t,i)=>(OC(this.node,i,"Start"),(s,{success:r})=>OC(this.node,s,r?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const oM=new WeakMap,vb=new WeakMap,e4=n=>{const e=oM.get(n.target);e&&e(n)},t4=n=>{n.forEach(e4)};function n4({root:n,...e}){const t=n||document;vb.has(t)||vb.set(t,{});const i=vb.get(t),s=JSON.stringify(e);return i[s]||(i[s]=new IntersectionObserver(t4,{root:n,...e})),i[s]}function i4(n,e,t){const i=n4(e);return oM.set(n,t),i.observe(n),()=>{oM.delete(n),i.unobserve(n)}}const s4={some:0,all:1};class a4 extends Cu{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:i,amount:s="some",once:r}=e,o={root:t?t.current:void 0,rootMargin:i,threshold:typeof s=="number"?s:s4[s]},u=h=>{const{isIntersecting:p}=h;if(this.isInView===p||(this.isInView=p,r&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:m,onViewportLeave:y}=this.node.getProps(),x=p?m:y;x&&x(h)};return i4(this.node.current,o,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(r4(e,t))&&this.startObserver()}unmount(){}}function r4({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const o4={inView:{Feature:a4},tap:{Feature:$H},focus:{Feature:ZH},hover:{Feature:QH}},l4={layout:{ProjectionNode:jD,MeasureLayout:ID}},lM={current:null},YD={current:!1};function c4(){if(YD.current=!0,!!YM)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>lM.current=n.matches;n.addListener(e),e()}else lM.current=!1}const u4=new WeakMap;function f4(n,e,t){for(const i in e){const s=e[i],r=t[i];if(ps(s))n.addValue(i,s);else if(ps(r))n.addValue(i,yo(s,{owner:n}));else if(r!==s)if(n.hasValue(i)){const o=n.getValue(i);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=n.getStaticValue(i);n.addValue(i,yo(o!==void 0?o:s,{owner:n}))}}for(const i in t)e[i]===void 0&&n.removeValue(i);return e}const PC=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class h4{scrapeMotionValuesFromProps(e,t,i){return{}}constructor({parent:e,props:t,presenceContext:i,reducedMotionConfig:s,blockInitialAnimation:r,visualState:o},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=u1,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=Ua.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,Xn.render(this.render,!1,!0))};const{latestValues:h,renderState:p}=o;this.latestValues=h,this.baseTarget={...h},this.initialValues=t.initial?{...h}:{},this.renderState=p,this.parent=e,this.props=t,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=u,this.blockInitialAnimation=!!r,this.isControllingVariants=U_(t),this.isVariantNode=dD(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:m,...y}=this.scrapeMotionValuesFromProps(t,{},this);for(const x in y){const _=y[x];h[x]!==void 0&&ps(_)&&_.set(h[x],!1)}}mount(e){this.current=e,u4.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,i)=>this.bindToMotionValue(i,t)),YD.current||c4(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:lM.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),_o(this.notifyUpdate),_o(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=Ep.has(e);i&&this.onBindTransform&&this.onBindTransform();const s=t.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&Xn.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),r=t.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{s(),r(),o&&o(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in rp){const t=rp[e];if(!t)continue;const{isEnabled:i,Feature:s}=t;if(!this.features[e]&&s&&i(this.props)&&(this.features[e]=new s(this)),this.features[e]){const r=this.features[e];r.isMounted?r.update():(r.mount(),r.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Di()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let i=0;i<PC.length;i++){const s=PC[i];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const r="on"+s,o=e[r];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=f4(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const i=this.values.get(e);t!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&t!==void 0&&(i=yo(t===null?void 0:t,{owner:this}),this.addValue(e,i)),i}readValue(e,t){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(vB(i)||_B(i))?i=parseFloat(i):!BF(i)&&bu.test(t)&&(i=nD(e,t)),this.setBaseTarget(e,ps(i)?i.get():i)),ps(i)?i.get():i}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var r;const{initial:t}=this.props;let i;if(typeof t=="string"||typeof t=="object"){const o=b1(this.props,t,(r=this.presenceContext)==null?void 0:r.custom);o&&(i=o[e])}if(t&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!ps(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new QM),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class qD extends h4{constructor(){super(...arguments),this.KeyframeResolver=lF}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:i}){delete t[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;ps(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function WD(n,{style:e,vars:t},i,s){Object.assign(n.style,e,s&&s.getProjectionStyles(i));for(const r in t)n.style.setProperty(r,t[r])}function d4(n){return window.getComputedStyle(n)}class p4 extends qD{constructor(){super(...arguments),this.type="html",this.renderInstance=WD}readValueFromInstance(e,t){var i;if(Ep.has(t))return(i=this.projection)!=null&&i.isProjecting?JS(t):RI(e,t);{const s=d4(e),r=(t1(t)?s.getPropertyValue(t):s[t])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:t}){return UD(e,t)}build(e,t,i){x1(e,t,i.transformTemplate)}scrapeMotionValuesFromProps(e,t,i){return S1(e,t,i)}}const JD=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function m4(n,e,t,i){WD(n,e,void 0,i);for(const s in e.attrs)n.setAttribute(JD.has(s)?s:v1(s),e.attrs[s])}class g4 extends qD{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Di}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Ep.has(t)){const i=tD(t);return i&&i.default||0}return t=JD.has(t)?t:v1(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,i){return SD(e,t,i)}build(e,t,i){xD(e,t,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,t,i,s){m4(e,t,i,s)}mount(e){this.isSVGTag=AD(e.tagName),super.mount(e)}}const y4=(n,e)=>A1(n)?new g4(e):new p4(e,{allowProjection:n!==Q.Fragment}),v4=mz({...Gz,...o4,...KH,...l4},y4),da=HF(v4),x4=50,IC=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),_4=()=>({time:0,x:IC(),y:IC()}),A4={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function FC(n,e,t,i){const s=t[e],{length:r,position:o}=A4[e],u=s.current,h=t.time;s.current=n[`scroll${o}`],s.scrollLength=n[`scroll${r}`]-n[`client${r}`],s.offset.length=0,s.offset[0]=0,s.offset[1]=s.scrollLength,s.progress=ap(0,s.scrollLength,s.current);const p=i-h;s.velocity=p>x4?0:ZM(s.current-u,p)}function b4(n,e,t){FC(n,"x",e,t),FC(n,"y",e,t),e.time=t}function S4(n,e){const t={x:0,y:0};let i=n;for(;i&&i!==e;)if(B_(i))t.x+=i.offsetLeft,t.y+=i.offsetTop,i=i.offsetParent;else if(i.tagName==="svg"){const s=i.getBoundingClientRect();i=i.parentElement;const r=i.getBoundingClientRect();t.x+=s.left-r.left,t.y+=s.top-r.top}else if(i instanceof SVGGraphicsElement){const{x:s,y:r}=i.getBBox();t.x+=s,t.y+=r;let o=null,u=i.parentNode;for(;!o;)u.tagName==="svg"&&(o=u),u=i.parentNode;i=o}else break;return t}const cM={start:0,center:.5,end:1};function zC(n,e,t=0){let i=0;if(n in cM&&(n=cM[n]),typeof n=="string"){const s=parseFloat(n);n.endsWith("px")?i=s:n.endsWith("%")?n=s/100:n.endsWith("vw")?i=s/100*document.documentElement.clientWidth:n.endsWith("vh")?i=s/100*document.documentElement.clientHeight:n=s}return typeof n=="number"&&(i=e*n),t+i}const M4=[0,0];function E4(n,e,t,i){let s=Array.isArray(n)?n:M4,r=0,o=0;return typeof n=="number"?s=[n,n]:typeof n=="string"&&(n=n.trim(),n.includes(" ")?s=n.split(" "):s=[n,cM[n]?n:"0"]),r=zC(s[0],t,i),o=zC(s[1],e),r-o}const T4={All:[[0,0],[1,1]]},C4={x:0,y:0};function R4(n){return"getBBox"in n&&n.tagName!=="svg"?n.getBBox():{width:n.clientWidth,height:n.clientHeight}}function w4(n,e,t){const{offset:i=T4.All}=t,{target:s=n,axis:r="y"}=t,o=r==="y"?"height":"width",u=s!==n?S4(s,n):C4,h=s===n?{width:n.scrollWidth,height:n.scrollHeight}:R4(s),p={width:n.clientWidth,height:n.clientHeight};e[r].offset.length=0;let m=!e[r].interpolate;const y=i.length;for(let x=0;x<y;x++){const _=E4(i[x],p[o],h[o],u[r]);!m&&_!==e[r].interpolatorOffsets[x]&&(m=!0),e[r].offset[x]=_}m&&(e[r].interpolate=o1(e[r].offset,VB(i),{clamp:!1}),e[r].interpolatorOffsets=[...e[r].offset]),e[r].progress=dl(0,1,e[r].interpolate(e[r].current))}function B4(n,e=n,t){if(t.x.targetOffset=0,t.y.targetOffset=0,e!==n){let i=e;for(;i&&i!==n;)t.x.targetOffset+=i.offsetLeft,t.y.targetOffset+=i.offsetTop,i=i.offsetParent}t.x.targetLength=e===n?e.scrollWidth:e.clientWidth,t.y.targetLength=e===n?e.scrollHeight:e.clientHeight,t.x.containerLength=n.clientWidth,t.y.containerLength=n.clientHeight}function D4(n,e,t,i={}){return{measure:s=>{B4(n,i.target,t),b4(n,t,s),(i.offset||i.target)&&w4(n,t,i)},notify:()=>e(t)}}const eg=new WeakMap,HC=new WeakMap,xb=new WeakMap,GC=n=>n===document.scrollingElement?window:n;function KD(n,{container:e=document.scrollingElement,...t}={}){if(!e)return Oa;let i=xb.get(e);i||(i=new Set,xb.set(e,i));const s=_4(),r=D4(e,n,s,t);if(i.add(r),!eg.has(e)){const u=()=>{for(const y of i)y.measure(ds.timestamp);Xn.preUpdate(h)},h=()=>{for(const y of i)y.notify()},p=()=>Xn.read(u);eg.set(e,p);const m=GC(e);window.addEventListener("resize",p,{passive:!0}),e!==document.documentElement&&HC.set(e,EF(e,p)),m.addEventListener("scroll",p,{passive:!0}),p()}const o=eg.get(e);return Xn.read(o,!1,!0),()=>{var p;_o(o);const u=xb.get(e);if(!u||(u.delete(r),u.size))return;const h=eg.get(e);eg.delete(e),h&&(GC(e).removeEventListener("scroll",h),(p=HC.get(e))==null||p(),window.removeEventListener("resize",h))}}const VC=new Map;function N4(n){const e={value:0},t=KD(i=>{e.value=i[n.axis].progress*100},n);return{currentTime:e,cancel:t}}function QD({source:n,container:e,...t}){const{axis:i}=t;n&&(e=n);const s=VC.get(e)??new Map;VC.set(e,s);const r=t.target??"self",o=s.get(r)??{},u=i+(t.offset??[]).join(",");return o[u]||(o[u]=!t.target&&YB()?new ScrollTimeline({source:e,axis:i}):N4({container:e,...t})),o[u]}function U4(n,e){const t=QD(e);return n.attachTimeline({timeline:e.target?void 0:t,observe:i=>(i.pause(),cD(s=>{i.time=i.duration*s},t))})}function L4(n){return n.length===2}function O4(n,e){return L4(n)?KD(t=>{n(t[e.axis].progress,t)},e):cD(n,QD(e))}function P4(n,{axis:e="y",container:t=document.scrollingElement,...i}={}){if(!t)return Oa;const s={axis:e,container:t,...i};return typeof n=="function"?O4(n,s):U4(n,s)}function kC(n,e){CP(!!(!e||e.current))}const I4=()=>({scrollX:yo(0),scrollY:yo(0),scrollXProgress:yo(0),scrollYProgress:yo(0)});function ZD({container:n,target:e,layoutEffect:t=!0,...i}={}){const s=bp(I4);return(t?C_:Q.useEffect)(()=>(kC("target",e),kC("container",n),P4((o,{x:u,y:h})=>{s.scrollX.set(u.current),s.scrollXProgress.set(u.progress),s.scrollY.set(h.current),s.scrollYProgress.set(h.progress)},{...i,container:(n==null?void 0:n.current)||void 0,target:(e==null?void 0:e.current)||void 0})),[n,e,JSON.stringify(i.offset)]),s}function L_(n){const e=bp(()=>yo(n)),{isStatic:t}=Q.useContext(g0);if(t){const[,i]=Q.useState(n);Q.useEffect(()=>e.on("change",i),[])}return e}function $D(n,e){const t=L_(e()),i=()=>t.set(e());return i(),C_(()=>{const s=()=>Xn.preRender(i,!1,!0),r=n.map(o=>o.on("change",s));return()=>{r.forEach(o=>o()),_o(i)}}),t}function F4(n){wg.current=[],n();const e=$D(wg.current,n);return wg.current=void 0,e}function Kf(n,e,t,i){if(typeof n=="function")return F4(n);const s=typeof e=="function"?e:CF(e,t,i);return Array.isArray(n)?XC(n,s):XC([n],([r])=>s(r))}function XC(n,e){const t=bp(()=>[]);return $D(n,()=>{t.length=0;const i=n.length;for(let s=0;s<i;s++)t[s]=n[s].get();return e(t)})}function E1(n,e={}){const{isStatic:t}=Q.useContext(g0),i=()=>ps(n)?n.get():n;if(t)return Kf(i);const s=L_(i());return Q.useInsertionEffect(()=>RF(s,n,e),[s,JSON.stringify(e)]),s}function jC(){return J.jsxs("ul",{className:"nav-ul",children:[J.jsx("li",{className:"nav-li",children:J.jsx(ol,{className:"nav-link",to:"/",children:"Home"})}),J.jsx("li",{className:"nav-li",children:J.jsx(ol,{className:"nav-link",to:"/#about",children:"About Me!"})}),J.jsx("li",{className:"nav-li",children:J.jsx(ol,{className:"nav-link",to:"/#projects",children:"My Projects"})}),J.jsx("li",{className:"nav-li",children:J.jsx(ol,{className:"nav-link",to:"/#work",children:"My Experience"})}),J.jsx("li",{className:"nav-li",children:J.jsx(ol,{className:"nav-link",to:"/#contact",children:"Contact Me"})}),J.jsx("li",{className:"nav-li",children:J.jsx(ol,{className:"nav-link",to:"/blog",children:"Blog"})})]})}const z4=()=>{const[n,e]=Q.useState(!1),i=hc().pathname.startsWith("/blog");return J.jsxs("div",{className:"fixed inset-x-0 z-20 w-full backdrop-blur-lg bg-primary/40",children:[J.jsx("div",{className:"mx-auto c-space max-w-7xl",children:J.jsxs("div",{className:"flex py-2 sm:py-0 items-center justify-between",children:[J.jsx("a",{href:"/",className:`text-2xl font-extrabold transition-colors\r
                        text-neutral-400 hover:text-white \r
                        hidden md:block justify-start`,children:i?"My Blogs":"My Portfolio"}),J.jsx("button",{onClick:()=>e(!n),className:`cursor-pointer text-neutral-400\r
                        hover:text-white focus:outline-none sm:hidden`,children:J.jsx("img",{src:n?"assets/close.svg":"assets/menu.svg",className:"w-6 h-6",alt:"toggle"})}),J.jsx("nav",{className:"hidden sm:flex justify-end",children:J.jsx(jC,{})})]})}),n&&J.jsx(da.div,{className:"block overflow-hidden text-center sm:hidden",initial:{opacity:0,x:-10},animate:{opacity:1,x:0},style:{maxHeight:"100vh"},transition:{duration:1},children:J.jsx("nav",{className:"pb-5",children:J.jsx(jC,{})})})]})},T1="-",H4=n=>{const e=V4(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:i}=n;return{getClassGroupId:o=>{const u=o.split(T1);return u[0]===""&&u.length!==1&&u.shift(),e3(u,e)||G4(o)},getConflictingClassGroupIds:(o,u)=>{const h=t[o]||[];return u&&i[o]?[...h,...i[o]]:h}}},e3=(n,e)=>{var o;if(n.length===0)return e.classGroupId;const t=n[0],i=e.nextPart.get(t),s=i?e3(n.slice(1),i):void 0;if(s)return s;if(e.validators.length===0)return;const r=n.join(T1);return(o=e.validators.find(({validator:u})=>u(r)))==null?void 0:o.classGroupId},YC=/^\[(.+)\]$/,G4=n=>{if(YC.test(n)){const e=YC.exec(n)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},V4=n=>{const{theme:e,classGroups:t}=n,i={nextPart:new Map,validators:[]};for(const s in t)uM(t[s],i,s,e);return i},uM=(n,e,t,i)=>{n.forEach(s=>{if(typeof s=="string"){const r=s===""?e:qC(e,s);r.classGroupId=t;return}if(typeof s=="function"){if(k4(s)){uM(s(i),e,t,i);return}e.validators.push({validator:s,classGroupId:t});return}Object.entries(s).forEach(([r,o])=>{uM(o,qC(e,r),t,i)})})},qC=(n,e)=>{let t=n;return e.split(T1).forEach(i=>{t.nextPart.has(i)||t.nextPart.set(i,{nextPart:new Map,validators:[]}),t=t.nextPart.get(i)}),t},k4=n=>n.isThemeGetter,X4=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,i=new Map;const s=(r,o)=>{t.set(r,o),e++,e>n&&(e=0,i=t,t=new Map)};return{get(r){let o=t.get(r);if(o!==void 0)return o;if((o=i.get(r))!==void 0)return s(r,o),o},set(r,o){t.has(r)?t.set(r,o):s(r,o)}}},fM="!",hM=":",j4=hM.length,Y4=n=>{const{prefix:e,experimentalParseClassName:t}=n;let i=s=>{const r=[];let o=0,u=0,h=0,p;for(let M=0;M<s.length;M++){let C=s[M];if(o===0&&u===0){if(C===hM){r.push(s.slice(h,M)),h=M+j4;continue}if(C==="/"){p=M;continue}}C==="["?o++:C==="]"?o--:C==="("?u++:C===")"&&u--}const m=r.length===0?s:s.substring(h),y=q4(m),x=y!==m,_=p&&p>h?p-h:void 0;return{modifiers:r,hasImportantModifier:x,baseClassName:y,maybePostfixModifierPosition:_}};if(e){const s=e+hM,r=i;i=o=>o.startsWith(s)?r(o.substring(s.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:o,maybePostfixModifierPosition:void 0}}if(t){const s=i;i=r=>t({className:r,parseClassName:s})}return i},q4=n=>n.endsWith(fM)?n.substring(0,n.length-1):n.startsWith(fM)?n.substring(1):n,W4=n=>{const e=Object.fromEntries(n.orderSensitiveModifiers.map(i=>[i,!0]));return i=>{if(i.length<=1)return i;const s=[];let r=[];return i.forEach(o=>{o[0]==="["||e[o]?(s.push(...r.sort(),o),r=[]):r.push(o)}),s.push(...r.sort()),s}},J4=n=>({cache:X4(n.cacheSize),parseClassName:Y4(n),sortModifiers:W4(n),...H4(n)}),K4=/\s+/,Q4=(n,e)=>{const{parseClassName:t,getClassGroupId:i,getConflictingClassGroupIds:s,sortModifiers:r}=e,o=[],u=n.trim().split(K4);let h="";for(let p=u.length-1;p>=0;p-=1){const m=u[p],{isExternal:y,modifiers:x,hasImportantModifier:_,baseClassName:M,maybePostfixModifierPosition:C}=t(m);if(y){h=m+(h.length>0?" "+h:h);continue}let E=!!C,S=i(E?M.substring(0,C):M);if(!S){if(!E){h=m+(h.length>0?" "+h:h);continue}if(S=i(M),!S){h=m+(h.length>0?" "+h:h);continue}E=!1}const w=r(x).join(":"),B=_?w+fM:w,D=B+S;if(o.includes(D))continue;o.push(D);const P=s(S,E);for(let I=0;I<P.length;++I){const G=P[I];o.push(B+G)}h=m+(h.length>0?" "+h:h)}return h};function Z4(){let n=0,e,t,i="";for(;n<arguments.length;)(e=arguments[n++])&&(t=t3(e))&&(i&&(i+=" "),i+=t);return i}const t3=n=>{if(typeof n=="string")return n;let e,t="";for(let i=0;i<n.length;i++)n[i]&&(e=t3(n[i]))&&(t&&(t+=" "),t+=e);return t};function $4(n,...e){let t,i,s,r=o;function o(h){const p=e.reduce((m,y)=>y(m),n());return t=J4(p),i=t.cache.get,s=t.cache.set,r=u,u(h)}function u(h){const p=i(h);if(p)return p;const m=Q4(h,t);return s(h,m),m}return function(){return r(Z4.apply(null,arguments))}}const ts=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},n3=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,i3=/^\((?:(\w[\w-]*):)?(.+)\)$/i,eG=/^\d+\/\d+$/,tG=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,nG=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,iG=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,sG=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,aG=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,_d=n=>eG.test(n),ln=n=>!!n&&!Number.isNaN(Number(n)),ru=n=>!!n&&Number.isInteger(Number(n)),_b=n=>n.endsWith("%")&&ln(n.slice(0,-1)),Vl=n=>tG.test(n),rG=()=>!0,oG=n=>nG.test(n)&&!iG.test(n),s3=()=>!1,lG=n=>sG.test(n),cG=n=>aG.test(n),uG=n=>!vt(n)&&!xt(n),fG=n=>Tp(n,o3,s3),vt=n=>n3.test(n),Tf=n=>Tp(n,l3,oG),Ab=n=>Tp(n,gG,ln),WC=n=>Tp(n,a3,s3),hG=n=>Tp(n,r3,cG),dv=n=>Tp(n,c3,lG),xt=n=>i3.test(n),tg=n=>Cp(n,l3),dG=n=>Cp(n,yG),JC=n=>Cp(n,a3),pG=n=>Cp(n,o3),mG=n=>Cp(n,r3),pv=n=>Cp(n,c3,!0),Tp=(n,e,t)=>{const i=n3.exec(n);return i?i[1]?e(i[1]):t(i[2]):!1},Cp=(n,e,t=!1)=>{const i=i3.exec(n);return i?i[1]?e(i[1]):t:!1},a3=n=>n==="position"||n==="percentage",r3=n=>n==="image"||n==="url",o3=n=>n==="length"||n==="size"||n==="bg-size",l3=n=>n==="length",gG=n=>n==="number",yG=n=>n==="family-name",c3=n=>n==="shadow",vG=()=>{const n=ts("color"),e=ts("font"),t=ts("text"),i=ts("font-weight"),s=ts("tracking"),r=ts("leading"),o=ts("breakpoint"),u=ts("container"),h=ts("spacing"),p=ts("radius"),m=ts("shadow"),y=ts("inset-shadow"),x=ts("text-shadow"),_=ts("drop-shadow"),M=ts("blur"),C=ts("perspective"),E=ts("aspect"),S=ts("ease"),w=ts("animate"),B=()=>["auto","avoid","all","avoid-page","page","left","right","column"],D=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],P=()=>[...D(),xt,vt],I=()=>["auto","hidden","clip","visible","scroll"],G=()=>["auto","contain","none"],z=()=>[xt,vt,h],U=()=>[_d,"full","auto",...z()],O=()=>[ru,"none","subgrid",xt,vt],W=()=>["auto",{span:["full",ru,xt,vt]},ru,xt,vt],ce=()=>[ru,"auto",xt,vt],se=()=>["auto","min","max","fr",xt,vt],me=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],fe=()=>["start","end","center","stretch","center-safe","end-safe"],F=()=>["auto",...z()],q=()=>[_d,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...z()],Y=()=>[n,xt,vt],ue=()=>[...D(),JC,WC,{position:[xt,vt]}],X=()=>["no-repeat",{repeat:["","x","y","space","round"]}],ie=()=>["auto","cover","contain",pG,fG,{size:[xt,vt]}],xe=()=>[_b,tg,Tf],_e=()=>["","none","full",p,xt,vt],ne=()=>["",ln,tg,Tf],Ce=()=>["solid","dashed","dotted","double"],Oe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],He=()=>[ln,_b,JC,WC],Ye=()=>["","none",M,xt,vt],bt=()=>["none",ln,xt,vt],it=()=>["none",ln,xt,vt],mt=()=>[ln,xt,vt],Rt=()=>[_d,"full",...z()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Vl],breakpoint:[Vl],color:[rG],container:[Vl],"drop-shadow":[Vl],ease:["in","out","in-out"],font:[uG],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Vl],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Vl],shadow:[Vl],spacing:["px",ln],text:[Vl],"text-shadow":[Vl],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",_d,vt,xt,E]}],container:["container"],columns:[{columns:[ln,vt,xt,u]}],"break-after":[{"break-after":B()}],"break-before":[{"break-before":B()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:P()}],overflow:[{overflow:I()}],"overflow-x":[{"overflow-x":I()}],"overflow-y":[{"overflow-y":I()}],overscroll:[{overscroll:G()}],"overscroll-x":[{"overscroll-x":G()}],"overscroll-y":[{"overscroll-y":G()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:U()}],"inset-x":[{"inset-x":U()}],"inset-y":[{"inset-y":U()}],start:[{start:U()}],end:[{end:U()}],top:[{top:U()}],right:[{right:U()}],bottom:[{bottom:U()}],left:[{left:U()}],visibility:["visible","invisible","collapse"],z:[{z:[ru,"auto",xt,vt]}],basis:[{basis:[_d,"full","auto",u,...z()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[ln,_d,"auto","initial","none",vt]}],grow:[{grow:["",ln,xt,vt]}],shrink:[{shrink:["",ln,xt,vt]}],order:[{order:[ru,"first","last","none",xt,vt]}],"grid-cols":[{"grid-cols":O()}],"col-start-end":[{col:W()}],"col-start":[{"col-start":ce()}],"col-end":[{"col-end":ce()}],"grid-rows":[{"grid-rows":O()}],"row-start-end":[{row:W()}],"row-start":[{"row-start":ce()}],"row-end":[{"row-end":ce()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":se()}],"auto-rows":[{"auto-rows":se()}],gap:[{gap:z()}],"gap-x":[{"gap-x":z()}],"gap-y":[{"gap-y":z()}],"justify-content":[{justify:[...me(),"normal"]}],"justify-items":[{"justify-items":[...fe(),"normal"]}],"justify-self":[{"justify-self":["auto",...fe()]}],"align-content":[{content:["normal",...me()]}],"align-items":[{items:[...fe(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...fe(),{baseline:["","last"]}]}],"place-content":[{"place-content":me()}],"place-items":[{"place-items":[...fe(),"baseline"]}],"place-self":[{"place-self":["auto",...fe()]}],p:[{p:z()}],px:[{px:z()}],py:[{py:z()}],ps:[{ps:z()}],pe:[{pe:z()}],pt:[{pt:z()}],pr:[{pr:z()}],pb:[{pb:z()}],pl:[{pl:z()}],m:[{m:F()}],mx:[{mx:F()}],my:[{my:F()}],ms:[{ms:F()}],me:[{me:F()}],mt:[{mt:F()}],mr:[{mr:F()}],mb:[{mb:F()}],ml:[{ml:F()}],"space-x":[{"space-x":z()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":z()}],"space-y-reverse":["space-y-reverse"],size:[{size:q()}],w:[{w:[u,"screen",...q()]}],"min-w":[{"min-w":[u,"screen","none",...q()]}],"max-w":[{"max-w":[u,"screen","none","prose",{screen:[o]},...q()]}],h:[{h:["screen","lh",...q()]}],"min-h":[{"min-h":["screen","lh","none",...q()]}],"max-h":[{"max-h":["screen","lh",...q()]}],"font-size":[{text:["base",t,tg,Tf]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[i,xt,Ab]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",_b,vt]}],"font-family":[{font:[dG,vt,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,xt,vt]}],"line-clamp":[{"line-clamp":[ln,"none",xt,Ab]}],leading:[{leading:[r,...z()]}],"list-image":[{"list-image":["none",xt,vt]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",xt,vt]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:Y()}],"text-color":[{text:Y()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ce(),"wavy"]}],"text-decoration-thickness":[{decoration:[ln,"from-font","auto",xt,Tf]}],"text-decoration-color":[{decoration:Y()}],"underline-offset":[{"underline-offset":[ln,"auto",xt,vt]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:z()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",xt,vt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",xt,vt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ue()}],"bg-repeat":[{bg:X()}],"bg-size":[{bg:ie()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},ru,xt,vt],radial:["",xt,vt],conic:[ru,xt,vt]},mG,hG]}],"bg-color":[{bg:Y()}],"gradient-from-pos":[{from:xe()}],"gradient-via-pos":[{via:xe()}],"gradient-to-pos":[{to:xe()}],"gradient-from":[{from:Y()}],"gradient-via":[{via:Y()}],"gradient-to":[{to:Y()}],rounded:[{rounded:_e()}],"rounded-s":[{"rounded-s":_e()}],"rounded-e":[{"rounded-e":_e()}],"rounded-t":[{"rounded-t":_e()}],"rounded-r":[{"rounded-r":_e()}],"rounded-b":[{"rounded-b":_e()}],"rounded-l":[{"rounded-l":_e()}],"rounded-ss":[{"rounded-ss":_e()}],"rounded-se":[{"rounded-se":_e()}],"rounded-ee":[{"rounded-ee":_e()}],"rounded-es":[{"rounded-es":_e()}],"rounded-tl":[{"rounded-tl":_e()}],"rounded-tr":[{"rounded-tr":_e()}],"rounded-br":[{"rounded-br":_e()}],"rounded-bl":[{"rounded-bl":_e()}],"border-w":[{border:ne()}],"border-w-x":[{"border-x":ne()}],"border-w-y":[{"border-y":ne()}],"border-w-s":[{"border-s":ne()}],"border-w-e":[{"border-e":ne()}],"border-w-t":[{"border-t":ne()}],"border-w-r":[{"border-r":ne()}],"border-w-b":[{"border-b":ne()}],"border-w-l":[{"border-l":ne()}],"divide-x":[{"divide-x":ne()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ne()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Ce(),"hidden","none"]}],"divide-style":[{divide:[...Ce(),"hidden","none"]}],"border-color":[{border:Y()}],"border-color-x":[{"border-x":Y()}],"border-color-y":[{"border-y":Y()}],"border-color-s":[{"border-s":Y()}],"border-color-e":[{"border-e":Y()}],"border-color-t":[{"border-t":Y()}],"border-color-r":[{"border-r":Y()}],"border-color-b":[{"border-b":Y()}],"border-color-l":[{"border-l":Y()}],"divide-color":[{divide:Y()}],"outline-style":[{outline:[...Ce(),"none","hidden"]}],"outline-offset":[{"outline-offset":[ln,xt,vt]}],"outline-w":[{outline:["",ln,tg,Tf]}],"outline-color":[{outline:Y()}],shadow:[{shadow:["","none",m,pv,dv]}],"shadow-color":[{shadow:Y()}],"inset-shadow":[{"inset-shadow":["none",y,pv,dv]}],"inset-shadow-color":[{"inset-shadow":Y()}],"ring-w":[{ring:ne()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:Y()}],"ring-offset-w":[{"ring-offset":[ln,Tf]}],"ring-offset-color":[{"ring-offset":Y()}],"inset-ring-w":[{"inset-ring":ne()}],"inset-ring-color":[{"inset-ring":Y()}],"text-shadow":[{"text-shadow":["none",x,pv,dv]}],"text-shadow-color":[{"text-shadow":Y()}],opacity:[{opacity:[ln,xt,vt]}],"mix-blend":[{"mix-blend":[...Oe(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Oe()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[ln]}],"mask-image-linear-from-pos":[{"mask-linear-from":He()}],"mask-image-linear-to-pos":[{"mask-linear-to":He()}],"mask-image-linear-from-color":[{"mask-linear-from":Y()}],"mask-image-linear-to-color":[{"mask-linear-to":Y()}],"mask-image-t-from-pos":[{"mask-t-from":He()}],"mask-image-t-to-pos":[{"mask-t-to":He()}],"mask-image-t-from-color":[{"mask-t-from":Y()}],"mask-image-t-to-color":[{"mask-t-to":Y()}],"mask-image-r-from-pos":[{"mask-r-from":He()}],"mask-image-r-to-pos":[{"mask-r-to":He()}],"mask-image-r-from-color":[{"mask-r-from":Y()}],"mask-image-r-to-color":[{"mask-r-to":Y()}],"mask-image-b-from-pos":[{"mask-b-from":He()}],"mask-image-b-to-pos":[{"mask-b-to":He()}],"mask-image-b-from-color":[{"mask-b-from":Y()}],"mask-image-b-to-color":[{"mask-b-to":Y()}],"mask-image-l-from-pos":[{"mask-l-from":He()}],"mask-image-l-to-pos":[{"mask-l-to":He()}],"mask-image-l-from-color":[{"mask-l-from":Y()}],"mask-image-l-to-color":[{"mask-l-to":Y()}],"mask-image-x-from-pos":[{"mask-x-from":He()}],"mask-image-x-to-pos":[{"mask-x-to":He()}],"mask-image-x-from-color":[{"mask-x-from":Y()}],"mask-image-x-to-color":[{"mask-x-to":Y()}],"mask-image-y-from-pos":[{"mask-y-from":He()}],"mask-image-y-to-pos":[{"mask-y-to":He()}],"mask-image-y-from-color":[{"mask-y-from":Y()}],"mask-image-y-to-color":[{"mask-y-to":Y()}],"mask-image-radial":[{"mask-radial":[xt,vt]}],"mask-image-radial-from-pos":[{"mask-radial-from":He()}],"mask-image-radial-to-pos":[{"mask-radial-to":He()}],"mask-image-radial-from-color":[{"mask-radial-from":Y()}],"mask-image-radial-to-color":[{"mask-radial-to":Y()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":D()}],"mask-image-conic-pos":[{"mask-conic":[ln]}],"mask-image-conic-from-pos":[{"mask-conic-from":He()}],"mask-image-conic-to-pos":[{"mask-conic-to":He()}],"mask-image-conic-from-color":[{"mask-conic-from":Y()}],"mask-image-conic-to-color":[{"mask-conic-to":Y()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ue()}],"mask-repeat":[{mask:X()}],"mask-size":[{mask:ie()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",xt,vt]}],filter:[{filter:["","none",xt,vt]}],blur:[{blur:Ye()}],brightness:[{brightness:[ln,xt,vt]}],contrast:[{contrast:[ln,xt,vt]}],"drop-shadow":[{"drop-shadow":["","none",_,pv,dv]}],"drop-shadow-color":[{"drop-shadow":Y()}],grayscale:[{grayscale:["",ln,xt,vt]}],"hue-rotate":[{"hue-rotate":[ln,xt,vt]}],invert:[{invert:["",ln,xt,vt]}],saturate:[{saturate:[ln,xt,vt]}],sepia:[{sepia:["",ln,xt,vt]}],"backdrop-filter":[{"backdrop-filter":["","none",xt,vt]}],"backdrop-blur":[{"backdrop-blur":Ye()}],"backdrop-brightness":[{"backdrop-brightness":[ln,xt,vt]}],"backdrop-contrast":[{"backdrop-contrast":[ln,xt,vt]}],"backdrop-grayscale":[{"backdrop-grayscale":["",ln,xt,vt]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[ln,xt,vt]}],"backdrop-invert":[{"backdrop-invert":["",ln,xt,vt]}],"backdrop-opacity":[{"backdrop-opacity":[ln,xt,vt]}],"backdrop-saturate":[{"backdrop-saturate":[ln,xt,vt]}],"backdrop-sepia":[{"backdrop-sepia":["",ln,xt,vt]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":z()}],"border-spacing-x":[{"border-spacing-x":z()}],"border-spacing-y":[{"border-spacing-y":z()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",xt,vt]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[ln,"initial",xt,vt]}],ease:[{ease:["linear","initial",S,xt,vt]}],delay:[{delay:[ln,xt,vt]}],animate:[{animate:["none",w,xt,vt]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[C,xt,vt]}],"perspective-origin":[{"perspective-origin":P()}],rotate:[{rotate:bt()}],"rotate-x":[{"rotate-x":bt()}],"rotate-y":[{"rotate-y":bt()}],"rotate-z":[{"rotate-z":bt()}],scale:[{scale:it()}],"scale-x":[{"scale-x":it()}],"scale-y":[{"scale-y":it()}],"scale-z":[{"scale-z":it()}],"scale-3d":["scale-3d"],skew:[{skew:mt()}],"skew-x":[{"skew-x":mt()}],"skew-y":[{"skew-y":mt()}],transform:[{transform:[xt,vt,"","none","gpu","cpu"]}],"transform-origin":[{origin:P()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Rt()}],"translate-x":[{"translate-x":Rt()}],"translate-y":[{"translate-y":Rt()}],"translate-z":[{"translate-z":Rt()}],"translate-none":["translate-none"],accent:[{accent:Y()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:Y()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",xt,vt]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":z()}],"scroll-mx":[{"scroll-mx":z()}],"scroll-my":[{"scroll-my":z()}],"scroll-ms":[{"scroll-ms":z()}],"scroll-me":[{"scroll-me":z()}],"scroll-mt":[{"scroll-mt":z()}],"scroll-mr":[{"scroll-mr":z()}],"scroll-mb":[{"scroll-mb":z()}],"scroll-ml":[{"scroll-ml":z()}],"scroll-p":[{"scroll-p":z()}],"scroll-px":[{"scroll-px":z()}],"scroll-py":[{"scroll-py":z()}],"scroll-ps":[{"scroll-ps":z()}],"scroll-pe":[{"scroll-pe":z()}],"scroll-pt":[{"scroll-pt":z()}],"scroll-pr":[{"scroll-pr":z()}],"scroll-pb":[{"scroll-pb":z()}],"scroll-pl":[{"scroll-pl":z()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",xt,vt]}],fill:[{fill:["none",...Y()]}],"stroke-w":[{stroke:[ln,tg,Tf,Ab]}],stroke:[{stroke:["none",...Y()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Nx=$4(vG),KC=({words:n,duration:e=3e3,className:t})=>{const[i,s]=Q.useState(n[0]),[r,o]=Q.useState(!1),u=Q.useCallback(()=>{const h=n[n.indexOf(i)+1]||n[0];s(h),o(!0)},[i,n]);return Q.useEffect(()=>{r||setTimeout(()=>{u()},e)},[r,e,u]),J.jsx(OF,{onExitComplete:()=>{o(!1)},children:J.jsx(da.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{type:"spring",stiffness:100,damping:10},exit:{opacity:0,y:-40,x:40,filter:"blur(8px)",scale:2,position:"absolute"},className:Nx("z-10 inline-block relative text-left",t),children:i.split(" ").map((h,p)=>J.jsxs(da.span,{initial:{opacity:0,y:10,filter:"blur(8px)"},animate:{opacity:1,y:0,filter:"blur(0px)"},transition:{delay:p*.3,duration:.3},className:"inline-block whitespace-nowrap",children:[h.split("").map((m,y)=>J.jsx(da.span,{initial:{opacity:0,y:10,filter:"blur(8px)"},animate:{opacity:1,y:0,filter:"blur(0px)"},transition:{delay:p*.3+y*.05,duration:.2},className:"inline-block",children:m},h+y)),J.jsx("span",{className:"inline-block",children:" "})]},h+p))},i)})},xG=()=>{const n=["Secure","Modern","Scalable"],e={hidden:{opacity:0,x:-50},visible:{opacity:1,x:0}};return J.jsxs("div",{className:"z-10 mt-20 text-center md:mt-40 md:text-left rounded-3xl bg-clip-text",children:[J.jsx("div",{className:"hidden md:flex flex-col c-space",children:J.jsxs("div",{className:"flex flex-col items-start",children:[J.jsxs(da.p,{className:`text-5xl font-medium\r
            text-neutral-300 flex`,variants:e,initial:"hidden",animate:"visible",transition:{delay:1.2},children:["Hi, I'm Satyam — a hardware designer",J.jsx("br",{}),"crafting solutions that are"]}),J.jsx(da.div,{variants:e,initial:"hidden",animate:"visible",transition:{delay:1.5},children:J.jsx(KC,{words:n,className:"font-black text-white text-8xl"})}),J.jsx(da.p,{className:"text-4xl font-medium text-neutral-300",variants:e,initial:"hidden",animate:"visible",transition:{delay:1.8},children:"Embedded Solutions"})]})}),J.jsxs("div",{className:"flex flex-col gap-y-6 md:hidden",children:[J.jsxs(da.p,{className:"mt-10 text-5xl font-black text-neutral-300",variants:e,initial:"hidden",animate:"visible",transition:{delay:1.2},children:["Hi, I'm Satyam",J.jsx("br",{}),"hardware designer",J.jsx("br",{}),"building"]}),J.jsx(da.div,{variants:e,initial:"hidden",animate:"visible",transition:{delay:1.5},children:J.jsx(KC,{words:n,className:"font-bold text-white text-7xl"})}),J.jsx(da.p,{className:"text-4xl font-black text-neutral-300",variants:e,initial:"hidden",animate:"visible",transition:{delay:1.8},children:"Embedded Systems"})]})]})},_G=()=>{const{scrollYProgress:n}=ZD(),e=E1(n,{damping:50}),t=Kf(e,[0,.5],["0%","70%"]),i=Kf(e,[0,.5],["0%","-20%"]),s=Kf(e,[0,.5],["0%","30%"]),r=Kf(e,[0,.5],["0%","0%"]);return J.jsx("section",{className:"absolute inset-0 bg-black/40",children:J.jsxs("div",{className:"relative h-screen overflow-y-hidden",children:[J.jsx("div",{className:" absolute inset-0 w-full h-screen -z-60",style:{backgroundImage:"url(/assets/sky.jpg)",backgroundPosition:"bottom",backgroundSize:"cover"}}),J.jsx(da.div,{className:"absolute inset-0 -z-40",style:{backgroundImage:"url(/assets/mountain-3.png)",backgroundPosition:"bottom",backgroundSize:"cover",y:t}}),J.jsx(da.div,{className:"absolute inset-0 -z-30",style:{backgroundImage:"url(/assets/planets.png)",backgroundPosition:"bottom",backgroundSize:"cover",x:i}}),J.jsx(da.div,{className:"absolute inset-0 -z-20",style:{backgroundImage:"url(/assets/mountain-2.png)",backgroundPosition:"bottom",backgroundSize:"cover",y:s}}),J.jsx(da.div,{className:"absolute inset-0 -z-10",style:{backgroundImage:"url(/assets/mountain-1.png)",backgroundPosition:"bottom",backgroundSize:"cover",y:r}})]})})};/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const v0="177",AG={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},bG={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},u3=0,dM=1,f3=2,SG=3,h3=0,O_=1,Ug=2,mo=3,pl=0,ga=1,Nr=2,sc=0,ah=1,pM=2,mM=3,gM=4,d3=5,vu=100,p3=101,m3=102,g3=103,y3=104,v3=200,x3=201,_3=202,A3=203,Ux=204,Lx=205,b3=206,S3=207,M3=208,E3=209,T3=210,C3=211,R3=212,w3=213,B3=214,Ox=0,Px=1,Ix=2,lh=3,Fx=4,zx=5,Hx=6,Gx=7,x0=0,D3=1,N3=2,fl=0,U3=1,L3=2,O3=3,C1=4,P3=5,I3=6,F3=7,yM="attached",z3="detached",P_=300,cc=301,Su=302,Qg=303,Zg=304,Rp=306,Mu=1e3,nr=1001,op=1002,ms=1003,I_=1004,MG=1004,Qf=1005,EG=1005,Ui=1006,$d=1007,TG=1007,Ur=1008,CG=1008,Or=1009,R1=1010,w1=1011,lp=1012,F_=1013,uc=1014,La=1015,wp=1016,z_=1017,H_=1018,cp=1020,B1=35902,D1=1021,N1=1022,js=1023,up=1026,fp=1027,G_=1028,_0=1029,U1=1030,V_=1031,RG=1032,k_=1033,Lg=33776,Og=33777,Pg=33778,Ig=33779,Vx=35840,kx=35841,Xx=35842,jx=35843,Yx=36196,qx=37492,Wx=37496,Jx=37808,Kx=37809,Qx=37810,Zx=37811,$x=37812,e_=37813,t_=37814,n_=37815,i_=37816,s_=37817,a_=37818,r_=37819,o_=37820,l_=37821,Fg=36492,c_=36494,u_=36495,L1=36283,f_=36284,h_=36285,d_=36286,H3=2200,G3=2201,V3=2202,hp=2300,dp=2301,Ax=2302,Zf=2400,$f=2401,$g=2402,X_=2500,O1=2501,k3=0,P1=1,p_=2,X3=3200,j3=3201,wG=3202,BG=3203,Ru=0,Y3=1,$l="",Xs="srgb",Eu="srgb-linear",e0="linear",kn="srgb",DG=0,Xf=7680,NG=7681,UG=7682,LG=7683,OG=34055,PG=34056,IG=5386,FG=512,zG=513,HG=514,GG=515,VG=516,kG=517,XG=518,vM=519,q3=512,W3=513,J3=514,I1=515,K3=516,Q3=517,Z3=518,$3=519,t0=35044,jG=35048,YG=35040,qG=35045,WG=35049,JG=35041,KG=35046,QG=35050,ZG=35042,$G="100",xM="300 es",Lr=2e3,n0=2001,eV={COMPUTE:"compute",RENDER:"render"},tV={PERSPECTIVE:"perspective",LINEAR:"linear",FLAT:"flat"},nV={NORMAL:"normal",CENTROID:"centroid",SAMPLE:"sample",FLAT_FIRST:"flat first",FLAT_EITHER:"flat either"};class vl{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(t)===-1&&i[e].push(t)}hasEventListener(e,t){const i=this._listeners;return i===void 0?!1:i[e]!==void 0&&i[e].indexOf(t)!==-1}removeEventListener(e,t){const i=this._listeners;if(i===void 0)return;const s=i[e];if(s!==void 0){const r=s.indexOf(t);r!==-1&&s.splice(r,1)}}dispatchEvent(e){const t=this._listeners;if(t===void 0)return;const i=t[e.type];if(i!==void 0){e.target=this;const s=i.slice(0);for(let r=0,o=s.length;r<o;r++)s[r].call(this,e);e.target=null}}}const Gs=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let QC=1234567;const rh=Math.PI/180,pp=180/Math.PI;function sr(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(Gs[n&255]+Gs[n>>8&255]+Gs[n>>16&255]+Gs[n>>24&255]+"-"+Gs[e&255]+Gs[e>>8&255]+"-"+Gs[e>>16&15|64]+Gs[e>>24&255]+"-"+Gs[t&63|128]+Gs[t>>8&255]+"-"+Gs[t>>16&255]+Gs[t>>24&255]+Gs[i&255]+Gs[i>>8&255]+Gs[i>>16&255]+Gs[i>>24&255]).toLowerCase()}function Jt(n,e,t){return Math.max(e,Math.min(t,n))}function F1(n,e){return(n%e+e)%e}function iV(n,e,t,i,s){return i+(n-e)*(s-i)/(t-e)}function sV(n,e,t){return n!==e?(t-n)/(e-n):0}function zg(n,e,t){return(1-t)*n+t*e}function aV(n,e,t,i){return zg(n,e,1-Math.exp(-t*i))}function rV(n,e=1){return e-Math.abs(F1(n,e*2)-e)}function oV(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function lV(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function cV(n,e){return n+Math.floor(Math.random()*(e-n+1))}function uV(n,e){return n+Math.random()*(e-n)}function fV(n){return n*(.5-Math.random())}function hV(n){n!==void 0&&(QC=n);let e=QC+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function dV(n){return n*rh}function pV(n){return n*pp}function mV(n){return(n&n-1)===0&&n!==0}function gV(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function yV(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function vV(n,e,t,i,s){const r=Math.cos,o=Math.sin,u=r(t/2),h=o(t/2),p=r((e+i)/2),m=o((e+i)/2),y=r((e-i)/2),x=o((e-i)/2),_=r((i-e)/2),M=o((i-e)/2);switch(s){case"XYX":n.set(u*m,h*y,h*x,u*p);break;case"YZY":n.set(h*x,u*m,h*y,u*p);break;case"ZXZ":n.set(h*y,h*x,u*m,u*p);break;case"XZX":n.set(u*m,h*M,h*_,u*p);break;case"YXY":n.set(h*_,u*m,h*M,u*p);break;case"ZYZ":n.set(h*M,h*_,u*m,u*p);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+s)}}function pa(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function tn(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return Math.round(n*4294967295);case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int32Array:return Math.round(n*2147483647);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}const z1={DEG2RAD:rh,RAD2DEG:pp,generateUUID:sr,clamp:Jt,euclideanModulo:F1,mapLinear:iV,inverseLerp:sV,lerp:zg,damp:aV,pingpong:rV,smoothstep:oV,smootherstep:lV,randInt:cV,randFloat:uV,randFloatSpread:fV,seededRandom:hV,degToRad:dV,radToDeg:pV,isPowerOfTwo:mV,ceilPowerOfTwo:gV,floorPowerOfTwo:yV,setQuaternionFromProperEuler:vV,normalize:tn,denormalize:pa};class Fe{constructor(e=0,t=0){Fe.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,i=this.y,s=e.elements;return this.x=s[0]*t+s[3]*i+s[6],this.y=s[1]*t+s[4]*i+s[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Jt(this.x,e.x,t.x),this.y=Jt(this.y,e.y,t.y),this}clampScalar(e,t){return this.x=Jt(this.x,e,t),this.y=Jt(this.y,e,t),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Jt(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(Jt(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y;return t*t+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const i=Math.cos(t),s=Math.sin(t),r=this.x-e.x,o=this.y-e.y;return this.x=r*i-o*s+e.x,this.y=r*s+o*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Oi{constructor(e=0,t=0,i=0,s=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=i,this._w=s}static slerpFlat(e,t,i,s,r,o,u){let h=i[s+0],p=i[s+1],m=i[s+2],y=i[s+3];const x=r[o+0],_=r[o+1],M=r[o+2],C=r[o+3];if(u===0){e[t+0]=h,e[t+1]=p,e[t+2]=m,e[t+3]=y;return}if(u===1){e[t+0]=x,e[t+1]=_,e[t+2]=M,e[t+3]=C;return}if(y!==C||h!==x||p!==_||m!==M){let E=1-u;const S=h*x+p*_+m*M+y*C,w=S>=0?1:-1,B=1-S*S;if(B>Number.EPSILON){const P=Math.sqrt(B),I=Math.atan2(P,S*w);E=Math.sin(E*I)/P,u=Math.sin(u*I)/P}const D=u*w;if(h=h*E+x*D,p=p*E+_*D,m=m*E+M*D,y=y*E+C*D,E===1-u){const P=1/Math.sqrt(h*h+p*p+m*m+y*y);h*=P,p*=P,m*=P,y*=P}}e[t]=h,e[t+1]=p,e[t+2]=m,e[t+3]=y}static multiplyQuaternionsFlat(e,t,i,s,r,o){const u=i[s],h=i[s+1],p=i[s+2],m=i[s+3],y=r[o],x=r[o+1],_=r[o+2],M=r[o+3];return e[t]=u*M+m*y+h*_-p*x,e[t+1]=h*M+m*x+p*y-u*_,e[t+2]=p*M+m*_+u*x-h*y,e[t+3]=m*M-u*y-h*x-p*_,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,i,s){return this._x=e,this._y=t,this._z=i,this._w=s,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){const i=e._x,s=e._y,r=e._z,o=e._order,u=Math.cos,h=Math.sin,p=u(i/2),m=u(s/2),y=u(r/2),x=h(i/2),_=h(s/2),M=h(r/2);switch(o){case"XYZ":this._x=x*m*y+p*_*M,this._y=p*_*y-x*m*M,this._z=p*m*M+x*_*y,this._w=p*m*y-x*_*M;break;case"YXZ":this._x=x*m*y+p*_*M,this._y=p*_*y-x*m*M,this._z=p*m*M-x*_*y,this._w=p*m*y+x*_*M;break;case"ZXY":this._x=x*m*y-p*_*M,this._y=p*_*y+x*m*M,this._z=p*m*M+x*_*y,this._w=p*m*y-x*_*M;break;case"ZYX":this._x=x*m*y-p*_*M,this._y=p*_*y+x*m*M,this._z=p*m*M-x*_*y,this._w=p*m*y+x*_*M;break;case"YZX":this._x=x*m*y+p*_*M,this._y=p*_*y+x*m*M,this._z=p*m*M-x*_*y,this._w=p*m*y-x*_*M;break;case"XZY":this._x=x*m*y-p*_*M,this._y=p*_*y-x*m*M,this._z=p*m*M+x*_*y,this._w=p*m*y+x*_*M;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return t===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const i=t/2,s=Math.sin(i);return this._x=e.x*s,this._y=e.y*s,this._z=e.z*s,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,i=t[0],s=t[4],r=t[8],o=t[1],u=t[5],h=t[9],p=t[2],m=t[6],y=t[10],x=i+u+y;if(x>0){const _=.5/Math.sqrt(x+1);this._w=.25/_,this._x=(m-h)*_,this._y=(r-p)*_,this._z=(o-s)*_}else if(i>u&&i>y){const _=2*Math.sqrt(1+i-u-y);this._w=(m-h)/_,this._x=.25*_,this._y=(s+o)/_,this._z=(r+p)/_}else if(u>y){const _=2*Math.sqrt(1+u-i-y);this._w=(r-p)/_,this._x=(s+o)/_,this._y=.25*_,this._z=(h+m)/_}else{const _=2*Math.sqrt(1+y-i-u);this._w=(o-s)/_,this._x=(r+p)/_,this._y=(h+m)/_,this._z=.25*_}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let i=e.dot(t)+1;return i<Number.EPSILON?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Jt(this.dot(e),-1,1)))}rotateTowards(e,t){const i=this.angleTo(e);if(i===0)return this;const s=Math.min(1,t/i);return this.slerp(e,s),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const i=e._x,s=e._y,r=e._z,o=e._w,u=t._x,h=t._y,p=t._z,m=t._w;return this._x=i*m+o*u+s*p-r*h,this._y=s*m+o*h+r*u-i*p,this._z=r*m+o*p+i*h-s*u,this._w=o*m-i*u-s*h-r*p,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const i=this._x,s=this._y,r=this._z,o=this._w;let u=o*e._w+i*e._x+s*e._y+r*e._z;if(u<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,u=-u):this.copy(e),u>=1)return this._w=o,this._x=i,this._y=s,this._z=r,this;const h=1-u*u;if(h<=Number.EPSILON){const _=1-t;return this._w=_*o+t*this._w,this._x=_*i+t*this._x,this._y=_*s+t*this._y,this._z=_*r+t*this._z,this.normalize(),this}const p=Math.sqrt(h),m=Math.atan2(p,u),y=Math.sin((1-t)*m)/p,x=Math.sin(t*m)/p;return this._w=o*y+this._w*x,this._x=i*y+this._x*x,this._y=s*y+this._y*x,this._z=r*y+this._z*x,this._onChangeCallback(),this}slerpQuaternions(e,t,i){return this.copy(e).slerp(t,i)}random(){const e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),i=Math.random(),s=Math.sqrt(1-i),r=Math.sqrt(i);return this.set(s*Math.sin(e),s*Math.cos(e),r*Math.sin(t),r*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class Z{constructor(e=0,t=0,i=0){Z.prototype.isVector3=!0,this.x=e,this.y=t,this.z=i}set(e,t,i){return i===void 0&&(i=this.z),this.x=e,this.y=t,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(ZC.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(ZC.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,i=this.y,s=this.z,r=e.elements;return this.x=r[0]*t+r[3]*i+r[6]*s,this.y=r[1]*t+r[4]*i+r[7]*s,this.z=r[2]*t+r[5]*i+r[8]*s,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,i=this.y,s=this.z,r=e.elements,o=1/(r[3]*t+r[7]*i+r[11]*s+r[15]);return this.x=(r[0]*t+r[4]*i+r[8]*s+r[12])*o,this.y=(r[1]*t+r[5]*i+r[9]*s+r[13])*o,this.z=(r[2]*t+r[6]*i+r[10]*s+r[14])*o,this}applyQuaternion(e){const t=this.x,i=this.y,s=this.z,r=e.x,o=e.y,u=e.z,h=e.w,p=2*(o*s-u*i),m=2*(u*t-r*s),y=2*(r*i-o*t);return this.x=t+h*p+o*y-u*m,this.y=i+h*m+u*p-r*y,this.z=s+h*y+r*m-o*p,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,i=this.y,s=this.z,r=e.elements;return this.x=r[0]*t+r[4]*i+r[8]*s,this.y=r[1]*t+r[5]*i+r[9]*s,this.z=r[2]*t+r[6]*i+r[10]*s,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Jt(this.x,e.x,t.x),this.y=Jt(this.y,e.y,t.y),this.z=Jt(this.z,e.z,t.z),this}clampScalar(e,t){return this.x=Jt(this.x,e,t),this.y=Jt(this.y,e,t),this.z=Jt(this.z,e,t),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Jt(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const i=e.x,s=e.y,r=e.z,o=t.x,u=t.y,h=t.z;return this.x=s*h-r*u,this.y=r*o-i*h,this.z=i*u-s*o,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const i=e.dot(this)/t;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return bb.copy(this).projectOnVector(e),this.sub(bb)}reflect(e){return this.sub(bb.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(Jt(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y,s=this.z-e.z;return t*t+i*i+s*s}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,i){const s=Math.sin(t)*e;return this.x=s*Math.sin(i),this.y=Math.cos(t)*e,this.z=s*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,i){return this.x=e*Math.sin(t),this.y=i,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),s=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=i,this.z=s,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,t=Math.random()*2-1,i=Math.sqrt(1-t*t);return this.x=i*Math.cos(e),this.y=t,this.z=i*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const bb=new Z,ZC=new Oi;class Zt{constructor(e,t,i,s,r,o,u,h,p){Zt.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,i,s,r,o,u,h,p)}set(e,t,i,s,r,o,u,h,p){const m=this.elements;return m[0]=e,m[1]=s,m[2]=u,m[3]=t,m[4]=r,m[5]=h,m[6]=i,m[7]=o,m[8]=p,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],this}extractBasis(e,t,i){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,s=t.elements,r=this.elements,o=i[0],u=i[3],h=i[6],p=i[1],m=i[4],y=i[7],x=i[2],_=i[5],M=i[8],C=s[0],E=s[3],S=s[6],w=s[1],B=s[4],D=s[7],P=s[2],I=s[5],G=s[8];return r[0]=o*C+u*w+h*P,r[3]=o*E+u*B+h*I,r[6]=o*S+u*D+h*G,r[1]=p*C+m*w+y*P,r[4]=p*E+m*B+y*I,r[7]=p*S+m*D+y*G,r[2]=x*C+_*w+M*P,r[5]=x*E+_*B+M*I,r[8]=x*S+_*D+M*G,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[1],s=e[2],r=e[3],o=e[4],u=e[5],h=e[6],p=e[7],m=e[8];return t*o*m-t*u*p-i*r*m+i*u*h+s*r*p-s*o*h}invert(){const e=this.elements,t=e[0],i=e[1],s=e[2],r=e[3],o=e[4],u=e[5],h=e[6],p=e[7],m=e[8],y=m*o-u*p,x=u*h-m*r,_=p*r-o*h,M=t*y+i*x+s*_;if(M===0)return this.set(0,0,0,0,0,0,0,0,0);const C=1/M;return e[0]=y*C,e[1]=(s*p-m*i)*C,e[2]=(u*i-s*o)*C,e[3]=x*C,e[4]=(m*t-s*h)*C,e[5]=(s*r-u*t)*C,e[6]=_*C,e[7]=(i*h-p*t)*C,e[8]=(o*t-i*r)*C,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,i,s,r,o,u){const h=Math.cos(r),p=Math.sin(r);return this.set(i*h,i*p,-i*(h*o+p*u)+o+e,-s*p,s*h,-s*(-p*o+h*u)+u+t,0,0,1),this}scale(e,t){return this.premultiply(Sb.makeScale(e,t)),this}rotate(e){return this.premultiply(Sb.makeRotation(-e)),this}translate(e,t){return this.premultiply(Sb.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,i,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,i=e.elements;for(let s=0;s<9;s++)if(t[s]!==i[s])return!1;return!0}fromArray(e,t=0){for(let i=0;i<9;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const Sb=new Zt;function eN(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}const xV={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Kd(n,e){return new xV[n](e)}function i0(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function tN(){const n=i0("canvas");return n.style.display="block",n}const $C={};function ep(n){n in $C||($C[n]=!0,console.warn(n))}function _V(n,e,t){return new Promise(function(i,s){function r(){switch(n.clientWaitSync(e,n.SYNC_FLUSH_COMMANDS_BIT,0)){case n.WAIT_FAILED:s();break;case n.TIMEOUT_EXPIRED:setTimeout(r,t);break;default:i()}}setTimeout(r,t)})}function AV(n){const e=n.elements;e[2]=.5*e[2]+.5*e[3],e[6]=.5*e[6]+.5*e[7],e[10]=.5*e[10]+.5*e[11],e[14]=.5*e[14]+.5*e[15]}function bV(n){const e=n.elements;e[11]===-1?(e[10]=-e[10]-1,e[14]=-e[14]):(e[10]=-e[10],e[14]=-e[14]+1)}const eR=new Zt().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),tR=new Zt().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function SV(){const n={enabled:!0,workingColorSpace:Eu,spaces:{},convert:function(s,r,o){return this.enabled===!1||r===o||!r||!o||(this.spaces[r].transfer===kn&&(s.r=ac(s.r),s.g=ac(s.g),s.b=ac(s.b)),this.spaces[r].primaries!==this.spaces[o].primaries&&(s.applyMatrix3(this.spaces[r].toXYZ),s.applyMatrix3(this.spaces[o].fromXYZ)),this.spaces[o].transfer===kn&&(s.r=tp(s.r),s.g=tp(s.g),s.b=tp(s.b))),s},workingToColorSpace:function(s,r){return this.convert(s,this.workingColorSpace,r)},colorSpaceToWorking:function(s,r){return this.convert(s,r,this.workingColorSpace)},getPrimaries:function(s){return this.spaces[s].primaries},getTransfer:function(s){return s===$l?e0:this.spaces[s].transfer},getLuminanceCoefficients:function(s,r=this.workingColorSpace){return s.fromArray(this.spaces[r].luminanceCoefficients)},define:function(s){Object.assign(this.spaces,s)},_getMatrix:function(s,r,o){return s.copy(this.spaces[r].toXYZ).multiply(this.spaces[o].fromXYZ)},_getDrawingBufferColorSpace:function(s){return this.spaces[s].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(s=this.workingColorSpace){return this.spaces[s].workingColorSpaceConfig.unpackColorSpace},fromWorkingColorSpace:function(s,r){return ep("THREE.ColorManagement: .fromWorkingColorSpace() has been renamed to .workingToColorSpace()."),n.workingToColorSpace(s,r)},toWorkingColorSpace:function(s,r){return ep("THREE.ColorManagement: .toWorkingColorSpace() has been renamed to .colorSpaceToWorking()."),n.colorSpaceToWorking(s,r)}},e=[.64,.33,.3,.6,.15,.06],t=[.2126,.7152,.0722],i=[.3127,.329];return n.define({[Eu]:{primaries:e,whitePoint:i,transfer:e0,toXYZ:eR,fromXYZ:tR,luminanceCoefficients:t,workingColorSpaceConfig:{unpackColorSpace:Xs},outputColorSpaceConfig:{drawingBufferColorSpace:Xs}},[Xs]:{primaries:e,whitePoint:i,transfer:kn,toXYZ:eR,fromXYZ:tR,luminanceCoefficients:t,outputColorSpaceConfig:{drawingBufferColorSpace:Xs}}}),n}const bn=SV();function ac(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function tp(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}let Ad;class nN{static getDataURL(e,t="image/png"){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let i;if(e instanceof HTMLCanvasElement)i=e;else{Ad===void 0&&(Ad=i0("canvas")),Ad.width=e.width,Ad.height=e.height;const s=Ad.getContext("2d");e instanceof ImageData?s.putImageData(e,0,0):s.drawImage(e,0,0,e.width,e.height),i=Ad}return i.toDataURL(t)}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=i0("canvas");t.width=e.width,t.height=e.height;const i=t.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const s=i.getImageData(0,0,e.width,e.height),r=s.data;for(let o=0;o<r.length;o++)r[o]=ac(r[o]/255)*255;return i.putImageData(s,0,0),t}else if(e.data){const t=e.data.slice(0);for(let i=0;i<t.length;i++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[i]=Math.floor(ac(t[i]/255)*255):t[i]=ac(t[i]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let MV=0;class _u{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:MV++}),this.uuid=sr(),this.data=e,this.dataReady=!0,this.version=0}getSize(e){const t=this.data;return t instanceof HTMLVideoElement?e.set(t.videoWidth,t.videoHeight):t!==null?e.set(t.width,t.height,t.depth||0):e.set(0,0,0),e}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const i={uuid:this.uuid,url:""},s=this.data;if(s!==null){let r;if(Array.isArray(s)){r=[];for(let o=0,u=s.length;o<u;o++)s[o].isDataTexture?r.push(Mb(s[o].image)):r.push(Mb(s[o]))}else r=Mb(s);i.url=r}return t||(e.images[this.uuid]=i),i}}function Mb(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?nN.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let EV=0;const Eb=new Z;class oi extends vl{constructor(e=oi.DEFAULT_IMAGE,t=oi.DEFAULT_MAPPING,i=nr,s=nr,r=Ui,o=Ur,u=js,h=Or,p=oi.DEFAULT_ANISOTROPY,m=$l){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:EV++}),this.uuid=sr(),this.name="",this.source=new _u(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=i,this.wrapT=s,this.magFilter=r,this.minFilter=o,this.anisotropy=p,this.format=u,this.internalFormat=null,this.type=h,this.offset=new Fe(0,0),this.repeat=new Fe(1,1),this.center=new Fe(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Zt,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=m,this.userData={},this.updateRanges=[],this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isArrayTexture=!!(e&&e.depth&&e.depth>1),this.pmremVersion=0}get width(){return this.source.getSize(Eb).x}get height(){return this.source.getSize(Eb).y}get depth(){return this.source.getSize(Eb).z}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.isArrayTexture=e.isArrayTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}setValues(e){for(const t in e){const i=e[t];if(i===void 0){console.warn(`THREE.Texture.setValues(): parameter '${t}' has value of undefined.`);continue}const s=this[t];if(s===void 0){console.warn(`THREE.Texture.setValues(): property '${t}' does not exist.`);continue}s&&i&&s.isVector2&&i.isVector2||s&&i&&s.isVector3&&i.isVector3||s&&i&&s.isMatrix3&&i.isMatrix3?s.copy(i):this[t]=i}}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const i={metadata:{version:4.7,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),t||(e.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==P_)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Mu:e.x=e.x-Math.floor(e.x);break;case nr:e.x=e.x<0?0:1;break;case op:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Mu:e.y=e.y-Math.floor(e.y);break;case nr:e.y=e.y<0?0:1;break;case op:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}oi.DEFAULT_IMAGE=null;oi.DEFAULT_MAPPING=P_;oi.DEFAULT_ANISOTROPY=1;class mn{constructor(e=0,t=0,i=0,s=1){mn.prototype.isVector4=!0,this.x=e,this.y=t,this.z=i,this.w=s}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,i,s){return this.x=e,this.y=t,this.z=i,this.w=s,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,i=this.y,s=this.z,r=this.w,o=e.elements;return this.x=o[0]*t+o[4]*i+o[8]*s+o[12]*r,this.y=o[1]*t+o[5]*i+o[9]*s+o[13]*r,this.z=o[2]*t+o[6]*i+o[10]*s+o[14]*r,this.w=o[3]*t+o[7]*i+o[11]*s+o[15]*r,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,i,s,r;const h=e.elements,p=h[0],m=h[4],y=h[8],x=h[1],_=h[5],M=h[9],C=h[2],E=h[6],S=h[10];if(Math.abs(m-x)<.01&&Math.abs(y-C)<.01&&Math.abs(M-E)<.01){if(Math.abs(m+x)<.1&&Math.abs(y+C)<.1&&Math.abs(M+E)<.1&&Math.abs(p+_+S-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const B=(p+1)/2,D=(_+1)/2,P=(S+1)/2,I=(m+x)/4,G=(y+C)/4,z=(M+E)/4;return B>D&&B>P?B<.01?(i=0,s=.707106781,r=.707106781):(i=Math.sqrt(B),s=I/i,r=G/i):D>P?D<.01?(i=.707106781,s=0,r=.707106781):(s=Math.sqrt(D),i=I/s,r=z/s):P<.01?(i=.707106781,s=.707106781,r=0):(r=Math.sqrt(P),i=G/r,s=z/r),this.set(i,s,r,t),this}let w=Math.sqrt((E-M)*(E-M)+(y-C)*(y-C)+(x-m)*(x-m));return Math.abs(w)<.001&&(w=1),this.x=(E-M)/w,this.y=(y-C)/w,this.z=(x-m)/w,this.w=Math.acos((p+_+S-1)/2),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this.w=t[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Jt(this.x,e.x,t.x),this.y=Jt(this.y,e.y,t.y),this.z=Jt(this.z,e.z,t.z),this.w=Jt(this.w,e.w,t.w),this}clampScalar(e,t){return this.x=Jt(this.x,e,t),this.y=Jt(this.y,e,t),this.z=Jt(this.z,e,t),this.w=Jt(this.w,e,t),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Jt(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this.w=e.w+(t.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class H1 extends vl{constructor(e=1,t=1,i={}){super(),i=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Ui,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,depth:1,multiview:!1},i),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=i.depth,this.scissor=new mn(0,0,e,t),this.scissorTest=!1,this.viewport=new mn(0,0,e,t);const s={width:e,height:t,depth:i.depth},r=new oi(s);this.textures=[];const o=i.count;for(let u=0;u<o;u++)this.textures[u]=r.clone(),this.textures[u].isRenderTargetTexture=!0,this.textures[u].renderTarget=this;this._setTextureOptions(i),this.depthBuffer=i.depthBuffer,this.stencilBuffer=i.stencilBuffer,this.resolveDepthBuffer=i.resolveDepthBuffer,this.resolveStencilBuffer=i.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=i.depthTexture,this.samples=i.samples,this.multiview=i.multiview}_setTextureOptions(e={}){const t={minFilter:Ui,generateMipmaps:!1,flipY:!1,internalFormat:null};e.mapping!==void 0&&(t.mapping=e.mapping),e.wrapS!==void 0&&(t.wrapS=e.wrapS),e.wrapT!==void 0&&(t.wrapT=e.wrapT),e.wrapR!==void 0&&(t.wrapR=e.wrapR),e.magFilter!==void 0&&(t.magFilter=e.magFilter),e.minFilter!==void 0&&(t.minFilter=e.minFilter),e.format!==void 0&&(t.format=e.format),e.type!==void 0&&(t.type=e.type),e.anisotropy!==void 0&&(t.anisotropy=e.anisotropy),e.colorSpace!==void 0&&(t.colorSpace=e.colorSpace),e.flipY!==void 0&&(t.flipY=e.flipY),e.generateMipmaps!==void 0&&(t.generateMipmaps=e.generateMipmaps),e.internalFormat!==void 0&&(t.internalFormat=e.internalFormat);for(let i=0;i<this.textures.length;i++)this.textures[i].setValues(t)}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,t,i=1){if(this.width!==e||this.height!==t||this.depth!==i){this.width=e,this.height=t,this.depth=i;for(let s=0,r=this.textures.length;s<r;s++)this.textures[s].image.width=e,this.textures[s].image.height=t,this.textures[s].image.depth=i,this.textures[s].isArrayTexture=this.textures[s].image.depth>1;this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let t=0,i=e.textures.length;t<i;t++){this.textures[t]=e.textures[t].clone(),this.textures[t].isRenderTargetTexture=!0,this.textures[t].renderTarget=this;const s=Object.assign({},e.textures[t].image);this.textures[t].source=new _u(s)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class ml extends H1{constructor(e=1,t=1,i={}){super(e,t,i),this.isWebGLRenderTarget=!0}}class j_ extends oi{constructor(e=null,t=1,i=1,s=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:i,depth:s},this.magFilter=ms,this.minFilter=ms,this.wrapR=nr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class TV extends ml{constructor(e=1,t=1,i=1,s={}){super(e,t,s),this.isWebGLArrayRenderTarget=!0,this.depth=i,this.texture=new j_(null,e,t,i),this._setTextureOptions(s),this.texture.isRenderTargetTexture=!0}}class Y_ extends oi{constructor(e=null,t=1,i=1,s=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:i,depth:s},this.magFilter=ms,this.minFilter=ms,this.wrapR=nr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class CV extends ml{constructor(e=1,t=1,i=1,s={}){super(e,t,s),this.isWebGL3DRenderTarget=!0,this.depth=i,this.texture=new Y_(null,e,t,i),this._setTextureOptions(s),this.texture.isRenderTargetTexture=!0}}class ws{constructor(e=new Z(1/0,1/0,1/0),t=new Z(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t+=3)this.expandByPoint(co.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,i=e.count;t<i;t++)this.expandByPoint(co.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=co.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const i=e.geometry;if(i!==void 0){const r=i.getAttribute("position");if(t===!0&&r!==void 0&&e.isInstancedMesh!==!0)for(let o=0,u=r.count;o<u;o++)e.isMesh===!0?e.getVertexPosition(o,co):co.fromBufferAttribute(r,o),co.applyMatrix4(e.matrixWorld),this.expandByPoint(co);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),mv.copy(e.boundingBox)):(i.boundingBox===null&&i.computeBoundingBox(),mv.copy(i.boundingBox)),mv.applyMatrix4(e.matrixWorld),this.union(mv)}const s=e.children;for(let r=0,o=s.length;r<o;r++)this.expandByObject(s[r],t);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,co),co.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,i;return e.normal.x>0?(t=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),t<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(ng),gv.subVectors(this.max,ng),bd.subVectors(e.a,ng),Sd.subVectors(e.b,ng),Md.subVectors(e.c,ng),ou.subVectors(Sd,bd),lu.subVectors(Md,Sd),Cf.subVectors(bd,Md);let t=[0,-ou.z,ou.y,0,-lu.z,lu.y,0,-Cf.z,Cf.y,ou.z,0,-ou.x,lu.z,0,-lu.x,Cf.z,0,-Cf.x,-ou.y,ou.x,0,-lu.y,lu.x,0,-Cf.y,Cf.x,0];return!Tb(t,bd,Sd,Md,gv)||(t=[1,0,0,0,1,0,0,0,1],!Tb(t,bd,Sd,Md,gv))?!1:(yv.crossVectors(ou,lu),t=[yv.x,yv.y,yv.z],Tb(t,bd,Sd,Md,gv))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,co).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(co).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(kl[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),kl[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),kl[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),kl[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),kl[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),kl[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),kl[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),kl[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(kl),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}toJSON(){return{min:this.min.toArray(),max:this.max.toArray()}}fromJSON(e){return this.min.fromArray(e.min),this.max.fromArray(e.max),this}}const kl=[new Z,new Z,new Z,new Z,new Z,new Z,new Z,new Z],co=new Z,mv=new ws,bd=new Z,Sd=new Z,Md=new Z,ou=new Z,lu=new Z,Cf=new Z,ng=new Z,gv=new Z,yv=new Z,Rf=new Z;function Tb(n,e,t,i,s){for(let r=0,o=n.length-3;r<=o;r+=3){Rf.fromArray(n,r);const u=s.x*Math.abs(Rf.x)+s.y*Math.abs(Rf.y)+s.z*Math.abs(Rf.z),h=e.dot(Rf),p=t.dot(Rf),m=i.dot(Rf);if(Math.max(-Math.max(h,p,m),Math.min(h,p,m))>u)return!1}return!0}const RV=new ws,ig=new Z,Cb=new Z;class gs{constructor(e=new Z,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const i=this.center;t!==void 0?i.copy(t):RV.setFromPoints(e).getCenter(i);let s=0;for(let r=0,o=e.length;r<o;r++)s=Math.max(s,i.distanceToSquared(e[r]));return this.radius=Math.sqrt(s),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const i=this.center.distanceToSquared(e);return t.copy(e),i>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;ig.subVectors(e,this.center);const t=ig.lengthSq();if(t>this.radius*this.radius){const i=Math.sqrt(t),s=(i-this.radius)*.5;this.center.addScaledVector(ig,s/i),this.radius+=s}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(Cb.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(ig.copy(e.center).add(Cb)),this.expandByPoint(ig.copy(e.center).sub(Cb))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}toJSON(){return{radius:this.radius,center:this.center.toArray()}}fromJSON(e){return this.radius=e.radius,this.center.fromArray(e.center),this}}const Xl=new Z,Rb=new Z,vv=new Z,cu=new Z,wb=new Z,xv=new Z,Bb=new Z;class Bp{constructor(e=new Z,t=new Z(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Xl)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const i=t.dot(this.direction);return i<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Xl.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Xl.copy(this.origin).addScaledVector(this.direction,t),Xl.distanceToSquared(e))}distanceSqToSegment(e,t,i,s){Rb.copy(e).add(t).multiplyScalar(.5),vv.copy(t).sub(e).normalize(),cu.copy(this.origin).sub(Rb);const r=e.distanceTo(t)*.5,o=-this.direction.dot(vv),u=cu.dot(this.direction),h=-cu.dot(vv),p=cu.lengthSq(),m=Math.abs(1-o*o);let y,x,_,M;if(m>0)if(y=o*h-u,x=o*u-h,M=r*m,y>=0)if(x>=-M)if(x<=M){const C=1/m;y*=C,x*=C,_=y*(y+o*x+2*u)+x*(o*y+x+2*h)+p}else x=r,y=Math.max(0,-(o*x+u)),_=-y*y+x*(x+2*h)+p;else x=-r,y=Math.max(0,-(o*x+u)),_=-y*y+x*(x+2*h)+p;else x<=-M?(y=Math.max(0,-(-o*r+u)),x=y>0?-r:Math.min(Math.max(-r,-h),r),_=-y*y+x*(x+2*h)+p):x<=M?(y=0,x=Math.min(Math.max(-r,-h),r),_=x*(x+2*h)+p):(y=Math.max(0,-(o*r+u)),x=y>0?r:Math.min(Math.max(-r,-h),r),_=-y*y+x*(x+2*h)+p);else x=o>0?-r:r,y=Math.max(0,-(o*x+u)),_=-y*y+x*(x+2*h)+p;return i&&i.copy(this.origin).addScaledVector(this.direction,y),s&&s.copy(Rb).addScaledVector(vv,x),_}intersectSphere(e,t){Xl.subVectors(e.center,this.origin);const i=Xl.dot(this.direction),s=Xl.dot(Xl)-i*i,r=e.radius*e.radius;if(s>r)return null;const o=Math.sqrt(r-s),u=i-o,h=i+o;return h<0?null:u<0?this.at(h,t):this.at(u,t)}intersectsSphere(e){return e.radius<0?!1:this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/t;return i>=0?i:null}intersectPlane(e,t){const i=this.distanceToPlane(e);return i===null?null:this.at(i,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let i,s,r,o,u,h;const p=1/this.direction.x,m=1/this.direction.y,y=1/this.direction.z,x=this.origin;return p>=0?(i=(e.min.x-x.x)*p,s=(e.max.x-x.x)*p):(i=(e.max.x-x.x)*p,s=(e.min.x-x.x)*p),m>=0?(r=(e.min.y-x.y)*m,o=(e.max.y-x.y)*m):(r=(e.max.y-x.y)*m,o=(e.min.y-x.y)*m),i>o||r>s||((r>i||isNaN(i))&&(i=r),(o<s||isNaN(s))&&(s=o),y>=0?(u=(e.min.z-x.z)*y,h=(e.max.z-x.z)*y):(u=(e.max.z-x.z)*y,h=(e.min.z-x.z)*y),i>h||u>s)||((u>i||i!==i)&&(i=u),(h<s||s!==s)&&(s=h),s<0)?null:this.at(i>=0?i:s,t)}intersectsBox(e){return this.intersectBox(e,Xl)!==null}intersectTriangle(e,t,i,s,r){wb.subVectors(t,e),xv.subVectors(i,e),Bb.crossVectors(wb,xv);let o=this.direction.dot(Bb),u;if(o>0){if(s)return null;u=1}else if(o<0)u=-1,o=-o;else return null;cu.subVectors(this.origin,e);const h=u*this.direction.dot(xv.crossVectors(cu,xv));if(h<0)return null;const p=u*this.direction.dot(wb.cross(cu));if(p<0||h+p>o)return null;const m=-u*cu.dot(Bb);return m<0?null:this.at(m/o,r)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Nt{constructor(e,t,i,s,r,o,u,h,p,m,y,x,_,M,C,E){Nt.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,i,s,r,o,u,h,p,m,y,x,_,M,C,E)}set(e,t,i,s,r,o,u,h,p,m,y,x,_,M,C,E){const S=this.elements;return S[0]=e,S[4]=t,S[8]=i,S[12]=s,S[1]=r,S[5]=o,S[9]=u,S[13]=h,S[2]=p,S[6]=m,S[10]=y,S[14]=x,S[3]=_,S[7]=M,S[11]=C,S[15]=E,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Nt().fromArray(this.elements)}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15],this}copyPosition(e){const t=this.elements,i=e.elements;return t[12]=i[12],t[13]=i[13],t[14]=i[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,i){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,t,i){return this.set(e.x,t.x,i.x,0,e.y,t.y,i.y,0,e.z,t.z,i.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,i=e.elements,s=1/Ed.setFromMatrixColumn(e,0).length(),r=1/Ed.setFromMatrixColumn(e,1).length(),o=1/Ed.setFromMatrixColumn(e,2).length();return t[0]=i[0]*s,t[1]=i[1]*s,t[2]=i[2]*s,t[3]=0,t[4]=i[4]*r,t[5]=i[5]*r,t[6]=i[6]*r,t[7]=0,t[8]=i[8]*o,t[9]=i[9]*o,t[10]=i[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,i=e.x,s=e.y,r=e.z,o=Math.cos(i),u=Math.sin(i),h=Math.cos(s),p=Math.sin(s),m=Math.cos(r),y=Math.sin(r);if(e.order==="XYZ"){const x=o*m,_=o*y,M=u*m,C=u*y;t[0]=h*m,t[4]=-h*y,t[8]=p,t[1]=_+M*p,t[5]=x-C*p,t[9]=-u*h,t[2]=C-x*p,t[6]=M+_*p,t[10]=o*h}else if(e.order==="YXZ"){const x=h*m,_=h*y,M=p*m,C=p*y;t[0]=x+C*u,t[4]=M*u-_,t[8]=o*p,t[1]=o*y,t[5]=o*m,t[9]=-u,t[2]=_*u-M,t[6]=C+x*u,t[10]=o*h}else if(e.order==="ZXY"){const x=h*m,_=h*y,M=p*m,C=p*y;t[0]=x-C*u,t[4]=-o*y,t[8]=M+_*u,t[1]=_+M*u,t[5]=o*m,t[9]=C-x*u,t[2]=-o*p,t[6]=u,t[10]=o*h}else if(e.order==="ZYX"){const x=o*m,_=o*y,M=u*m,C=u*y;t[0]=h*m,t[4]=M*p-_,t[8]=x*p+C,t[1]=h*y,t[5]=C*p+x,t[9]=_*p-M,t[2]=-p,t[6]=u*h,t[10]=o*h}else if(e.order==="YZX"){const x=o*h,_=o*p,M=u*h,C=u*p;t[0]=h*m,t[4]=C-x*y,t[8]=M*y+_,t[1]=y,t[5]=o*m,t[9]=-u*m,t[2]=-p*m,t[6]=_*y+M,t[10]=x-C*y}else if(e.order==="XZY"){const x=o*h,_=o*p,M=u*h,C=u*p;t[0]=h*m,t[4]=-y,t[8]=p*m,t[1]=x*y+C,t[5]=o*m,t[9]=_*y-M,t[2]=M*y-_,t[6]=u*m,t[10]=C*y+x}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(wV,e,BV)}lookAt(e,t,i){const s=this.elements;return er.subVectors(e,t),er.lengthSq()===0&&(er.z=1),er.normalize(),uu.crossVectors(i,er),uu.lengthSq()===0&&(Math.abs(i.z)===1?er.x+=1e-4:er.z+=1e-4,er.normalize(),uu.crossVectors(i,er)),uu.normalize(),_v.crossVectors(er,uu),s[0]=uu.x,s[4]=_v.x,s[8]=er.x,s[1]=uu.y,s[5]=_v.y,s[9]=er.y,s[2]=uu.z,s[6]=_v.z,s[10]=er.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,s=t.elements,r=this.elements,o=i[0],u=i[4],h=i[8],p=i[12],m=i[1],y=i[5],x=i[9],_=i[13],M=i[2],C=i[6],E=i[10],S=i[14],w=i[3],B=i[7],D=i[11],P=i[15],I=s[0],G=s[4],z=s[8],U=s[12],O=s[1],W=s[5],ce=s[9],se=s[13],me=s[2],fe=s[6],F=s[10],q=s[14],Y=s[3],ue=s[7],X=s[11],ie=s[15];return r[0]=o*I+u*O+h*me+p*Y,r[4]=o*G+u*W+h*fe+p*ue,r[8]=o*z+u*ce+h*F+p*X,r[12]=o*U+u*se+h*q+p*ie,r[1]=m*I+y*O+x*me+_*Y,r[5]=m*G+y*W+x*fe+_*ue,r[9]=m*z+y*ce+x*F+_*X,r[13]=m*U+y*se+x*q+_*ie,r[2]=M*I+C*O+E*me+S*Y,r[6]=M*G+C*W+E*fe+S*ue,r[10]=M*z+C*ce+E*F+S*X,r[14]=M*U+C*se+E*q+S*ie,r[3]=w*I+B*O+D*me+P*Y,r[7]=w*G+B*W+D*fe+P*ue,r[11]=w*z+B*ce+D*F+P*X,r[15]=w*U+B*se+D*q+P*ie,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[4],s=e[8],r=e[12],o=e[1],u=e[5],h=e[9],p=e[13],m=e[2],y=e[6],x=e[10],_=e[14],M=e[3],C=e[7],E=e[11],S=e[15];return M*(+r*h*y-s*p*y-r*u*x+i*p*x+s*u*_-i*h*_)+C*(+t*h*_-t*p*x+r*o*x-s*o*_+s*p*m-r*h*m)+E*(+t*p*y-t*u*_-r*o*y+i*o*_+r*u*m-i*p*m)+S*(-s*u*m-t*h*y+t*u*x+s*o*y-i*o*x+i*h*m)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,i){const s=this.elements;return e.isVector3?(s[12]=e.x,s[13]=e.y,s[14]=e.z):(s[12]=e,s[13]=t,s[14]=i),this}invert(){const e=this.elements,t=e[0],i=e[1],s=e[2],r=e[3],o=e[4],u=e[5],h=e[6],p=e[7],m=e[8],y=e[9],x=e[10],_=e[11],M=e[12],C=e[13],E=e[14],S=e[15],w=y*E*p-C*x*p+C*h*_-u*E*_-y*h*S+u*x*S,B=M*x*p-m*E*p-M*h*_+o*E*_+m*h*S-o*x*S,D=m*C*p-M*y*p+M*u*_-o*C*_-m*u*S+o*y*S,P=M*y*h-m*C*h-M*u*x+o*C*x+m*u*E-o*y*E,I=t*w+i*B+s*D+r*P;if(I===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const G=1/I;return e[0]=w*G,e[1]=(C*x*r-y*E*r-C*s*_+i*E*_+y*s*S-i*x*S)*G,e[2]=(u*E*r-C*h*r+C*s*p-i*E*p-u*s*S+i*h*S)*G,e[3]=(y*h*r-u*x*r-y*s*p+i*x*p+u*s*_-i*h*_)*G,e[4]=B*G,e[5]=(m*E*r-M*x*r+M*s*_-t*E*_-m*s*S+t*x*S)*G,e[6]=(M*h*r-o*E*r-M*s*p+t*E*p+o*s*S-t*h*S)*G,e[7]=(o*x*r-m*h*r+m*s*p-t*x*p-o*s*_+t*h*_)*G,e[8]=D*G,e[9]=(M*y*r-m*C*r-M*i*_+t*C*_+m*i*S-t*y*S)*G,e[10]=(o*C*r-M*u*r+M*i*p-t*C*p-o*i*S+t*u*S)*G,e[11]=(m*u*r-o*y*r-m*i*p+t*y*p+o*i*_-t*u*_)*G,e[12]=P*G,e[13]=(m*C*s-M*y*s+M*i*x-t*C*x-m*i*E+t*y*E)*G,e[14]=(M*u*s-o*C*s-M*i*h+t*C*h+o*i*E-t*u*E)*G,e[15]=(o*y*s-m*u*s+m*i*h-t*y*h-o*i*x+t*u*x)*G,this}scale(e){const t=this.elements,i=e.x,s=e.y,r=e.z;return t[0]*=i,t[4]*=s,t[8]*=r,t[1]*=i,t[5]*=s,t[9]*=r,t[2]*=i,t[6]*=s,t[10]*=r,t[3]*=i,t[7]*=s,t[11]*=r,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],s=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,i,s))}makeTranslation(e,t,i){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,i,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,t,-i,0,0,i,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,0,i,0,0,1,0,0,-i,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,0,i,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const i=Math.cos(t),s=Math.sin(t),r=1-i,o=e.x,u=e.y,h=e.z,p=r*o,m=r*u;return this.set(p*o+i,p*u-s*h,p*h+s*u,0,p*u+s*h,m*u+i,m*h-s*o,0,p*h-s*u,m*h+s*o,r*h*h+i,0,0,0,0,1),this}makeScale(e,t,i){return this.set(e,0,0,0,0,t,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,t,i,s,r,o){return this.set(1,i,r,0,e,1,o,0,t,s,1,0,0,0,0,1),this}compose(e,t,i){const s=this.elements,r=t._x,o=t._y,u=t._z,h=t._w,p=r+r,m=o+o,y=u+u,x=r*p,_=r*m,M=r*y,C=o*m,E=o*y,S=u*y,w=h*p,B=h*m,D=h*y,P=i.x,I=i.y,G=i.z;return s[0]=(1-(C+S))*P,s[1]=(_+D)*P,s[2]=(M-B)*P,s[3]=0,s[4]=(_-D)*I,s[5]=(1-(x+S))*I,s[6]=(E+w)*I,s[7]=0,s[8]=(M+B)*G,s[9]=(E-w)*G,s[10]=(1-(x+C))*G,s[11]=0,s[12]=e.x,s[13]=e.y,s[14]=e.z,s[15]=1,this}decompose(e,t,i){const s=this.elements;let r=Ed.set(s[0],s[1],s[2]).length();const o=Ed.set(s[4],s[5],s[6]).length(),u=Ed.set(s[8],s[9],s[10]).length();this.determinant()<0&&(r=-r),e.x=s[12],e.y=s[13],e.z=s[14],uo.copy(this);const p=1/r,m=1/o,y=1/u;return uo.elements[0]*=p,uo.elements[1]*=p,uo.elements[2]*=p,uo.elements[4]*=m,uo.elements[5]*=m,uo.elements[6]*=m,uo.elements[8]*=y,uo.elements[9]*=y,uo.elements[10]*=y,t.setFromRotationMatrix(uo),i.x=r,i.y=o,i.z=u,this}makePerspective(e,t,i,s,r,o,u=Lr){const h=this.elements,p=2*r/(t-e),m=2*r/(i-s),y=(t+e)/(t-e),x=(i+s)/(i-s);let _,M;if(u===Lr)_=-(o+r)/(o-r),M=-2*o*r/(o-r);else if(u===n0)_=-o/(o-r),M=-o*r/(o-r);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+u);return h[0]=p,h[4]=0,h[8]=y,h[12]=0,h[1]=0,h[5]=m,h[9]=x,h[13]=0,h[2]=0,h[6]=0,h[10]=_,h[14]=M,h[3]=0,h[7]=0,h[11]=-1,h[15]=0,this}makeOrthographic(e,t,i,s,r,o,u=Lr){const h=this.elements,p=1/(t-e),m=1/(i-s),y=1/(o-r),x=(t+e)*p,_=(i+s)*m;let M,C;if(u===Lr)M=(o+r)*y,C=-2*y;else if(u===n0)M=r*y,C=-1*y;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+u);return h[0]=2*p,h[4]=0,h[8]=0,h[12]=-x,h[1]=0,h[5]=2*m,h[9]=0,h[13]=-_,h[2]=0,h[6]=0,h[10]=C,h[14]=-M,h[3]=0,h[7]=0,h[11]=0,h[15]=1,this}equals(e){const t=this.elements,i=e.elements;for(let s=0;s<16;s++)if(t[s]!==i[s])return!1;return!0}fromArray(e,t=0){for(let i=0;i<16;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e[t+9]=i[9],e[t+10]=i[10],e[t+11]=i[11],e[t+12]=i[12],e[t+13]=i[13],e[t+14]=i[14],e[t+15]=i[15],e}}const Ed=new Z,uo=new Nt,wV=new Z(0,0,0),BV=new Z(1,1,1),uu=new Z,_v=new Z,er=new Z,nR=new Nt,iR=new Oi;class Pa{constructor(e=0,t=0,i=0,s=Pa.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=i,this._order=s}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,i,s=this._order){return this._x=e,this._y=t,this._z=i,this._order=s,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,i=!0){const s=e.elements,r=s[0],o=s[4],u=s[8],h=s[1],p=s[5],m=s[9],y=s[2],x=s[6],_=s[10];switch(t){case"XYZ":this._y=Math.asin(Jt(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(-m,_),this._z=Math.atan2(-o,r)):(this._x=Math.atan2(x,p),this._z=0);break;case"YXZ":this._x=Math.asin(-Jt(m,-1,1)),Math.abs(m)<.9999999?(this._y=Math.atan2(u,_),this._z=Math.atan2(h,p)):(this._y=Math.atan2(-y,r),this._z=0);break;case"ZXY":this._x=Math.asin(Jt(x,-1,1)),Math.abs(x)<.9999999?(this._y=Math.atan2(-y,_),this._z=Math.atan2(-o,p)):(this._y=0,this._z=Math.atan2(h,r));break;case"ZYX":this._y=Math.asin(-Jt(y,-1,1)),Math.abs(y)<.9999999?(this._x=Math.atan2(x,_),this._z=Math.atan2(h,r)):(this._x=0,this._z=Math.atan2(-o,p));break;case"YZX":this._z=Math.asin(Jt(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(-m,p),this._y=Math.atan2(-y,r)):(this._x=0,this._y=Math.atan2(u,_));break;case"XZY":this._z=Math.asin(-Jt(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(x,p),this._y=Math.atan2(u,r)):(this._x=Math.atan2(-m,_),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,i===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,i){return nR.makeRotationFromQuaternion(e),this.setFromRotationMatrix(nR,t,i)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return iR.setFromEuler(this),this.setFromQuaternion(iR,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Pa.DEFAULT_ORDER="XYZ";class mp{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let DV=0;const sR=new Z,Td=new Oi,jl=new Nt,Av=new Z,sg=new Z,NV=new Z,UV=new Oi,aR=new Z(1,0,0),rR=new Z(0,1,0),oR=new Z(0,0,1),lR={type:"added"},LV={type:"removed"},Cd={type:"childadded",child:null},Db={type:"childremoved",child:null};class gn extends vl{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:DV++}),this.uuid=sr(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=gn.DEFAULT_UP.clone();const e=new Z,t=new Pa,i=new Oi,s=new Z(1,1,1);function r(){i.setFromEuler(t,!1)}function o(){t.setFromQuaternion(i,void 0,!1)}t._onChange(r),i._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:s},modelViewMatrix:{value:new Nt},normalMatrix:{value:new Zt}}),this.matrix=new Nt,this.matrixWorld=new Nt,this.matrixAutoUpdate=gn.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=gn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new mp,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return Td.setFromAxisAngle(e,t),this.quaternion.multiply(Td),this}rotateOnWorldAxis(e,t){return Td.setFromAxisAngle(e,t),this.quaternion.premultiply(Td),this}rotateX(e){return this.rotateOnAxis(aR,e)}rotateY(e){return this.rotateOnAxis(rR,e)}rotateZ(e){return this.rotateOnAxis(oR,e)}translateOnAxis(e,t){return sR.copy(e).applyQuaternion(this.quaternion),this.position.add(sR.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(aR,e)}translateY(e){return this.translateOnAxis(rR,e)}translateZ(e){return this.translateOnAxis(oR,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(jl.copy(this.matrixWorld).invert())}lookAt(e,t,i){e.isVector3?Av.copy(e):Av.set(e,t,i);const s=this.parent;this.updateWorldMatrix(!0,!1),sg.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?jl.lookAt(sg,Av,this.up):jl.lookAt(Av,sg,this.up),this.quaternion.setFromRotationMatrix(jl),s&&(jl.extractRotation(s.matrixWorld),Td.setFromRotationMatrix(jl),this.quaternion.premultiply(Td.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(lR),Cd.child=e,this.dispatchEvent(Cd),Cd.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(LV),Db.child=e,this.dispatchEvent(Db),Db.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),jl.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),jl.multiply(e.parent.matrixWorld)),e.applyMatrix4(jl),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(lR),Cd.child=e,this.dispatchEvent(Cd),Cd.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let i=0,s=this.children.length;i<s;i++){const o=this.children[i].getObjectByProperty(e,t);if(o!==void 0)return o}}getObjectsByProperty(e,t,i=[]){this[e]===t&&i.push(this);const s=this.children;for(let r=0,o=s.length;r<o;r++)s[r].getObjectsByProperty(e,t,i);return i}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(sg,e,NV),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(sg,UV,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let i=0,s=t.length;i<s;i++)t[i].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let i=0,s=t.length;i<s;i++)t[i].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let i=0,s=t.length;i<s;i++)t[i].updateMatrixWorld(e)}updateWorldMatrix(e,t){const i=this.parent;if(e===!0&&i!==null&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),t===!0){const s=this.children;for(let r=0,o=s.length;r<o;r++)s[r].updateWorldMatrix(!1,!0)}}toJSON(e){const t=e===void 0||typeof e=="string",i={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.7,type:"Object",generator:"Object3D.toJSON"});const s={};s.uuid=this.uuid,s.type=this.type,this.name!==""&&(s.name=this.name),this.castShadow===!0&&(s.castShadow=!0),this.receiveShadow===!0&&(s.receiveShadow=!0),this.visible===!1&&(s.visible=!1),this.frustumCulled===!1&&(s.frustumCulled=!1),this.renderOrder!==0&&(s.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(s.userData=this.userData),s.layers=this.layers.mask,s.matrix=this.matrix.toArray(),s.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(s.matrixAutoUpdate=!1),this.isInstancedMesh&&(s.type="InstancedMesh",s.count=this.count,s.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(s.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(s.type="BatchedMesh",s.perObjectFrustumCulled=this.perObjectFrustumCulled,s.sortObjects=this.sortObjects,s.drawRanges=this._drawRanges,s.reservedRanges=this._reservedRanges,s.geometryInfo=this._geometryInfo.map(u=>({...u,boundingBox:u.boundingBox?u.boundingBox.toJSON():void 0,boundingSphere:u.boundingSphere?u.boundingSphere.toJSON():void 0})),s.instanceInfo=this._instanceInfo.map(u=>({...u})),s.availableInstanceIds=this._availableInstanceIds.slice(),s.availableGeometryIds=this._availableGeometryIds.slice(),s.nextIndexStart=this._nextIndexStart,s.nextVertexStart=this._nextVertexStart,s.geometryCount=this._geometryCount,s.maxInstanceCount=this._maxInstanceCount,s.maxVertexCount=this._maxVertexCount,s.maxIndexCount=this._maxIndexCount,s.geometryInitialized=this._geometryInitialized,s.matricesTexture=this._matricesTexture.toJSON(e),s.indirectTexture=this._indirectTexture.toJSON(e),this._colorsTexture!==null&&(s.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(s.boundingSphere=this.boundingSphere.toJSON()),this.boundingBox!==null&&(s.boundingBox=this.boundingBox.toJSON()));function r(u,h){return u[h.uuid]===void 0&&(u[h.uuid]=h.toJSON(e)),h.uuid}if(this.isScene)this.background&&(this.background.isColor?s.background=this.background.toJSON():this.background.isTexture&&(s.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(s.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){s.geometry=r(e.geometries,this.geometry);const u=this.geometry.parameters;if(u!==void 0&&u.shapes!==void 0){const h=u.shapes;if(Array.isArray(h))for(let p=0,m=h.length;p<m;p++){const y=h[p];r(e.shapes,y)}else r(e.shapes,h)}}if(this.isSkinnedMesh&&(s.bindMode=this.bindMode,s.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(r(e.skeletons,this.skeleton),s.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const u=[];for(let h=0,p=this.material.length;h<p;h++)u.push(r(e.materials,this.material[h]));s.material=u}else s.material=r(e.materials,this.material);if(this.children.length>0){s.children=[];for(let u=0;u<this.children.length;u++)s.children.push(this.children[u].toJSON(e).object)}if(this.animations.length>0){s.animations=[];for(let u=0;u<this.animations.length;u++){const h=this.animations[u];s.animations.push(r(e.animations,h))}}if(t){const u=o(e.geometries),h=o(e.materials),p=o(e.textures),m=o(e.images),y=o(e.shapes),x=o(e.skeletons),_=o(e.animations),M=o(e.nodes);u.length>0&&(i.geometries=u),h.length>0&&(i.materials=h),p.length>0&&(i.textures=p),m.length>0&&(i.images=m),y.length>0&&(i.shapes=y),x.length>0&&(i.skeletons=x),_.length>0&&(i.animations=_),M.length>0&&(i.nodes=M)}return i.object=s,i;function o(u){const h=[];for(const p in u){const m=u[p];delete m.metadata,h.push(m)}return h}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let i=0;i<e.children.length;i++){const s=e.children[i];this.add(s.clone())}return this}}gn.DEFAULT_UP=new Z(0,1,0);gn.DEFAULT_MATRIX_AUTO_UPDATE=!0;gn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const fo=new Z,Yl=new Z,Nb=new Z,ql=new Z,Rd=new Z,wd=new Z,cR=new Z,Ub=new Z,Lb=new Z,Ob=new Z,Pb=new mn,Ib=new mn,Fb=new mn;class Na{constructor(e=new Z,t=new Z,i=new Z){this.a=e,this.b=t,this.c=i}static getNormal(e,t,i,s){s.subVectors(i,t),fo.subVectors(e,t),s.cross(fo);const r=s.lengthSq();return r>0?s.multiplyScalar(1/Math.sqrt(r)):s.set(0,0,0)}static getBarycoord(e,t,i,s,r){fo.subVectors(s,t),Yl.subVectors(i,t),Nb.subVectors(e,t);const o=fo.dot(fo),u=fo.dot(Yl),h=fo.dot(Nb),p=Yl.dot(Yl),m=Yl.dot(Nb),y=o*p-u*u;if(y===0)return r.set(0,0,0),null;const x=1/y,_=(p*h-u*m)*x,M=(o*m-u*h)*x;return r.set(1-_-M,M,_)}static containsPoint(e,t,i,s){return this.getBarycoord(e,t,i,s,ql)===null?!1:ql.x>=0&&ql.y>=0&&ql.x+ql.y<=1}static getInterpolation(e,t,i,s,r,o,u,h){return this.getBarycoord(e,t,i,s,ql)===null?(h.x=0,h.y=0,"z"in h&&(h.z=0),"w"in h&&(h.w=0),null):(h.setScalar(0),h.addScaledVector(r,ql.x),h.addScaledVector(o,ql.y),h.addScaledVector(u,ql.z),h)}static getInterpolatedAttribute(e,t,i,s,r,o){return Pb.setScalar(0),Ib.setScalar(0),Fb.setScalar(0),Pb.fromBufferAttribute(e,t),Ib.fromBufferAttribute(e,i),Fb.fromBufferAttribute(e,s),o.setScalar(0),o.addScaledVector(Pb,r.x),o.addScaledVector(Ib,r.y),o.addScaledVector(Fb,r.z),o}static isFrontFacing(e,t,i,s){return fo.subVectors(i,t),Yl.subVectors(e,t),fo.cross(Yl).dot(s)<0}set(e,t,i){return this.a.copy(e),this.b.copy(t),this.c.copy(i),this}setFromPointsAndIndices(e,t,i,s){return this.a.copy(e[t]),this.b.copy(e[i]),this.c.copy(e[s]),this}setFromAttributeAndIndices(e,t,i,s){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,s),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return fo.subVectors(this.c,this.b),Yl.subVectors(this.a,this.b),fo.cross(Yl).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Na.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Na.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,i,s,r){return Na.getInterpolation(e,this.a,this.b,this.c,t,i,s,r)}containsPoint(e){return Na.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Na.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const i=this.a,s=this.b,r=this.c;let o,u;Rd.subVectors(s,i),wd.subVectors(r,i),Ub.subVectors(e,i);const h=Rd.dot(Ub),p=wd.dot(Ub);if(h<=0&&p<=0)return t.copy(i);Lb.subVectors(e,s);const m=Rd.dot(Lb),y=wd.dot(Lb);if(m>=0&&y<=m)return t.copy(s);const x=h*y-m*p;if(x<=0&&h>=0&&m<=0)return o=h/(h-m),t.copy(i).addScaledVector(Rd,o);Ob.subVectors(e,r);const _=Rd.dot(Ob),M=wd.dot(Ob);if(M>=0&&_<=M)return t.copy(r);const C=_*p-h*M;if(C<=0&&p>=0&&M<=0)return u=p/(p-M),t.copy(i).addScaledVector(wd,u);const E=m*M-_*y;if(E<=0&&y-m>=0&&_-M>=0)return cR.subVectors(r,s),u=(y-m)/(y-m+(_-M)),t.copy(s).addScaledVector(cR,u);const S=1/(E+C+x);return o=C*S,u=x*S,t.copy(i).addScaledVector(Rd,o).addScaledVector(wd,u)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const iN={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},fu={h:0,s:0,l:0},bv={h:0,s:0,l:0};function zb(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}class nt{constructor(e,t,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,i)}set(e,t,i){if(t===void 0&&i===void 0){const s=e;s&&s.isColor?this.copy(s):typeof s=="number"?this.setHex(s):typeof s=="string"&&this.setStyle(s)}else this.setRGB(e,t,i);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=Xs){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,bn.colorSpaceToWorking(this,t),this}setRGB(e,t,i,s=bn.workingColorSpace){return this.r=e,this.g=t,this.b=i,bn.colorSpaceToWorking(this,s),this}setHSL(e,t,i,s=bn.workingColorSpace){if(e=F1(e,1),t=Jt(t,0,1),i=Jt(i,0,1),t===0)this.r=this.g=this.b=i;else{const r=i<=.5?i*(1+t):i+t-i*t,o=2*i-r;this.r=zb(o,r,e+1/3),this.g=zb(o,r,e),this.b=zb(o,r,e-1/3)}return bn.colorSpaceToWorking(this,s),this}setStyle(e,t=Xs){function i(r){r!==void 0&&parseFloat(r)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let s;if(s=/^(\w+)\(([^\)]*)\)/.exec(e)){let r;const o=s[1],u=s[2];switch(o){case"rgb":case"rgba":if(r=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(u))return i(r[4]),this.setRGB(Math.min(255,parseInt(r[1],10))/255,Math.min(255,parseInt(r[2],10))/255,Math.min(255,parseInt(r[3],10))/255,t);if(r=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(u))return i(r[4]),this.setRGB(Math.min(100,parseInt(r[1],10))/100,Math.min(100,parseInt(r[2],10))/100,Math.min(100,parseInt(r[3],10))/100,t);break;case"hsl":case"hsla":if(r=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(u))return i(r[4]),this.setHSL(parseFloat(r[1])/360,parseFloat(r[2])/100,parseFloat(r[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(s=/^\#([A-Fa-f\d]+)$/.exec(e)){const r=s[1],o=r.length;if(o===3)return this.setRGB(parseInt(r.charAt(0),16)/15,parseInt(r.charAt(1),16)/15,parseInt(r.charAt(2),16)/15,t);if(o===6)return this.setHex(parseInt(r,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=Xs){const i=iN[e.toLowerCase()];return i!==void 0?this.setHex(i,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=ac(e.r),this.g=ac(e.g),this.b=ac(e.b),this}copyLinearToSRGB(e){return this.r=tp(e.r),this.g=tp(e.g),this.b=tp(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Xs){return bn.workingToColorSpace(Vs.copy(this),e),Math.round(Jt(Vs.r*255,0,255))*65536+Math.round(Jt(Vs.g*255,0,255))*256+Math.round(Jt(Vs.b*255,0,255))}getHexString(e=Xs){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=bn.workingColorSpace){bn.workingToColorSpace(Vs.copy(this),t);const i=Vs.r,s=Vs.g,r=Vs.b,o=Math.max(i,s,r),u=Math.min(i,s,r);let h,p;const m=(u+o)/2;if(u===o)h=0,p=0;else{const y=o-u;switch(p=m<=.5?y/(o+u):y/(2-o-u),o){case i:h=(s-r)/y+(s<r?6:0);break;case s:h=(r-i)/y+2;break;case r:h=(i-s)/y+4;break}h/=6}return e.h=h,e.s=p,e.l=m,e}getRGB(e,t=bn.workingColorSpace){return bn.workingToColorSpace(Vs.copy(this),t),e.r=Vs.r,e.g=Vs.g,e.b=Vs.b,e}getStyle(e=Xs){bn.workingToColorSpace(Vs.copy(this),e);const t=Vs.r,i=Vs.g,s=Vs.b;return e!==Xs?`color(${e} ${t.toFixed(3)} ${i.toFixed(3)} ${s.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(i*255)},${Math.round(s*255)})`}offsetHSL(e,t,i){return this.getHSL(fu),this.setHSL(fu.h+e,fu.s+t,fu.l+i)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,i){return this.r=e.r+(t.r-e.r)*i,this.g=e.g+(t.g-e.g)*i,this.b=e.b+(t.b-e.b)*i,this}lerpHSL(e,t){this.getHSL(fu),e.getHSL(bv);const i=zg(fu.h,bv.h,t),s=zg(fu.s,bv.s,t),r=zg(fu.l,bv.l,t);return this.setHSL(i,s,r),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,i=this.g,s=this.b,r=e.elements;return this.r=r[0]*t+r[3]*i+r[6]*s,this.g=r[1]*t+r[4]*i+r[7]*s,this.b=r[2]*t+r[5]*i+r[8]*s,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Vs=new nt;nt.NAMES=iN;let OV=0;class is extends vl{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:OV++}),this.uuid=sr(),this.name="",this.type="Material",this.blending=ah,this.side=pl,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=Ux,this.blendDst=Lx,this.blendEquation=vu,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new nt(0,0,0),this.blendAlpha=0,this.depthFunc=lh,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=vM,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Xf,this.stencilZFail=Xf,this.stencilZPass=Xf,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const i=e[t];if(i===void 0){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const s=this[t];if(s===void 0){console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`);continue}s&&s.isColor?s.set(i):s&&s.isVector3&&i&&i.isVector3?s.copy(i):this[t]=i}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const i={metadata:{version:4.7,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(i.dispersion=this.dispersion),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(i.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(i.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(i.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapRotation!==void 0&&(i.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==ah&&(i.blending=this.blending),this.side!==pl&&(i.side=this.side),this.vertexColors===!0&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=!0),this.blendSrc!==Ux&&(i.blendSrc=this.blendSrc),this.blendDst!==Lx&&(i.blendDst=this.blendDst),this.blendEquation!==vu&&(i.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(i.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(i.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(i.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(i.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(i.blendAlpha=this.blendAlpha),this.depthFunc!==lh&&(i.depthFunc=this.depthFunc),this.depthTest===!1&&(i.depthTest=this.depthTest),this.depthWrite===!1&&(i.depthWrite=this.depthWrite),this.colorWrite===!1&&(i.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(i.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==vM&&(i.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(i.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(i.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Xf&&(i.stencilFail=this.stencilFail),this.stencilZFail!==Xf&&(i.stencilZFail=this.stencilZFail),this.stencilZPass!==Xf&&(i.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(i.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaHash===!0&&(i.alphaHash=!0),this.alphaToCoverage===!0&&(i.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=!0),this.forceSinglePass===!0&&(i.forceSinglePass=!0),this.wireframe===!0&&(i.wireframe=!0),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=!0),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function s(r){const o=[];for(const u in r){const h=r[u];delete h.metadata,o.push(h)}return o}if(t){const r=s(e.textures),o=s(e.images);r.length>0&&(i.textures=r),o.length>0&&(i.images=o)}return i}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let i=null;if(t!==null){const s=t.length;i=new Array(s);for(let r=0;r!==s;++r)i[r]=t[r].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class ir extends is{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new nt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Pa,this.combine=x0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const ec=PV();function PV(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),i=new Uint32Array(512),s=new Uint32Array(512);for(let h=0;h<256;++h){const p=h-127;p<-27?(i[h]=0,i[h|256]=32768,s[h]=24,s[h|256]=24):p<-14?(i[h]=1024>>-p-14,i[h|256]=1024>>-p-14|32768,s[h]=-p-1,s[h|256]=-p-1):p<=15?(i[h]=p+15<<10,i[h|256]=p+15<<10|32768,s[h]=13,s[h|256]=13):p<128?(i[h]=31744,i[h|256]=64512,s[h]=24,s[h|256]=24):(i[h]=31744,i[h|256]=64512,s[h]=13,s[h|256]=13)}const r=new Uint32Array(2048),o=new Uint32Array(64),u=new Uint32Array(64);for(let h=1;h<1024;++h){let p=h<<13,m=0;for(;(p&8388608)===0;)p<<=1,m-=8388608;p&=-8388609,m+=947912704,r[h]=p|m}for(let h=1024;h<2048;++h)r[h]=939524096+(h-1024<<13);for(let h=1;h<31;++h)o[h]=h<<23;o[31]=1199570944,o[32]=2147483648;for(let h=33;h<63;++h)o[h]=2147483648+(h-32<<23);o[63]=3347054592;for(let h=1;h<64;++h)h!==32&&(u[h]=1024);return{floatView:e,uint32View:t,baseTable:i,shiftTable:s,mantissaTable:r,exponentTable:o,offsetTable:u}}function Da(n){Math.abs(n)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),n=Jt(n,-65504,65504),ec.floatView[0]=n;const e=ec.uint32View[0],t=e>>23&511;return ec.baseTable[t]+((e&8388607)>>ec.shiftTable[t])}function Mg(n){const e=n>>10;return ec.uint32View[0]=ec.mantissaTable[ec.offsetTable[e]+(n&1023)]+ec.exponentTable[e],ec.floatView[0]}class IV{static toHalfFloat(e){return Da(e)}static fromHalfFloat(e){return Mg(e)}}const ki=new Z,Sv=new Fe;let FV=0;class Cn{constructor(e,t,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:FV++}),this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=i,this.usage=t0,this.updateRanges=[],this.gpuType=La,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,i){e*=this.itemSize,i*=t.itemSize;for(let s=0,r=this.itemSize;s<r;s++)this.array[e+s]=t.array[i+s];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,i=this.count;t<i;t++)Sv.fromBufferAttribute(this,t),Sv.applyMatrix3(e),this.setXY(t,Sv.x,Sv.y);else if(this.itemSize===3)for(let t=0,i=this.count;t<i;t++)ki.fromBufferAttribute(this,t),ki.applyMatrix3(e),this.setXYZ(t,ki.x,ki.y,ki.z);return this}applyMatrix4(e){for(let t=0,i=this.count;t<i;t++)ki.fromBufferAttribute(this,t),ki.applyMatrix4(e),this.setXYZ(t,ki.x,ki.y,ki.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)ki.fromBufferAttribute(this,t),ki.applyNormalMatrix(e),this.setXYZ(t,ki.x,ki.y,ki.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)ki.fromBufferAttribute(this,t),ki.transformDirection(e),this.setXYZ(t,ki.x,ki.y,ki.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let i=this.array[e*this.itemSize+t];return this.normalized&&(i=pa(i,this.array)),i}setComponent(e,t,i){return this.normalized&&(i=tn(i,this.array)),this.array[e*this.itemSize+t]=i,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=pa(t,this.array)),t}setX(e,t){return this.normalized&&(t=tn(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=pa(t,this.array)),t}setY(e,t){return this.normalized&&(t=tn(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=pa(t,this.array)),t}setZ(e,t){return this.normalized&&(t=tn(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=pa(t,this.array)),t}setW(e,t){return this.normalized&&(t=tn(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=tn(t,this.array),i=tn(i,this.array)),this.array[e+0]=t,this.array[e+1]=i,this}setXYZ(e,t,i,s){return e*=this.itemSize,this.normalized&&(t=tn(t,this.array),i=tn(i,this.array),s=tn(s,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=s,this}setXYZW(e,t,i,s,r){return e*=this.itemSize,this.normalized&&(t=tn(t,this.array),i=tn(i,this.array),s=tn(s,this.array),r=tn(r,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=s,this.array[e+3]=r,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==t0&&(e.usage=this.usage),e}}class zV extends Cn{constructor(e,t,i){super(new Int8Array(e),t,i)}}class HV extends Cn{constructor(e,t,i){super(new Uint8Array(e),t,i)}}class GV extends Cn{constructor(e,t,i){super(new Uint8ClampedArray(e),t,i)}}class VV extends Cn{constructor(e,t,i){super(new Int16Array(e),t,i)}}class G1 extends Cn{constructor(e,t,i){super(new Uint16Array(e),t,i)}}class kV extends Cn{constructor(e,t,i){super(new Int32Array(e),t,i)}}class V1 extends Cn{constructor(e,t,i){super(new Uint32Array(e),t,i)}}class XV extends Cn{constructor(e,t,i){super(new Uint16Array(e),t,i),this.isFloat16BufferAttribute=!0}getX(e){let t=Mg(this.array[e*this.itemSize]);return this.normalized&&(t=pa(t,this.array)),t}setX(e,t){return this.normalized&&(t=tn(t,this.array)),this.array[e*this.itemSize]=Da(t),this}getY(e){let t=Mg(this.array[e*this.itemSize+1]);return this.normalized&&(t=pa(t,this.array)),t}setY(e,t){return this.normalized&&(t=tn(t,this.array)),this.array[e*this.itemSize+1]=Da(t),this}getZ(e){let t=Mg(this.array[e*this.itemSize+2]);return this.normalized&&(t=pa(t,this.array)),t}setZ(e,t){return this.normalized&&(t=tn(t,this.array)),this.array[e*this.itemSize+2]=Da(t),this}getW(e){let t=Mg(this.array[e*this.itemSize+3]);return this.normalized&&(t=pa(t,this.array)),t}setW(e,t){return this.normalized&&(t=tn(t,this.array)),this.array[e*this.itemSize+3]=Da(t),this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=tn(t,this.array),i=tn(i,this.array)),this.array[e+0]=Da(t),this.array[e+1]=Da(i),this}setXYZ(e,t,i,s){return e*=this.itemSize,this.normalized&&(t=tn(t,this.array),i=tn(i,this.array),s=tn(s,this.array)),this.array[e+0]=Da(t),this.array[e+1]=Da(i),this.array[e+2]=Da(s),this}setXYZW(e,t,i,s,r){return e*=this.itemSize,this.normalized&&(t=tn(t,this.array),i=tn(i,this.array),s=tn(s,this.array),r=tn(r,this.array)),this.array[e+0]=Da(t),this.array[e+1]=Da(i),this.array[e+2]=Da(s),this.array[e+3]=Da(r),this}}class _t extends Cn{constructor(e,t,i){super(new Float32Array(e),t,i)}}let jV=0;const Rr=new Nt,Hb=new gn,Bd=new Z,tr=new ws,ag=new ws,hs=new Z;class Kt extends vl{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:jV++}),this.uuid=sr(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(eN(e)?V1:G1)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,i=0){this.groups.push({start:e,count:t,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const r=new Zt().getNormalMatrix(e);i.applyNormalMatrix(r),i.needsUpdate=!0}const s=this.attributes.tangent;return s!==void 0&&(s.transformDirection(e),s.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Rr.makeRotationFromQuaternion(e),this.applyMatrix4(Rr),this}rotateX(e){return Rr.makeRotationX(e),this.applyMatrix4(Rr),this}rotateY(e){return Rr.makeRotationY(e),this.applyMatrix4(Rr),this}rotateZ(e){return Rr.makeRotationZ(e),this.applyMatrix4(Rr),this}translate(e,t,i){return Rr.makeTranslation(e,t,i),this.applyMatrix4(Rr),this}scale(e,t,i){return Rr.makeScale(e,t,i),this.applyMatrix4(Rr),this}lookAt(e){return Hb.lookAt(e),Hb.updateMatrix(),this.applyMatrix4(Hb.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Bd).negate(),this.translate(Bd.x,Bd.y,Bd.z),this}setFromPoints(e){const t=this.getAttribute("position");if(t===void 0){const i=[];for(let s=0,r=e.length;s<r;s++){const o=e[s];i.push(o.x,o.y,o.z||0)}this.setAttribute("position",new _t(i,3))}else{const i=Math.min(e.length,t.count);for(let s=0;s<i;s++){const r=e[s];t.setXYZ(s,r.x,r.y,r.z||0)}e.length>t.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),t.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new ws);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new Z(-1/0,-1/0,-1/0),new Z(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let i=0,s=t.length;i<s;i++){const r=t[i];tr.setFromBufferAttribute(r),this.morphTargetsRelative?(hs.addVectors(this.boundingBox.min,tr.min),this.boundingBox.expandByPoint(hs),hs.addVectors(this.boundingBox.max,tr.max),this.boundingBox.expandByPoint(hs)):(this.boundingBox.expandByPoint(tr.min),this.boundingBox.expandByPoint(tr.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new gs);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new Z,1/0);return}if(e){const i=this.boundingSphere.center;if(tr.setFromBufferAttribute(e),t)for(let r=0,o=t.length;r<o;r++){const u=t[r];ag.setFromBufferAttribute(u),this.morphTargetsRelative?(hs.addVectors(tr.min,ag.min),tr.expandByPoint(hs),hs.addVectors(tr.max,ag.max),tr.expandByPoint(hs)):(tr.expandByPoint(ag.min),tr.expandByPoint(ag.max))}tr.getCenter(i);let s=0;for(let r=0,o=e.count;r<o;r++)hs.fromBufferAttribute(e,r),s=Math.max(s,i.distanceToSquared(hs));if(t)for(let r=0,o=t.length;r<o;r++){const u=t[r],h=this.morphTargetsRelative;for(let p=0,m=u.count;p<m;p++)hs.fromBufferAttribute(u,p),h&&(Bd.fromBufferAttribute(e,p),hs.add(Bd)),s=Math.max(s,i.distanceToSquared(hs))}this.boundingSphere.radius=Math.sqrt(s),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=t.position,s=t.normal,r=t.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Cn(new Float32Array(4*i.count),4));const o=this.getAttribute("tangent"),u=[],h=[];for(let z=0;z<i.count;z++)u[z]=new Z,h[z]=new Z;const p=new Z,m=new Z,y=new Z,x=new Fe,_=new Fe,M=new Fe,C=new Z,E=new Z;function S(z,U,O){p.fromBufferAttribute(i,z),m.fromBufferAttribute(i,U),y.fromBufferAttribute(i,O),x.fromBufferAttribute(r,z),_.fromBufferAttribute(r,U),M.fromBufferAttribute(r,O),m.sub(p),y.sub(p),_.sub(x),M.sub(x);const W=1/(_.x*M.y-M.x*_.y);isFinite(W)&&(C.copy(m).multiplyScalar(M.y).addScaledVector(y,-_.y).multiplyScalar(W),E.copy(y).multiplyScalar(_.x).addScaledVector(m,-M.x).multiplyScalar(W),u[z].add(C),u[U].add(C),u[O].add(C),h[z].add(E),h[U].add(E),h[O].add(E))}let w=this.groups;w.length===0&&(w=[{start:0,count:e.count}]);for(let z=0,U=w.length;z<U;++z){const O=w[z],W=O.start,ce=O.count;for(let se=W,me=W+ce;se<me;se+=3)S(e.getX(se+0),e.getX(se+1),e.getX(se+2))}const B=new Z,D=new Z,P=new Z,I=new Z;function G(z){P.fromBufferAttribute(s,z),I.copy(P);const U=u[z];B.copy(U),B.sub(P.multiplyScalar(P.dot(U))).normalize(),D.crossVectors(I,U);const W=D.dot(h[z])<0?-1:1;o.setXYZW(z,B.x,B.y,B.z,W)}for(let z=0,U=w.length;z<U;++z){const O=w[z],W=O.start,ce=O.count;for(let se=W,me=W+ce;se<me;se+=3)G(e.getX(se+0)),G(e.getX(se+1)),G(e.getX(se+2))}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new Cn(new Float32Array(t.count*3),3),this.setAttribute("normal",i);else for(let x=0,_=i.count;x<_;x++)i.setXYZ(x,0,0,0);const s=new Z,r=new Z,o=new Z,u=new Z,h=new Z,p=new Z,m=new Z,y=new Z;if(e)for(let x=0,_=e.count;x<_;x+=3){const M=e.getX(x+0),C=e.getX(x+1),E=e.getX(x+2);s.fromBufferAttribute(t,M),r.fromBufferAttribute(t,C),o.fromBufferAttribute(t,E),m.subVectors(o,r),y.subVectors(s,r),m.cross(y),u.fromBufferAttribute(i,M),h.fromBufferAttribute(i,C),p.fromBufferAttribute(i,E),u.add(m),h.add(m),p.add(m),i.setXYZ(M,u.x,u.y,u.z),i.setXYZ(C,h.x,h.y,h.z),i.setXYZ(E,p.x,p.y,p.z)}else for(let x=0,_=t.count;x<_;x+=3)s.fromBufferAttribute(t,x+0),r.fromBufferAttribute(t,x+1),o.fromBufferAttribute(t,x+2),m.subVectors(o,r),y.subVectors(s,r),m.cross(y),i.setXYZ(x+0,m.x,m.y,m.z),i.setXYZ(x+1,m.x,m.y,m.z),i.setXYZ(x+2,m.x,m.y,m.z);this.normalizeNormals(),i.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,i=e.count;t<i;t++)hs.fromBufferAttribute(e,t),hs.normalize(),e.setXYZ(t,hs.x,hs.y,hs.z)}toNonIndexed(){function e(u,h){const p=u.array,m=u.itemSize,y=u.normalized,x=new p.constructor(h.length*m);let _=0,M=0;for(let C=0,E=h.length;C<E;C++){u.isInterleavedBufferAttribute?_=h[C]*u.data.stride+u.offset:_=h[C]*m;for(let S=0;S<m;S++)x[M++]=p[_++]}return new Cn(x,m,y)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new Kt,i=this.index.array,s=this.attributes;for(const u in s){const h=s[u],p=e(h,i);t.setAttribute(u,p)}const r=this.morphAttributes;for(const u in r){const h=[],p=r[u];for(let m=0,y=p.length;m<y;m++){const x=p[m],_=e(x,i);h.push(_)}t.morphAttributes[u]=h}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let u=0,h=o.length;u<h;u++){const p=o[u];t.addGroup(p.start,p.count,p.materialIndex)}return t}toJSON(){const e={metadata:{version:4.7,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const h=this.parameters;for(const p in h)h[p]!==void 0&&(e[p]=h[p]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const i=this.attributes;for(const h in i){const p=i[h];e.data.attributes[h]=p.toJSON(e.data)}const s={};let r=!1;for(const h in this.morphAttributes){const p=this.morphAttributes[h],m=[];for(let y=0,x=p.length;y<x;y++){const _=p[y];m.push(_.toJSON(e.data))}m.length>0&&(s[h]=m,r=!0)}r&&(e.data.morphAttributes=s,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const u=this.boundingSphere;return u!==null&&(e.data.boundingSphere=u.toJSON()),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const i=e.index;i!==null&&this.setIndex(i.clone());const s=e.attributes;for(const p in s){const m=s[p];this.setAttribute(p,m.clone(t))}const r=e.morphAttributes;for(const p in r){const m=[],y=r[p];for(let x=0,_=y.length;x<_;x++)m.push(y[x].clone(t));this.morphAttributes[p]=m}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let p=0,m=o.length;p<m;p++){const y=o[p];this.addGroup(y.start,y.count,y.materialIndex)}const u=e.boundingBox;u!==null&&(this.boundingBox=u.clone());const h=e.boundingSphere;return h!==null&&(this.boundingSphere=h.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const uR=new Nt,wf=new Bp,Mv=new gs,fR=new Z,Ev=new Z,Tv=new Z,Cv=new Z,Gb=new Z,Rv=new Z,hR=new Z,wv=new Z;class Li extends gn{constructor(e=new Kt,t=new ir){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.count=1,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const s=t[i[0]];if(s!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,o=s.length;r<o;r++){const u=s[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[u]=r}}}}getVertexPosition(e,t){const i=this.geometry,s=i.attributes.position,r=i.morphAttributes.position,o=i.morphTargetsRelative;t.fromBufferAttribute(s,e);const u=this.morphTargetInfluences;if(r&&u){Rv.set(0,0,0);for(let h=0,p=r.length;h<p;h++){const m=u[h],y=r[h];m!==0&&(Gb.fromBufferAttribute(y,e),o?Rv.addScaledVector(Gb,m):Rv.addScaledVector(Gb.sub(t),m))}t.add(Rv)}return t}raycast(e,t){const i=this.geometry,s=this.material,r=this.matrixWorld;s!==void 0&&(i.boundingSphere===null&&i.computeBoundingSphere(),Mv.copy(i.boundingSphere),Mv.applyMatrix4(r),wf.copy(e.ray).recast(e.near),!(Mv.containsPoint(wf.origin)===!1&&(wf.intersectSphere(Mv,fR)===null||wf.origin.distanceToSquared(fR)>(e.far-e.near)**2))&&(uR.copy(r).invert(),wf.copy(e.ray).applyMatrix4(uR),!(i.boundingBox!==null&&wf.intersectsBox(i.boundingBox)===!1)&&this._computeIntersections(e,t,wf)))}_computeIntersections(e,t,i){let s;const r=this.geometry,o=this.material,u=r.index,h=r.attributes.position,p=r.attributes.uv,m=r.attributes.uv1,y=r.attributes.normal,x=r.groups,_=r.drawRange;if(u!==null)if(Array.isArray(o))for(let M=0,C=x.length;M<C;M++){const E=x[M],S=o[E.materialIndex],w=Math.max(E.start,_.start),B=Math.min(u.count,Math.min(E.start+E.count,_.start+_.count));for(let D=w,P=B;D<P;D+=3){const I=u.getX(D),G=u.getX(D+1),z=u.getX(D+2);s=Bv(this,S,e,i,p,m,y,I,G,z),s&&(s.faceIndex=Math.floor(D/3),s.face.materialIndex=E.materialIndex,t.push(s))}}else{const M=Math.max(0,_.start),C=Math.min(u.count,_.start+_.count);for(let E=M,S=C;E<S;E+=3){const w=u.getX(E),B=u.getX(E+1),D=u.getX(E+2);s=Bv(this,o,e,i,p,m,y,w,B,D),s&&(s.faceIndex=Math.floor(E/3),t.push(s))}}else if(h!==void 0)if(Array.isArray(o))for(let M=0,C=x.length;M<C;M++){const E=x[M],S=o[E.materialIndex],w=Math.max(E.start,_.start),B=Math.min(h.count,Math.min(E.start+E.count,_.start+_.count));for(let D=w,P=B;D<P;D+=3){const I=D,G=D+1,z=D+2;s=Bv(this,S,e,i,p,m,y,I,G,z),s&&(s.faceIndex=Math.floor(D/3),s.face.materialIndex=E.materialIndex,t.push(s))}}else{const M=Math.max(0,_.start),C=Math.min(h.count,_.start+_.count);for(let E=M,S=C;E<S;E+=3){const w=E,B=E+1,D=E+2;s=Bv(this,o,e,i,p,m,y,w,B,D),s&&(s.faceIndex=Math.floor(E/3),t.push(s))}}}}function YV(n,e,t,i,s,r,o,u){let h;if(e.side===ga?h=i.intersectTriangle(o,r,s,!0,u):h=i.intersectTriangle(s,r,o,e.side===pl,u),h===null)return null;wv.copy(u),wv.applyMatrix4(n.matrixWorld);const p=t.ray.origin.distanceTo(wv);return p<t.near||p>t.far?null:{distance:p,point:wv.clone(),object:n}}function Bv(n,e,t,i,s,r,o,u,h,p){n.getVertexPosition(u,Ev),n.getVertexPosition(h,Tv),n.getVertexPosition(p,Cv);const m=YV(n,e,t,i,Ev,Tv,Cv,hR);if(m){const y=new Z;Na.getBarycoord(hR,Ev,Tv,Cv,y),s&&(m.uv=Na.getInterpolatedAttribute(s,u,h,p,y,new Fe)),r&&(m.uv1=Na.getInterpolatedAttribute(r,u,h,p,y,new Fe)),o&&(m.normal=Na.getInterpolatedAttribute(o,u,h,p,y,new Z),m.normal.dot(i.direction)>0&&m.normal.multiplyScalar(-1));const x={a:u,b:h,c:p,normal:new Z,materialIndex:0};Na.getNormal(Ev,Tv,Cv,x.normal),m.face=x,m.barycoord=y}return m}class gh extends Kt{constructor(e=1,t=1,i=1,s=1,r=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:i,widthSegments:s,heightSegments:r,depthSegments:o};const u=this;s=Math.floor(s),r=Math.floor(r),o=Math.floor(o);const h=[],p=[],m=[],y=[];let x=0,_=0;M("z","y","x",-1,-1,i,t,e,o,r,0),M("z","y","x",1,-1,i,t,-e,o,r,1),M("x","z","y",1,1,e,i,t,s,o,2),M("x","z","y",1,-1,e,i,-t,s,o,3),M("x","y","z",1,-1,e,t,i,s,r,4),M("x","y","z",-1,-1,e,t,-i,s,r,5),this.setIndex(h),this.setAttribute("position",new _t(p,3)),this.setAttribute("normal",new _t(m,3)),this.setAttribute("uv",new _t(y,2));function M(C,E,S,w,B,D,P,I,G,z,U){const O=D/G,W=P/z,ce=D/2,se=P/2,me=I/2,fe=G+1,F=z+1;let q=0,Y=0;const ue=new Z;for(let X=0;X<F;X++){const ie=X*W-se;for(let xe=0;xe<fe;xe++){const _e=xe*O-ce;ue[C]=_e*w,ue[E]=ie*B,ue[S]=me,p.push(ue.x,ue.y,ue.z),ue[C]=0,ue[E]=0,ue[S]=I>0?1:-1,m.push(ue.x,ue.y,ue.z),y.push(xe/G),y.push(1-X/z),q+=1}}for(let X=0;X<z;X++)for(let ie=0;ie<G;ie++){const xe=x+ie+fe*X,_e=x+ie+fe*(X+1),ne=x+(ie+1)+fe*(X+1),Ce=x+(ie+1)+fe*X;h.push(xe,_e,Ce),h.push(_e,ne,Ce),Y+=6}u.addGroup(_,Y,U),_+=Y,x+=q}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new gh(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function gp(n){const e={};for(const t in n){e[t]={};for(const i in n[t]){const s=n[t][i];s&&(s.isColor||s.isMatrix3||s.isMatrix4||s.isVector2||s.isVector3||s.isVector4||s.isTexture||s.isQuaternion)?s.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][i]=null):e[t][i]=s.clone():Array.isArray(s)?e[t][i]=s.slice():e[t][i]=s}}return e}function ua(n){const e={};for(let t=0;t<n.length;t++){const i=gp(n[t]);for(const s in i)e[s]=i[s]}return e}function qV(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}function sN(n){const e=n.getRenderTarget();return e===null?n.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:bn.workingColorSpace}const aN={clone:gp,merge:ua};var WV=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,JV=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Ao extends is{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=WV,this.fragmentShader=JV,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=gp(e.uniforms),this.uniformsGroups=qV(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const s in this.uniforms){const o=this.uniforms[s].value;o&&o.isTexture?t.uniforms[s]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?t.uniforms[s]={type:"c",value:o.getHex()}:o&&o.isVector2?t.uniforms[s]={type:"v2",value:o.toArray()}:o&&o.isVector3?t.uniforms[s]={type:"v3",value:o.toArray()}:o&&o.isVector4?t.uniforms[s]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?t.uniforms[s]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?t.uniforms[s]={type:"m4",value:o.toArray()}:t.uniforms[s]={value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const i={};for(const s in this.extensions)this.extensions[s]===!0&&(i[s]=!0);return Object.keys(i).length>0&&(t.extensions=i),t}}class q_ extends gn{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Nt,this.projectionMatrix=new Nt,this.projectionMatrixInverse=new Nt,this.coordinateSystem=Lr}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const hu=new Z,dR=new Fe,pR=new Fe;class Ni extends q_{constructor(e=50,t=1,i=.1,s=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=s,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=pp*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(rh*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return pp*2*Math.atan(Math.tan(rh*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,i){hu.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(hu.x,hu.y).multiplyScalar(-e/hu.z),hu.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),i.set(hu.x,hu.y).multiplyScalar(-e/hu.z)}getViewSize(e,t){return this.getViewBounds(e,dR,pR),t.subVectors(pR,dR)}setViewOffset(e,t,i,s,r,o){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=s,this.view.width=r,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(rh*.5*this.fov)/this.zoom,i=2*t,s=this.aspect*i,r=-.5*s;const o=this.view;if(this.view!==null&&this.view.enabled){const h=o.fullWidth,p=o.fullHeight;r+=o.offsetX*s/h,t-=o.offsetY*i/p,s*=o.width/h,i*=o.height/p}const u=this.filmOffset;u!==0&&(r+=e*u/this.getFilmWidth()),this.projectionMatrix.makePerspective(r,r+s,t,t-i,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const Dd=-90,Nd=1;class rN extends gn{constructor(e,t,i){super(),this.type="CubeCamera",this.renderTarget=i,this.coordinateSystem=null,this.activeMipmapLevel=0;const s=new Ni(Dd,Nd,e,t);s.layers=this.layers,this.add(s);const r=new Ni(Dd,Nd,e,t);r.layers=this.layers,this.add(r);const o=new Ni(Dd,Nd,e,t);o.layers=this.layers,this.add(o);const u=new Ni(Dd,Nd,e,t);u.layers=this.layers,this.add(u);const h=new Ni(Dd,Nd,e,t);h.layers=this.layers,this.add(h);const p=new Ni(Dd,Nd,e,t);p.layers=this.layers,this.add(p)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[i,s,r,o,u,h]=t;for(const p of t)this.remove(p);if(e===Lr)i.up.set(0,1,0),i.lookAt(1,0,0),s.up.set(0,1,0),s.lookAt(-1,0,0),r.up.set(0,0,-1),r.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),u.up.set(0,1,0),u.lookAt(0,0,1),h.up.set(0,1,0),h.lookAt(0,0,-1);else if(e===n0)i.up.set(0,-1,0),i.lookAt(-1,0,0),s.up.set(0,-1,0),s.lookAt(1,0,0),r.up.set(0,0,1),r.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),u.up.set(0,-1,0),u.lookAt(0,0,1),h.up.set(0,-1,0),h.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const p of t)this.add(p),p.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const{renderTarget:i,activeMipmapLevel:s}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[r,o,u,h,p,m]=this.children,y=e.getRenderTarget(),x=e.getActiveCubeFace(),_=e.getActiveMipmapLevel(),M=e.xr.enabled;e.xr.enabled=!1;const C=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0,s),e.render(t,r),e.setRenderTarget(i,1,s),e.render(t,o),e.setRenderTarget(i,2,s),e.render(t,u),e.setRenderTarget(i,3,s),e.render(t,h),e.setRenderTarget(i,4,s),e.render(t,p),i.texture.generateMipmaps=C,e.setRenderTarget(i,5,s),e.render(t,m),e.setRenderTarget(y,x,_),e.xr.enabled=M,i.texture.needsPMREMUpdate=!0}}class A0 extends oi{constructor(e=[],t=cc,i,s,r,o,u,h,p,m){super(e,t,i,s,r,o,u,h,p,m),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class oN extends ml{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1},s=[i,i,i,i,i,i];this.texture=new A0(s),this._setTextureOptions(t),this.texture.isRenderTargetTexture=!0}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},s=new gh(5,5,5),r=new Ao({name:"CubemapFromEquirect",uniforms:gp(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:ga,blending:sc});r.uniforms.tEquirect.value=t;const o=new Li(s,r),u=t.minFilter;return t.minFilter===Ur&&(t.minFilter=Ui),new rN(1,10,this).update(e,o),t.minFilter=u,o.geometry.dispose(),o.material.dispose(),this}clear(e,t=!0,i=!0,s=!0){const r=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,i,s);e.setRenderTarget(r)}}class tc extends gn{constructor(){super(),this.isGroup=!0,this.type="Group"}}const KV={type:"move"};class bx{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new tc,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new tc,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Z,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Z),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new tc,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Z,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Z),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const i of e.hand.values())this._getHandJoint(t,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,i){let s=null,r=null,o=null;const u=this._targetRay,h=this._grip,p=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(p&&e.hand){o=!0;for(const C of e.hand.values()){const E=t.getJointPose(C,i),S=this._getHandJoint(p,C);E!==null&&(S.matrix.fromArray(E.transform.matrix),S.matrix.decompose(S.position,S.rotation,S.scale),S.matrixWorldNeedsUpdate=!0,S.jointRadius=E.radius),S.visible=E!==null}const m=p.joints["index-finger-tip"],y=p.joints["thumb-tip"],x=m.position.distanceTo(y.position),_=.02,M=.005;p.inputState.pinching&&x>_+M?(p.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!p.inputState.pinching&&x<=_-M&&(p.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else h!==null&&e.gripSpace&&(r=t.getPose(e.gripSpace,i),r!==null&&(h.matrix.fromArray(r.transform.matrix),h.matrix.decompose(h.position,h.rotation,h.scale),h.matrixWorldNeedsUpdate=!0,r.linearVelocity?(h.hasLinearVelocity=!0,h.linearVelocity.copy(r.linearVelocity)):h.hasLinearVelocity=!1,r.angularVelocity?(h.hasAngularVelocity=!0,h.angularVelocity.copy(r.angularVelocity)):h.hasAngularVelocity=!1));u!==null&&(s=t.getPose(e.targetRaySpace,i),s===null&&r!==null&&(s=r),s!==null&&(u.matrix.fromArray(s.transform.matrix),u.matrix.decompose(u.position,u.rotation,u.scale),u.matrixWorldNeedsUpdate=!0,s.linearVelocity?(u.hasLinearVelocity=!0,u.linearVelocity.copy(s.linearVelocity)):u.hasLinearVelocity=!1,s.angularVelocity?(u.hasAngularVelocity=!0,u.angularVelocity.copy(s.angularVelocity)):u.hasAngularVelocity=!1,this.dispatchEvent(KV)))}return u!==null&&(u.visible=s!==null),h!==null&&(h.visible=r!==null),p!==null&&(p.visible=o!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const i=new tc;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[t.jointName]=i,e.add(i)}return e.joints[t.jointName]}}class W_{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new nt(e),this.density=t}clone(){return new W_(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class J_{constructor(e,t=1,i=1e3){this.isFog=!0,this.name="",this.color=new nt(e),this.near=t,this.far=i}clone(){return new J_(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class k1 extends gn{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new Pa,this.environmentIntensity=1,this.environmentRotation=new Pa,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}}class b0{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=t0,this.updateRanges=[],this.version=0,this.uuid=sr()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,i){e*=this.stride,i*=t.stride;for(let s=0,r=this.stride;s<r;s++)this.array[e+s]=t.array[i+s];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=sr()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(t,this.stride);return i.setUsage(this.usage),i}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=sr()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const ca=new Z;class Tu{constructor(e,t,i,s=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=i,this.normalized=s}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,i=this.data.count;t<i;t++)ca.fromBufferAttribute(this,t),ca.applyMatrix4(e),this.setXYZ(t,ca.x,ca.y,ca.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)ca.fromBufferAttribute(this,t),ca.applyNormalMatrix(e),this.setXYZ(t,ca.x,ca.y,ca.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)ca.fromBufferAttribute(this,t),ca.transformDirection(e),this.setXYZ(t,ca.x,ca.y,ca.z);return this}getComponent(e,t){let i=this.array[e*this.data.stride+this.offset+t];return this.normalized&&(i=pa(i,this.array)),i}setComponent(e,t,i){return this.normalized&&(i=tn(i,this.array)),this.data.array[e*this.data.stride+this.offset+t]=i,this}setX(e,t){return this.normalized&&(t=tn(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=tn(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=tn(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=tn(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=pa(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=pa(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=pa(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=pa(t,this.array)),t}setXY(e,t,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=tn(t,this.array),i=tn(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this}setXYZ(e,t,i,s){return e=e*this.data.stride+this.offset,this.normalized&&(t=tn(t,this.array),i=tn(i,this.array),s=tn(s,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=s,this}setXYZW(e,t,i,s,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=tn(t,this.array),i=tn(i,this.array),s=tn(s,this.array),r=tn(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=s,this.data.array[e+3]=r,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const s=i*this.data.stride+this.offset;for(let r=0;r<this.itemSize;r++)t.push(this.data.array[s+r])}return new Cn(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Tu(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const s=i*this.data.stride+this.offset;for(let r=0;r<this.itemSize;r++)t.push(this.data.array[s+r])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class X1 extends is{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new nt(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Ud;const rg=new Z,Ld=new Z,Od=new Z,Pd=new Fe,og=new Fe,lN=new Nt,Dv=new Z,lg=new Z,Nv=new Z,mR=new Fe,Vb=new Fe,gR=new Fe;class cN extends gn{constructor(e=new X1){if(super(),this.isSprite=!0,this.type="Sprite",Ud===void 0){Ud=new Kt;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new b0(t,5);Ud.setIndex([0,1,2,0,2,3]),Ud.setAttribute("position",new Tu(i,3,0,!1)),Ud.setAttribute("uv",new Tu(i,2,3,!1))}this.geometry=Ud,this.material=e,this.center=new Fe(.5,.5),this.count=1}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Ld.setFromMatrixScale(this.matrixWorld),lN.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Od.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Ld.multiplyScalar(-Od.z);const i=this.material.rotation;let s,r;i!==0&&(r=Math.cos(i),s=Math.sin(i));const o=this.center;Uv(Dv.set(-.5,-.5,0),Od,o,Ld,s,r),Uv(lg.set(.5,-.5,0),Od,o,Ld,s,r),Uv(Nv.set(.5,.5,0),Od,o,Ld,s,r),mR.set(0,0),Vb.set(1,0),gR.set(1,1);let u=e.ray.intersectTriangle(Dv,lg,Nv,!1,rg);if(u===null&&(Uv(lg.set(-.5,.5,0),Od,o,Ld,s,r),Vb.set(0,1),u=e.ray.intersectTriangle(Dv,Nv,lg,!1,rg),u===null))return;const h=e.ray.origin.distanceTo(rg);h<e.near||h>e.far||t.push({distance:h,point:rg.clone(),uv:Na.getInterpolation(rg,Dv,lg,Nv,mR,Vb,gR,new Fe),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function Uv(n,e,t,i,s,r){Pd.subVectors(n,t).addScalar(.5).multiply(i),s!==void 0?(og.x=r*Pd.x-s*Pd.y,og.y=s*Pd.x+r*Pd.y):og.copy(Pd),n.copy(e),n.x+=og.x,n.y+=og.y,n.applyMatrix4(lN)}const Lv=new Z,yR=new Z;class uN extends gn{constructor(){super(),this.isLOD=!0,this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let i=0,s=t.length;i<s;i++){const r=t[i];this.addLevel(r.object.clone(),r.distance,r.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,i=0){t=Math.abs(t);const s=this.levels;let r;for(r=0;r<s.length&&!(t<s[r].distance);r++);return s.splice(r,0,{distance:t,hysteresis:i,object:e}),this.add(e),this}removeLevel(e){const t=this.levels;for(let i=0;i<t.length;i++)if(t[i].distance===e){const s=t.splice(i,1);return this.remove(s[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let i,s;for(i=1,s=t.length;i<s;i++){let r=t[i].distance;if(t[i].object.visible&&(r-=r*t[i].hysteresis),e<r)break}return t[i-1].object}return null}raycast(e,t){if(this.levels.length>0){Lv.setFromMatrixPosition(this.matrixWorld);const s=e.ray.origin.distanceTo(Lv);this.getObjectForDistance(s).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){Lv.setFromMatrixPosition(e.matrixWorld),yR.setFromMatrixPosition(this.matrixWorld);const i=Lv.distanceTo(yR)/e.zoom;t[0].object.visible=!0;let s,r;for(s=1,r=t.length;s<r;s++){let o=t[s].distance;if(t[s].object.visible&&(o-=o*t[s].hysteresis),i>=o)t[s-1].object.visible=!1,t[s].object.visible=!0;else break}for(this._currentLevel=s-1;s<r;s++)t[s].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const i=this.levels;for(let s=0,r=i.length;s<r;s++){const o=i[s];t.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return t}}const vR=new Z,xR=new mn,_R=new mn,QV=new Z,AR=new Nt,Ov=new Z,kb=new gs,bR=new Nt,Xb=new Bp;class j1 extends Li{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=yM,this.bindMatrix=new Nt,this.bindMatrixInverse=new Nt,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new ws),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)this.getVertexPosition(i,Ov),this.boundingBox.expandByPoint(Ov)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new gs),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)this.getVertexPosition(i,Ov),this.boundingSphere.expandByPoint(Ov)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const i=this.material,s=this.matrixWorld;i!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),kb.copy(this.boundingSphere),kb.applyMatrix4(s),e.ray.intersectsSphere(kb)!==!1&&(bR.copy(s).invert(),Xb.copy(e.ray).applyMatrix4(bR),!(this.boundingBox!==null&&Xb.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,t,Xb)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new mn,t=this.geometry.attributes.skinWeight;for(let i=0,s=t.count;i<s;i++){e.fromBufferAttribute(t,i);const r=1/e.manhattanLength();r!==1/0?e.multiplyScalar(r):e.set(1,0,0,0),t.setXYZW(i,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===yM?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===z3?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const i=this.skeleton,s=this.geometry;xR.fromBufferAttribute(s.attributes.skinIndex,e),_R.fromBufferAttribute(s.attributes.skinWeight,e),vR.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let r=0;r<4;r++){const o=_R.getComponent(r);if(o!==0){const u=xR.getComponent(r);AR.multiplyMatrices(i.bones[u].matrixWorld,i.boneInverses[u]),t.addScaledVector(QV.copy(vR).applyMatrix4(AR),o)}}return t.applyMatrix4(this.bindMatrixInverse)}}class K_ extends gn{constructor(){super(),this.isBone=!0,this.type="Bone"}}class hl extends oi{constructor(e=null,t=1,i=1,s,r,o,u,h,p=ms,m=ms,y,x){super(null,o,u,h,p,m,s,r,y,x),this.isDataTexture=!0,this.image={data:e,width:t,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const SR=new Nt,ZV=new Nt;class S0{constructor(e=[],t=[]){this.uuid=sr(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,s=this.bones.length;i<s;i++)this.boneInverses.push(new Nt)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const i=new Nt;this.bones[e]&&i.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&i.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const e=this.bones,t=this.boneInverses,i=this.boneMatrices,s=this.boneTexture;for(let r=0,o=e.length;r<o;r++){const u=e[r]?e[r].matrixWorld:ZV;SR.multiplyMatrices(u,t[r]),SR.toArray(i,r*16)}s!==null&&(s.needsUpdate=!0)}clone(){return new S0(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const i=new hl(t,e,e,js,La);return i.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=i,this}getBoneByName(e){for(let t=0,i=this.bones.length;t<i;t++){const s=this.bones[t];if(s.name===e)return s}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let i=0,s=e.bones.length;i<s;i++){const r=e.bones[i];let o=t[r];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",r),o=new K_),this.bones.push(o),this.boneInverses.push(new Nt().fromArray(e.boneInverses[i]))}return this.init(),this}toJSON(){const e={metadata:{version:4.7,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,i=this.boneInverses;for(let s=0,r=t.length;s<r;s++){const o=t[s];e.bones.push(o.uuid);const u=i[s];e.boneInverses.push(u.toArray())}return e}}class ch extends Cn{constructor(e,t,i,s=1){super(e,t,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=s}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const Id=new Nt,MR=new Nt,Pv=[],ER=new ws,$V=new Nt,cg=new Li,ug=new gs;class Y1 extends Li{constructor(e,t,i){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new ch(new Float32Array(i*16),16),this.instanceColor=null,this.morphTexture=null,this.count=i,this.boundingBox=null,this.boundingSphere=null;for(let s=0;s<i;s++)this.setMatrixAt(s,$V)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new ws),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,Id),ER.copy(e.boundingBox).applyMatrix4(Id),this.boundingBox.union(ER)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new gs),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,Id),ug.copy(e.boundingSphere).applyMatrix4(Id),this.boundingSphere.union(ug)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,t){const i=t.morphTargetInfluences,s=this.morphTexture.source.data.data,r=i.length+1,o=e*r+1;for(let u=0;u<i.length;u++)i[u]=s[o+u]}raycast(e,t){const i=this.matrixWorld,s=this.count;if(cg.geometry=this.geometry,cg.material=this.material,cg.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),ug.copy(this.boundingSphere),ug.applyMatrix4(i),e.ray.intersectsSphere(ug)!==!1))for(let r=0;r<s;r++){this.getMatrixAt(r,Id),MR.multiplyMatrices(i,Id),cg.matrixWorld=MR,cg.raycast(e,Pv);for(let o=0,u=Pv.length;o<u;o++){const h=Pv[o];h.instanceId=r,h.object=this,t.push(h)}Pv.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new ch(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,t){const i=t.morphTargetInfluences,s=i.length+1;this.morphTexture===null&&(this.morphTexture=new hl(new Float32Array(s*this.count),s,this.count,G_,La));const r=this.morphTexture.source.data.data;let o=0;for(let p=0;p<i.length;p++)o+=i[p];const u=this.geometry.morphTargetsRelative?1:1-o,h=s*e;r[h]=u,r.set(i,h+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null)}}const jb=new Z,e5=new Z,t5=new Zt;class yu{constructor(e=new Z(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,i,s){return this.normal.set(e,t,i),this.constant=s,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,i){const s=jb.subVectors(i,t).cross(e5.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(s,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const i=e.delta(jb),s=this.normal.dot(i);if(s===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const r=-(e.start.dot(this.normal)+this.constant)/s;return r<0||r>1?null:t.copy(e.start).addScaledVector(i,r)}intersectsLine(e){const t=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return t<0&&i>0||i<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const i=t||t5.getNormalMatrix(e),s=this.coplanarPoint(jb).applyMatrix4(e),r=this.normal.applyMatrix3(i).normalize();return this.constant=-s.dot(r),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Bf=new gs,Iv=new Z;class Dp{constructor(e=new yu,t=new yu,i=new yu,s=new yu,r=new yu,o=new yu){this.planes=[e,t,i,s,r,o]}set(e,t,i,s,r,o){const u=this.planes;return u[0].copy(e),u[1].copy(t),u[2].copy(i),u[3].copy(s),u[4].copy(r),u[5].copy(o),this}copy(e){const t=this.planes;for(let i=0;i<6;i++)t[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e,t=Lr){const i=this.planes,s=e.elements,r=s[0],o=s[1],u=s[2],h=s[3],p=s[4],m=s[5],y=s[6],x=s[7],_=s[8],M=s[9],C=s[10],E=s[11],S=s[12],w=s[13],B=s[14],D=s[15];if(i[0].setComponents(h-r,x-p,E-_,D-S).normalize(),i[1].setComponents(h+r,x+p,E+_,D+S).normalize(),i[2].setComponents(h+o,x+m,E+M,D+w).normalize(),i[3].setComponents(h-o,x-m,E-M,D-w).normalize(),i[4].setComponents(h-u,x-y,E-C,D-B).normalize(),t===Lr)i[5].setComponents(h+u,x+y,E+C,D+B).normalize();else if(t===n0)i[5].setComponents(u,y,C,B).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),Bf.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),Bf.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Bf)}intersectsSprite(e){return Bf.center.set(0,0,0),Bf.radius=.7071067811865476,Bf.applyMatrix4(e.matrixWorld),this.intersectsSphere(Bf)}intersectsSphere(e){const t=this.planes,i=e.center,s=-e.radius;for(let r=0;r<6;r++)if(t[r].distanceToPoint(i)<s)return!1;return!0}intersectsBox(e){const t=this.planes;for(let i=0;i<6;i++){const s=t[i];if(Iv.x=s.normal.x>0?e.max.x:e.min.x,Iv.y=s.normal.y>0?e.max.y:e.min.y,Iv.z=s.normal.z>0?e.max.z:e.min.z,s.distanceToPoint(Iv)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let i=0;i<6;i++)if(t[i].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}const al=new Nt,rl=new Dp;class Q_{constructor(){this.coordinateSystem=Lr}intersectsObject(e,t){if(!t.isArrayCamera||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const s=t.cameras[i];if(al.multiplyMatrices(s.projectionMatrix,s.matrixWorldInverse),rl.setFromProjectionMatrix(al,this.coordinateSystem),rl.intersectsObject(e))return!0}return!1}intersectsSprite(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const s=t.cameras[i];if(al.multiplyMatrices(s.projectionMatrix,s.matrixWorldInverse),rl.setFromProjectionMatrix(al,this.coordinateSystem),rl.intersectsSprite(e))return!0}return!1}intersectsSphere(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const s=t.cameras[i];if(al.multiplyMatrices(s.projectionMatrix,s.matrixWorldInverse),rl.setFromProjectionMatrix(al,this.coordinateSystem),rl.intersectsSphere(e))return!0}return!1}intersectsBox(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const s=t.cameras[i];if(al.multiplyMatrices(s.projectionMatrix,s.matrixWorldInverse),rl.setFromProjectionMatrix(al,this.coordinateSystem),rl.intersectsBox(e))return!0}return!1}containsPoint(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const s=t.cameras[i];if(al.multiplyMatrices(s.projectionMatrix,s.matrixWorldInverse),rl.setFromProjectionMatrix(al,this.coordinateSystem),rl.containsPoint(e))return!0}return!1}clone(){return new Q_}}function Yb(n,e){return n-e}function n5(n,e){return n.z-e.z}function i5(n,e){return e.z-n.z}class s5{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,t,i,s){const r=this.pool,o=this.list;this.index>=r.length&&r.push({start:-1,count:-1,z:-1,index:-1});const u=r[this.index];o.push(u),this.index++,u.start=e,u.count=t,u.z=i,u.index=s}reset(){this.list.length=0,this.index=0}}const Ba=new Nt,a5=new nt(1,1,1),TR=new Dp,r5=new Q_,Fv=new ws,Df=new gs,fg=new Z,CR=new Z,o5=new Z,qb=new s5,ks=new Li,zv=[];function l5(n,e,t=0){const i=e.itemSize;if(n.isInterleavedBufferAttribute||n.array.constructor!==e.array.constructor){const s=n.count;for(let r=0;r<s;r++)for(let o=0;o<i;o++)e.setComponent(r+t,o,n.getComponent(r,o))}else e.array.set(n.array,t*i);e.needsUpdate=!0}function Nf(n,e){if(n.constructor!==e.constructor){const t=Math.min(n.length,e.length);for(let i=0;i<t;i++)e[i]=n[i]}else{const t=Math.min(n.length,e.length);e.set(new n.constructor(n.buffer,0,t))}}class fN extends Li{constructor(e,t,i=t*2,s){super(new Kt,s),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=t,this._maxIndexCount=i,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4),i=new hl(t,e,e,js,La);this._matricesTexture=i}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Uint32Array(e*e),i=new hl(t,e,e,_0,uc);this._indirectTexture=i}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Float32Array(e*e*4).fill(1),i=new hl(t,e,e,js,La);i.colorSpace=bn.workingColorSpace,this._colorsTexture=i}_initializeGeometry(e){const t=this.geometry,i=this._maxVertexCount,s=this._maxIndexCount;if(this._geometryInitialized===!1){for(const r in e.attributes){const o=e.getAttribute(r),{array:u,itemSize:h,normalized:p}=o,m=new u.constructor(i*h),y=new Cn(m,h,p);t.setAttribute(r,y)}if(e.getIndex()!==null){const r=i>65535?new Uint32Array(s):new Uint16Array(s);t.setIndex(new Cn(r,1))}this._geometryInitialized=!0}}_validateGeometry(e){const t=this.geometry;if(!!e.getIndex()!=!!t.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const i in t.attributes){if(!e.hasAttribute(i))throw new Error(`THREE.BatchedMesh: Added geometry missing "${i}". All geometries must have consistent attributes.`);const s=e.getAttribute(i),r=t.getAttribute(i);if(s.itemSize!==r.itemSize||s.normalized!==r.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(e){const t=this._instanceInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${e}. Instance is either out of range or has been deleted.`)}validateGeometryId(e){const t=this._geometryInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${e}. Geometry is either out of range or has been deleted.`)}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new ws);const e=this.boundingBox,t=this._instanceInfo;e.makeEmpty();for(let i=0,s=t.length;i<s;i++){if(t[i].active===!1)continue;const r=t[i].geometryIndex;this.getMatrixAt(i,Ba),this.getBoundingBoxAt(r,Fv).applyMatrix4(Ba),e.union(Fv)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new gs);const e=this.boundingSphere,t=this._instanceInfo;e.makeEmpty();for(let i=0,s=t.length;i<s;i++){if(t[i].active===!1)continue;const r=t[i].geometryIndex;this.getMatrixAt(i,Ba),this.getBoundingSphereAt(r,Df).applyMatrix4(Ba),e.union(Df)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const i={visible:!0,active:!0,geometryIndex:e};let s=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(Yb),s=this._availableInstanceIds.shift(),this._instanceInfo[s]=i):(s=this._instanceInfo.length,this._instanceInfo.push(i));const r=this._matricesTexture;Ba.identity().toArray(r.image.data,s*16),r.needsUpdate=!0;const o=this._colorsTexture;return o&&(a5.toArray(o.image.data,s*4),o.needsUpdate=!0),this._visibilityChanged=!0,s}addGeometry(e,t=-1,i=-1){this._initializeGeometry(e),this._validateGeometry(e);const s={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},r=this._geometryInfo;s.vertexStart=this._nextVertexStart,s.reservedVertexCount=t===-1?e.getAttribute("position").count:t;const o=e.getIndex();if(o!==null&&(s.indexStart=this._nextIndexStart,s.reservedIndexCount=i===-1?o.count:i),s.indexStart!==-1&&s.indexStart+s.reservedIndexCount>this._maxIndexCount||s.vertexStart+s.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let h;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(Yb),h=this._availableGeometryIds.shift(),r[h]=s):(h=this._geometryCount,this._geometryCount++,r.push(s)),this.setGeometryAt(h,e),this._nextIndexStart=s.indexStart+s.reservedIndexCount,this._nextVertexStart=s.vertexStart+s.reservedVertexCount,h}setGeometryAt(e,t){if(e>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(t);const i=this.geometry,s=i.getIndex()!==null,r=i.getIndex(),o=t.getIndex(),u=this._geometryInfo[e];if(s&&o.count>u.reservedIndexCount||t.attributes.position.count>u.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const h=u.vertexStart,p=u.reservedVertexCount;u.vertexCount=t.getAttribute("position").count;for(const m in i.attributes){const y=t.getAttribute(m),x=i.getAttribute(m);l5(y,x,h);const _=y.itemSize;for(let M=y.count,C=p;M<C;M++){const E=h+M;for(let S=0;S<_;S++)x.setComponent(E,S,0)}x.needsUpdate=!0,x.addUpdateRange(h*_,p*_)}if(s){const m=u.indexStart,y=u.reservedIndexCount;u.indexCount=t.getIndex().count;for(let x=0;x<o.count;x++)r.setX(m+x,h+o.getX(x));for(let x=o.count,_=y;x<_;x++)r.setX(m+x,h);r.needsUpdate=!0,r.addUpdateRange(m,u.reservedIndexCount)}return u.start=s?u.indexStart:u.vertexStart,u.count=s?u.indexCount:u.vertexCount,u.boundingBox=null,t.boundingBox!==null&&(u.boundingBox=t.boundingBox.clone()),u.boundingSphere=null,t.boundingSphere!==null&&(u.boundingSphere=t.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){const t=this._geometryInfo;if(e>=t.length||t[e].active===!1)return this;const i=this._instanceInfo;for(let s=0,r=i.length;s<r;s++)i[s].active&&i[s].geometryIndex===e&&this.deleteInstance(s);return t[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){return this.validateInstanceId(e),this._instanceInfo[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this}optimize(){let e=0,t=0;const i=this._geometryInfo,s=i.map((o,u)=>u).sort((o,u)=>i[o].vertexStart-i[u].vertexStart),r=this.geometry;for(let o=0,u=i.length;o<u;o++){const h=s[o],p=i[h];if(p.active!==!1){if(r.index!==null){if(p.indexStart!==t){const{indexStart:m,vertexStart:y,reservedIndexCount:x}=p,_=r.index,M=_.array,C=e-y;for(let E=m;E<m+x;E++)M[E]=M[E]+C;_.array.copyWithin(t,m,m+x),_.addUpdateRange(t,x),p.indexStart=t}t+=p.reservedIndexCount}if(p.vertexStart!==e){const{vertexStart:m,reservedVertexCount:y}=p,x=r.attributes;for(const _ in x){const M=x[_],{array:C,itemSize:E}=M;C.copyWithin(e*E,m*E,(m+y)*E),M.addUpdateRange(e*E,y*E)}p.vertexStart=e}e+=p.reservedVertexCount,p.start=r.index?p.indexStart:p.vertexStart,this._nextIndexStart=r.index?p.indexStart+p.reservedIndexCount:0,this._nextVertexStart=p.vertexStart+p.reservedVertexCount}}return this}getBoundingBoxAt(e,t){if(e>=this._geometryCount)return null;const i=this.geometry,s=this._geometryInfo[e];if(s.boundingBox===null){const r=new ws,o=i.index,u=i.attributes.position;for(let h=s.start,p=s.start+s.count;h<p;h++){let m=h;o&&(m=o.getX(m)),r.expandByPoint(fg.fromBufferAttribute(u,m))}s.boundingBox=r}return t.copy(s.boundingBox),t}getBoundingSphereAt(e,t){if(e>=this._geometryCount)return null;const i=this.geometry,s=this._geometryInfo[e];if(s.boundingSphere===null){const r=new gs;this.getBoundingBoxAt(e,Fv),Fv.getCenter(r.center);const o=i.index,u=i.attributes.position;let h=0;for(let p=s.start,m=s.start+s.count;p<m;p++){let y=p;o&&(y=o.getX(y)),fg.fromBufferAttribute(u,y),h=Math.max(h,r.center.distanceToSquared(fg))}r.radius=Math.sqrt(h),s.boundingSphere=r}return t.copy(s.boundingSphere),t}setMatrixAt(e,t){this.validateInstanceId(e);const i=this._matricesTexture,s=this._matricesTexture.image.data;return t.toArray(s,e*16),i.needsUpdate=!0,this}getMatrixAt(e,t){return this.validateInstanceId(e),t.fromArray(this._matricesTexture.image.data,e*16)}setColorAt(e,t){return this.validateInstanceId(e),this._colorsTexture===null&&this._initColorsTexture(),t.toArray(this._colorsTexture.image.data,e*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(e,t){return this.validateInstanceId(e),t.fromArray(this._colorsTexture.image.data,e*4)}setVisibleAt(e,t){return this.validateInstanceId(e),this._instanceInfo[e].visible===t?this:(this._instanceInfo[e].visible=t,this._visibilityChanged=!0,this)}getVisibleAt(e){return this.validateInstanceId(e),this._instanceInfo[e].visible}setGeometryIdAt(e,t){return this.validateInstanceId(e),this.validateGeometryId(t),this._instanceInfo[e].geometryIndex=t,this}getGeometryIdAt(e){return this.validateInstanceId(e),this._instanceInfo[e].geometryIndex}getGeometryRangeAt(e,t={}){this.validateGeometryId(e);const i=this._geometryInfo[e];return t.vertexStart=i.vertexStart,t.vertexCount=i.vertexCount,t.reservedVertexCount=i.reservedVertexCount,t.indexStart=i.indexStart,t.indexCount=i.indexCount,t.reservedIndexCount=i.reservedIndexCount,t.start=i.start,t.count=i.count,t}setInstanceCount(e){const t=this._availableInstanceIds,i=this._instanceInfo;for(t.sort(Yb);t[t.length-1]===i.length;)i.pop(),t.pop();if(e<i.length)throw new Error(`BatchedMesh: Instance ids outside the range ${e} are being used. Cannot shrink instance count.`);const s=new Int32Array(e),r=new Int32Array(e);Nf(this._multiDrawCounts,s),Nf(this._multiDrawStarts,r),this._multiDrawCounts=s,this._multiDrawStarts=r,this._maxInstanceCount=e;const o=this._indirectTexture,u=this._matricesTexture,h=this._colorsTexture;o.dispose(),this._initIndirectTexture(),Nf(o.image.data,this._indirectTexture.image.data),u.dispose(),this._initMatricesTexture(),Nf(u.image.data,this._matricesTexture.image.data),h&&(h.dispose(),this._initColorsTexture(),Nf(h.image.data,this._colorsTexture.image.data))}setGeometrySize(e,t){const i=[...this._geometryInfo].filter(u=>u.active);if(Math.max(...i.map(u=>u.vertexStart+u.reservedVertexCount))>e)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${t}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...i.map(h=>h.indexStart+h.reservedIndexCount))>t)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${t}. Cannot shrink further.`);const r=this.geometry;r.dispose(),this._maxVertexCount=e,this._maxIndexCount=t,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new Kt,this._initializeGeometry(r));const o=this.geometry;r.index&&Nf(r.index.array,o.index.array);for(const u in r.attributes)Nf(r.attributes[u].array,o.attributes[u].array)}raycast(e,t){const i=this._instanceInfo,s=this._geometryInfo,r=this.matrixWorld,o=this.geometry;ks.material=this.material,ks.geometry.index=o.index,ks.geometry.attributes=o.attributes,ks.geometry.boundingBox===null&&(ks.geometry.boundingBox=new ws),ks.geometry.boundingSphere===null&&(ks.geometry.boundingSphere=new gs);for(let u=0,h=i.length;u<h;u++){if(!i[u].visible||!i[u].active)continue;const p=i[u].geometryIndex,m=s[p];ks.geometry.setDrawRange(m.start,m.count),this.getMatrixAt(u,ks.matrixWorld).premultiply(r),this.getBoundingBoxAt(p,ks.geometry.boundingBox),this.getBoundingSphereAt(p,ks.geometry.boundingSphere),ks.raycast(e,zv);for(let y=0,x=zv.length;y<x;y++){const _=zv[y];_.object=this,_.batchId=u,t.push(_)}zv.length=0}ks.material=null,ks.geometry.index=null,ks.geometry.attributes={},ks.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(t=>({...t,boundingBox:t.boundingBox!==null?t.boundingBox.clone():null,boundingSphere:t.boundingSphere!==null?t.boundingSphere.clone():null})),this._instanceInfo=e._instanceInfo.map(t=>({...t})),this._availableInstanceIds=e._availableInstanceIds.slice(),this._availableGeometryIds=e._availableGeometryIds.slice(),this._nextIndexStart=e._nextIndexStart,this._nextVertexStart=e._nextVertexStart,this._geometryCount=e._geometryCount,this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._indirectTexture=e._indirectTexture.clone(),this._indirectTexture.image.data=this._indirectTexture.image.data.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null)}onBeforeRender(e,t,i,s,r){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const o=s.getIndex(),u=o===null?1:o.array.BYTES_PER_ELEMENT,h=this._instanceInfo,p=this._multiDrawStarts,m=this._multiDrawCounts,y=this._geometryInfo,x=this.perObjectFrustumCulled,_=this._indirectTexture,M=_.image.data,C=i.isArrayCamera?r5:TR;x&&!i.isArrayCamera&&(Ba.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse).multiply(this.matrixWorld),TR.setFromProjectionMatrix(Ba,e.coordinateSystem));let E=0;if(this.sortObjects){Ba.copy(this.matrixWorld).invert(),fg.setFromMatrixPosition(i.matrixWorld).applyMatrix4(Ba),CR.set(0,0,-1).transformDirection(i.matrixWorld).transformDirection(Ba);for(let B=0,D=h.length;B<D;B++)if(h[B].visible&&h[B].active){const P=h[B].geometryIndex;this.getMatrixAt(B,Ba),this.getBoundingSphereAt(P,Df).applyMatrix4(Ba);let I=!1;if(x&&(I=!C.intersectsSphere(Df,i)),!I){const G=y[P],z=o5.subVectors(Df.center,fg).dot(CR);qb.push(G.start,G.count,z,B)}}const S=qb.list,w=this.customSort;w===null?S.sort(r.transparent?i5:n5):w.call(this,S,i);for(let B=0,D=S.length;B<D;B++){const P=S[B];p[E]=P.start*u,m[E]=P.count,M[E]=P.index,E++}qb.reset()}else for(let S=0,w=h.length;S<w;S++)if(h[S].visible&&h[S].active){const B=h[S].geometryIndex;let D=!1;if(x&&(this.getMatrixAt(S,Ba),this.getBoundingSphereAt(B,Df).applyMatrix4(Ba),D=!C.intersectsSphere(Df,i)),!D){const P=y[B];p[E]=P.start*u,m[E]=P.count,M[E]=S,E++}}_.needsUpdate=!0,this._multiDrawCount=E,this._visibilityChanged=!1}onBeforeShadow(e,t,i,s,r,o){this.onBeforeRender(e,null,s,r,o)}}class Ys extends is{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new nt(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const m_=new Z,g_=new Z,RR=new Nt,hg=new Bp,Hv=new gs,Wb=new Z,wR=new Z;class fc extends gn{constructor(e=new Kt,t=new Ys){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[0];for(let s=1,r=t.count;s<r;s++)m_.fromBufferAttribute(t,s-1),g_.fromBufferAttribute(t,s),i[s]=i[s-1],i[s]+=m_.distanceTo(g_);e.setAttribute("lineDistance",new _t(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const i=this.geometry,s=this.matrixWorld,r=e.params.Line.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),Hv.copy(i.boundingSphere),Hv.applyMatrix4(s),Hv.radius+=r,e.ray.intersectsSphere(Hv)===!1)return;RR.copy(s).invert(),hg.copy(e.ray).applyMatrix4(RR);const u=r/((this.scale.x+this.scale.y+this.scale.z)/3),h=u*u,p=this.isLineSegments?2:1,m=i.index,x=i.attributes.position;if(m!==null){const _=Math.max(0,o.start),M=Math.min(m.count,o.start+o.count);for(let C=_,E=M-1;C<E;C+=p){const S=m.getX(C),w=m.getX(C+1),B=Gv(this,e,hg,h,S,w,C);B&&t.push(B)}if(this.isLineLoop){const C=m.getX(M-1),E=m.getX(_),S=Gv(this,e,hg,h,C,E,M-1);S&&t.push(S)}}else{const _=Math.max(0,o.start),M=Math.min(x.count,o.start+o.count);for(let C=_,E=M-1;C<E;C+=p){const S=Gv(this,e,hg,h,C,C+1,C);S&&t.push(S)}if(this.isLineLoop){const C=Gv(this,e,hg,h,M-1,_,M-1);C&&t.push(C)}}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const s=t[i[0]];if(s!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,o=s.length;r<o;r++){const u=s[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[u]=r}}}}}function Gv(n,e,t,i,s,r,o){const u=n.geometry.attributes.position;if(m_.fromBufferAttribute(u,s),g_.fromBufferAttribute(u,r),t.distanceSqToSegment(m_,g_,Wb,wR)>i)return;Wb.applyMatrix4(n.matrixWorld);const p=e.ray.origin.distanceTo(Wb);if(!(p<e.near||p>e.far))return{distance:p,point:wR.clone().applyMatrix4(n.matrixWorld),index:o,face:null,faceIndex:null,barycoord:null,object:n}}const BR=new Z,DR=new Z;class bo extends fc{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[];for(let s=0,r=t.count;s<r;s+=2)BR.fromBufferAttribute(t,s),DR.fromBufferAttribute(t,s+1),i[s]=s===0?0:i[s-1],i[s+1]=i[s]+BR.distanceTo(DR);e.setAttribute("lineDistance",new _t(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class q1 extends fc{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class Z_ extends is{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new nt(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const NR=new Nt,_M=new Bp,Vv=new gs,kv=new Z;class W1 extends gn{constructor(e=new Kt,t=new Z_){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){const i=this.geometry,s=this.matrixWorld,r=e.params.Points.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),Vv.copy(i.boundingSphere),Vv.applyMatrix4(s),Vv.radius+=r,e.ray.intersectsSphere(Vv)===!1)return;NR.copy(s).invert(),_M.copy(e.ray).applyMatrix4(NR);const u=r/((this.scale.x+this.scale.y+this.scale.z)/3),h=u*u,p=i.index,y=i.attributes.position;if(p!==null){const x=Math.max(0,o.start),_=Math.min(p.count,o.start+o.count);for(let M=x,C=_;M<C;M++){const E=p.getX(M);kv.fromBufferAttribute(y,E),UR(kv,E,h,s,e,t,this)}}else{const x=Math.max(0,o.start),_=Math.min(y.count,o.start+o.count);for(let M=x,C=_;M<C;M++)kv.fromBufferAttribute(y,M),UR(kv,M,h,s,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const s=t[i[0]];if(s!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,o=s.length;r<o;r++){const u=s[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[u]=r}}}}}function UR(n,e,t,i,s,r,o){const u=_M.distanceSqToPoint(n);if(u<t){const h=new Z;_M.closestPointToPoint(n,h),h.applyMatrix4(i);const p=s.ray.origin.distanceTo(h);if(p<s.near||p>s.far)return;r.push({distance:p,distanceToRay:Math.sqrt(u),point:h,index:e,face:null,faceIndex:null,barycoord:null,object:o})}}class hN extends oi{constructor(e,t,i,s,r=Ui,o=Ui,u,h,p){super(e,t,i,s,r,o,u,h,p),this.isVideoTexture=!0,this.generateMipmaps=!1;const m=this;function y(){m.needsUpdate=!0,e.requestVideoFrameCallback(y)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(y)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class c5 extends hN{constructor(e,t,i,s,r,o,u,h){super({},e,t,i,s,r,o,u,h),this.isVideoFrameTexture=!0}update(){}clone(){return new this.constructor().copy(this)}setFrame(e){this.image=e,this.needsUpdate=!0}}class u5 extends oi{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=ms,this.minFilter=ms,this.generateMipmaps=!1,this.needsUpdate=!0}}class $_ extends oi{constructor(e,t,i,s,r,o,u,h,p,m,y,x){super(null,o,u,h,p,m,s,r,y,x),this.isCompressedTexture=!0,this.image={width:t,height:i},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class f5 extends $_{constructor(e,t,i,s,r,o){super(e,t,i,r,o),this.isCompressedArrayTexture=!0,this.image.depth=s,this.wrapR=nr,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class h5 extends $_{constructor(e,t,i){super(void 0,e[0].width,e[0].height,t,i,cc),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class d5 extends oi{constructor(e,t,i,s,r,o,u,h,p){super(e,t,i,s,r,o,u,h,p),this.isCanvasTexture=!0,this.needsUpdate=!0}}class J1 extends oi{constructor(e,t,i=uc,s,r,o,u=ms,h=ms,p,m=up,y=1){if(m!==up&&m!==fp)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");const x={width:e,height:t,depth:y};super(x,s,r,o,u,h,m,i,p),this.isDepthTexture=!0,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new _u(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}class eA extends Kt{constructor(e=1,t=1,i=4,s=8,r=1){super(),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:i,radialSegments:s,heightSegments:r},t=Math.max(0,t),i=Math.max(1,Math.floor(i)),s=Math.max(3,Math.floor(s)),r=Math.max(1,Math.floor(r));const o=[],u=[],h=[],p=[],m=t/2,y=Math.PI/2*e,x=t,_=2*y+x,M=i*2+r,C=s+1,E=new Z,S=new Z;for(let w=0;w<=M;w++){let B=0,D=0,P=0,I=0;if(w<=i){const U=w/i,O=U*Math.PI/2;D=-m-e*Math.cos(O),P=e*Math.sin(O),I=-e*Math.cos(O),B=U*y}else if(w<=i+r){const U=(w-i)/r;D=-m+U*t,P=e,I=0,B=y+U*x}else{const U=(w-i-r)/i,O=U*Math.PI/2;D=m+e*Math.sin(O),P=e*Math.cos(O),I=e*Math.sin(O),B=y+x+U*y}const G=Math.max(0,Math.min(1,B/_));let z=0;w===0?z=.5/s:w===M&&(z=-.5/s);for(let U=0;U<=s;U++){const O=U/s,W=O*Math.PI*2,ce=Math.sin(W),se=Math.cos(W);S.x=-P*se,S.y=D,S.z=P*ce,u.push(S.x,S.y,S.z),E.set(-P*se,I,P*ce),E.normalize(),h.push(E.x,E.y,E.z),p.push(O+z,G)}if(w>0){const U=(w-1)*C;for(let O=0;O<s;O++){const W=U+O,ce=U+O+1,se=w*C+O,me=w*C+O+1;o.push(W,ce,se),o.push(ce,me,se)}}}this.setIndex(o),this.setAttribute("position",new _t(u,3)),this.setAttribute("normal",new _t(h,3)),this.setAttribute("uv",new _t(p,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new eA(e.radius,e.height,e.capSegments,e.radialSegments,e.heightSegments)}}class tA extends Kt{constructor(e=1,t=32,i=0,s=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:i,thetaLength:s},t=Math.max(3,t);const r=[],o=[],u=[],h=[],p=new Z,m=new Fe;o.push(0,0,0),u.push(0,0,1),h.push(.5,.5);for(let y=0,x=3;y<=t;y++,x+=3){const _=i+y/t*s;p.x=e*Math.cos(_),p.y=e*Math.sin(_),o.push(p.x,p.y,p.z),u.push(0,0,1),m.x=(o[x]/e+1)/2,m.y=(o[x+1]/e+1)/2,h.push(m.x,m.y)}for(let y=1;y<=t;y++)r.push(y,y+1,0);this.setIndex(r),this.setAttribute("position",new _t(o,3)),this.setAttribute("normal",new _t(u,3)),this.setAttribute("uv",new _t(h,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new tA(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class M0 extends Kt{constructor(e=1,t=1,i=1,s=32,r=1,o=!1,u=0,h=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:i,radialSegments:s,heightSegments:r,openEnded:o,thetaStart:u,thetaLength:h};const p=this;s=Math.floor(s),r=Math.floor(r);const m=[],y=[],x=[],_=[];let M=0;const C=[],E=i/2;let S=0;w(),o===!1&&(e>0&&B(!0),t>0&&B(!1)),this.setIndex(m),this.setAttribute("position",new _t(y,3)),this.setAttribute("normal",new _t(x,3)),this.setAttribute("uv",new _t(_,2));function w(){const D=new Z,P=new Z;let I=0;const G=(t-e)/i;for(let z=0;z<=r;z++){const U=[],O=z/r,W=O*(t-e)+e;for(let ce=0;ce<=s;ce++){const se=ce/s,me=se*h+u,fe=Math.sin(me),F=Math.cos(me);P.x=W*fe,P.y=-O*i+E,P.z=W*F,y.push(P.x,P.y,P.z),D.set(fe,G,F).normalize(),x.push(D.x,D.y,D.z),_.push(se,1-O),U.push(M++)}C.push(U)}for(let z=0;z<s;z++)for(let U=0;U<r;U++){const O=C[U][z],W=C[U+1][z],ce=C[U+1][z+1],se=C[U][z+1];(e>0||U!==0)&&(m.push(O,W,se),I+=3),(t>0||U!==r-1)&&(m.push(W,ce,se),I+=3)}p.addGroup(S,I,0),S+=I}function B(D){const P=M,I=new Fe,G=new Z;let z=0;const U=D===!0?e:t,O=D===!0?1:-1;for(let ce=1;ce<=s;ce++)y.push(0,E*O,0),x.push(0,O,0),_.push(.5,.5),M++;const W=M;for(let ce=0;ce<=s;ce++){const me=ce/s*h+u,fe=Math.cos(me),F=Math.sin(me);G.x=U*F,G.y=E*O,G.z=U*fe,y.push(G.x,G.y,G.z),x.push(0,O,0),I.x=fe*.5+.5,I.y=F*.5*O+.5,_.push(I.x,I.y),M++}for(let ce=0;ce<s;ce++){const se=P+ce,me=W+ce;D===!0?m.push(me,me+1,se):m.push(me+1,me,se),z+=3}p.addGroup(S,z,D===!0?1:2),S+=z}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new M0(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class E0 extends M0{constructor(e=1,t=1,i=32,s=1,r=!1,o=0,u=Math.PI*2){super(0,e,t,i,s,r,o,u),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:i,heightSegments:s,openEnded:r,thetaStart:o,thetaLength:u}}static fromJSON(e){return new E0(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class wu extends Kt{constructor(e=[],t=[],i=1,s=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:i,detail:s};const r=[],o=[];u(s),p(i),m(),this.setAttribute("position",new _t(r,3)),this.setAttribute("normal",new _t(r.slice(),3)),this.setAttribute("uv",new _t(o,2)),s===0?this.computeVertexNormals():this.normalizeNormals();function u(w){const B=new Z,D=new Z,P=new Z;for(let I=0;I<t.length;I+=3)_(t[I+0],B),_(t[I+1],D),_(t[I+2],P),h(B,D,P,w)}function h(w,B,D,P){const I=P+1,G=[];for(let z=0;z<=I;z++){G[z]=[];const U=w.clone().lerp(D,z/I),O=B.clone().lerp(D,z/I),W=I-z;for(let ce=0;ce<=W;ce++)ce===0&&z===I?G[z][ce]=U:G[z][ce]=U.clone().lerp(O,ce/W)}for(let z=0;z<I;z++)for(let U=0;U<2*(I-z)-1;U++){const O=Math.floor(U/2);U%2===0?(x(G[z][O+1]),x(G[z+1][O]),x(G[z][O])):(x(G[z][O+1]),x(G[z+1][O+1]),x(G[z+1][O]))}}function p(w){const B=new Z;for(let D=0;D<r.length;D+=3)B.x=r[D+0],B.y=r[D+1],B.z=r[D+2],B.normalize().multiplyScalar(w),r[D+0]=B.x,r[D+1]=B.y,r[D+2]=B.z}function m(){const w=new Z;for(let B=0;B<r.length;B+=3){w.x=r[B+0],w.y=r[B+1],w.z=r[B+2];const D=E(w)/2/Math.PI+.5,P=S(w)/Math.PI+.5;o.push(D,1-P)}M(),y()}function y(){for(let w=0;w<o.length;w+=6){const B=o[w+0],D=o[w+2],P=o[w+4],I=Math.max(B,D,P),G=Math.min(B,D,P);I>.9&&G<.1&&(B<.2&&(o[w+0]+=1),D<.2&&(o[w+2]+=1),P<.2&&(o[w+4]+=1))}}function x(w){r.push(w.x,w.y,w.z)}function _(w,B){const D=w*3;B.x=e[D+0],B.y=e[D+1],B.z=e[D+2]}function M(){const w=new Z,B=new Z,D=new Z,P=new Z,I=new Fe,G=new Fe,z=new Fe;for(let U=0,O=0;U<r.length;U+=9,O+=6){w.set(r[U+0],r[U+1],r[U+2]),B.set(r[U+3],r[U+4],r[U+5]),D.set(r[U+6],r[U+7],r[U+8]),I.set(o[O+0],o[O+1]),G.set(o[O+2],o[O+3]),z.set(o[O+4],o[O+5]),P.copy(w).add(B).add(D).divideScalar(3);const W=E(P);C(I,O+0,w,W),C(G,O+2,B,W),C(z,O+4,D,W)}}function C(w,B,D,P){P<0&&w.x===1&&(o[B]=w.x-1),D.x===0&&D.z===0&&(o[B]=P/2/Math.PI+.5)}function E(w){return Math.atan2(w.z,-w.x)}function S(w){return Math.atan2(-w.y,Math.sqrt(w.x*w.x+w.z*w.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new wu(e.vertices,e.indices,e.radius,e.details)}}class nA extends wu{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,s=1/i,r=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-s,-i,0,-s,i,0,s,-i,0,s,i,-s,-i,0,-s,i,0,s,-i,0,s,i,0,-i,0,-s,i,0,-s,-i,0,s,i,0,s],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(r,o,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new nA(e.radius,e.detail)}}const Xv=new Z,jv=new Z,Jb=new Z,Yv=new Na;class dN extends Kt{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const s=Math.pow(10,4),r=Math.cos(rh*t),o=e.getIndex(),u=e.getAttribute("position"),h=o?o.count:u.count,p=[0,0,0],m=["a","b","c"],y=new Array(3),x={},_=[];for(let M=0;M<h;M+=3){o?(p[0]=o.getX(M),p[1]=o.getX(M+1),p[2]=o.getX(M+2)):(p[0]=M,p[1]=M+1,p[2]=M+2);const{a:C,b:E,c:S}=Yv;if(C.fromBufferAttribute(u,p[0]),E.fromBufferAttribute(u,p[1]),S.fromBufferAttribute(u,p[2]),Yv.getNormal(Jb),y[0]=`${Math.round(C.x*s)},${Math.round(C.y*s)},${Math.round(C.z*s)}`,y[1]=`${Math.round(E.x*s)},${Math.round(E.y*s)},${Math.round(E.z*s)}`,y[2]=`${Math.round(S.x*s)},${Math.round(S.y*s)},${Math.round(S.z*s)}`,!(y[0]===y[1]||y[1]===y[2]||y[2]===y[0]))for(let w=0;w<3;w++){const B=(w+1)%3,D=y[w],P=y[B],I=Yv[m[w]],G=Yv[m[B]],z=`${D}_${P}`,U=`${P}_${D}`;U in x&&x[U]?(Jb.dot(x[U].normal)<=r&&(_.push(I.x,I.y,I.z),_.push(G.x,G.y,G.z)),x[U]=null):z in x||(x[z]={index0:p[w],index1:p[B],normal:Jb.clone()})}}for(const M in x)if(x[M]){const{index0:C,index1:E}=x[M];Xv.fromBufferAttribute(u,C),jv.fromBufferAttribute(u,E),_.push(Xv.x,Xv.y,Xv.z),_.push(jv.x,jv.y,jv.z)}this.setAttribute("position",new _t(_,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class So{constructor(){this.type="Curve",this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){console.warn("THREE.Curve: .getPoint() not implemented.")}getPointAt(e,t){const i=this.getUtoTmapping(e);return this.getPoint(i,t)}getPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return t}getSpacedPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPointAt(i/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let i,s=this.getPoint(0),r=0;t.push(0);for(let o=1;o<=e;o++)i=this.getPoint(o/e),r+=i.distanceTo(s),t.push(r),s=i;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t=null){const i=this.getLengths();let s=0;const r=i.length;let o;t?o=t:o=e*i[r-1];let u=0,h=r-1,p;for(;u<=h;)if(s=Math.floor(u+(h-u)/2),p=i[s]-o,p<0)u=s+1;else if(p>0)h=s-1;else{h=s;break}if(s=h,i[s]===o)return s/(r-1);const m=i[s],x=i[s+1]-m,_=(o-m)/x;return(s+_)/(r-1)}getTangent(e,t){let s=e-1e-4,r=e+1e-4;s<0&&(s=0),r>1&&(r=1);const o=this.getPoint(s),u=this.getPoint(r),h=t||(o.isVector2?new Fe:new Z);return h.copy(u).sub(o).normalize(),h}getTangentAt(e,t){const i=this.getUtoTmapping(e);return this.getTangent(i,t)}computeFrenetFrames(e,t=!1){const i=new Z,s=[],r=[],o=[],u=new Z,h=new Nt;for(let _=0;_<=e;_++){const M=_/e;s[_]=this.getTangentAt(M,new Z)}r[0]=new Z,o[0]=new Z;let p=Number.MAX_VALUE;const m=Math.abs(s[0].x),y=Math.abs(s[0].y),x=Math.abs(s[0].z);m<=p&&(p=m,i.set(1,0,0)),y<=p&&(p=y,i.set(0,1,0)),x<=p&&i.set(0,0,1),u.crossVectors(s[0],i).normalize(),r[0].crossVectors(s[0],u),o[0].crossVectors(s[0],r[0]);for(let _=1;_<=e;_++){if(r[_]=r[_-1].clone(),o[_]=o[_-1].clone(),u.crossVectors(s[_-1],s[_]),u.length()>Number.EPSILON){u.normalize();const M=Math.acos(Jt(s[_-1].dot(s[_]),-1,1));r[_].applyMatrix4(h.makeRotationAxis(u,M))}o[_].crossVectors(s[_],r[_])}if(t===!0){let _=Math.acos(Jt(r[0].dot(r[e]),-1,1));_/=e,s[0].dot(u.crossVectors(r[0],r[e]))>0&&(_=-_);for(let M=1;M<=e;M++)r[M].applyMatrix4(h.makeRotationAxis(s[M],_*M)),o[M].crossVectors(s[M],r[M])}return{tangents:s,normals:r,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.7,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class iA extends So{constructor(e=0,t=0,i=1,s=1,r=0,o=Math.PI*2,u=!1,h=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=i,this.yRadius=s,this.aStartAngle=r,this.aEndAngle=o,this.aClockwise=u,this.aRotation=h}getPoint(e,t=new Fe){const i=t,s=Math.PI*2;let r=this.aEndAngle-this.aStartAngle;const o=Math.abs(r)<Number.EPSILON;for(;r<0;)r+=s;for(;r>s;)r-=s;r<Number.EPSILON&&(o?r=0:r=s),this.aClockwise===!0&&!o&&(r===s?r=-s:r=r-s);const u=this.aStartAngle+e*r;let h=this.aX+this.xRadius*Math.cos(u),p=this.aY+this.yRadius*Math.sin(u);if(this.aRotation!==0){const m=Math.cos(this.aRotation),y=Math.sin(this.aRotation),x=h-this.aX,_=p-this.aY;h=x*m-_*y+this.aX,p=x*y+_*m+this.aY}return i.set(h,p)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class pN extends iA{constructor(e,t,i,s,r,o){super(e,t,i,i,s,r,o),this.isArcCurve=!0,this.type="ArcCurve"}}function K1(){let n=0,e=0,t=0,i=0;function s(r,o,u,h){n=r,e=u,t=-3*r+3*o-2*u-h,i=2*r-2*o+u+h}return{initCatmullRom:function(r,o,u,h,p){s(o,u,p*(u-r),p*(h-o))},initNonuniformCatmullRom:function(r,o,u,h,p,m,y){let x=(o-r)/p-(u-r)/(p+m)+(u-o)/m,_=(u-o)/m-(h-o)/(m+y)+(h-u)/y;x*=m,_*=m,s(o,u,x,_)},calc:function(r){const o=r*r,u=o*r;return n+e*r+t*o+i*u}}}const qv=new Z,Kb=new K1,Qb=new K1,Zb=new K1;class mN extends So{constructor(e=[],t=!1,i="centripetal",s=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=i,this.tension=s}getPoint(e,t=new Z){const i=t,s=this.points,r=s.length,o=(r-(this.closed?0:1))*e;let u=Math.floor(o),h=o-u;this.closed?u+=u>0?0:(Math.floor(Math.abs(u)/r)+1)*r:h===0&&u===r-1&&(u=r-2,h=1);let p,m;this.closed||u>0?p=s[(u-1)%r]:(qv.subVectors(s[0],s[1]).add(s[0]),p=qv);const y=s[u%r],x=s[(u+1)%r];if(this.closed||u+2<r?m=s[(u+2)%r]:(qv.subVectors(s[r-1],s[r-2]).add(s[r-1]),m=qv),this.curveType==="centripetal"||this.curveType==="chordal"){const _=this.curveType==="chordal"?.5:.25;let M=Math.pow(p.distanceToSquared(y),_),C=Math.pow(y.distanceToSquared(x),_),E=Math.pow(x.distanceToSquared(m),_);C<1e-4&&(C=1),M<1e-4&&(M=C),E<1e-4&&(E=C),Kb.initNonuniformCatmullRom(p.x,y.x,x.x,m.x,M,C,E),Qb.initNonuniformCatmullRom(p.y,y.y,x.y,m.y,M,C,E),Zb.initNonuniformCatmullRom(p.z,y.z,x.z,m.z,M,C,E)}else this.curveType==="catmullrom"&&(Kb.initCatmullRom(p.x,y.x,x.x,m.x,this.tension),Qb.initCatmullRom(p.y,y.y,x.y,m.y,this.tension),Zb.initCatmullRom(p.z,y.z,x.z,m.z,this.tension));return i.set(Kb.calc(h),Qb.calc(h),Zb.calc(h)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const s=e.points[t];this.points.push(s.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const s=this.points[t];e.points.push(s.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const s=e.points[t];this.points.push(new Z().fromArray(s))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function LR(n,e,t,i,s){const r=(i-e)*.5,o=(s-t)*.5,u=n*n,h=n*u;return(2*t-2*i+r+o)*h+(-3*t+3*i-2*r-o)*u+r*n+t}function p5(n,e){const t=1-n;return t*t*e}function m5(n,e){return 2*(1-n)*n*e}function g5(n,e){return n*n*e}function Hg(n,e,t,i){return p5(n,e)+m5(n,t)+g5(n,i)}function y5(n,e){const t=1-n;return t*t*t*e}function v5(n,e){const t=1-n;return 3*t*t*n*e}function x5(n,e){return 3*(1-n)*n*n*e}function _5(n,e){return n*n*n*e}function Gg(n,e,t,i,s){return y5(n,e)+v5(n,t)+x5(n,i)+_5(n,s)}class Q1 extends So{constructor(e=new Fe,t=new Fe,i=new Fe,s=new Fe){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=i,this.v3=s}getPoint(e,t=new Fe){const i=t,s=this.v0,r=this.v1,o=this.v2,u=this.v3;return i.set(Gg(e,s.x,r.x,o.x,u.x),Gg(e,s.y,r.y,o.y,u.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class gN extends So{constructor(e=new Z,t=new Z,i=new Z,s=new Z){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=i,this.v3=s}getPoint(e,t=new Z){const i=t,s=this.v0,r=this.v1,o=this.v2,u=this.v3;return i.set(Gg(e,s.x,r.x,o.x,u.x),Gg(e,s.y,r.y,o.y,u.y),Gg(e,s.z,r.z,o.z,u.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class Z1 extends So{constructor(e=new Fe,t=new Fe){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new Fe){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new Fe){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class yN extends So{constructor(e=new Z,t=new Z){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new Z){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new Z){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class $1 extends So{constructor(e=new Fe,t=new Fe,i=new Fe){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new Fe){const i=t,s=this.v0,r=this.v1,o=this.v2;return i.set(Hg(e,s.x,r.x,o.x),Hg(e,s.y,r.y,o.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class eE extends So{constructor(e=new Z,t=new Z,i=new Z){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new Z){const i=t,s=this.v0,r=this.v1,o=this.v2;return i.set(Hg(e,s.x,r.x,o.x),Hg(e,s.y,r.y,o.y),Hg(e,s.z,r.z,o.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class tE extends So{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new Fe){const i=t,s=this.points,r=(s.length-1)*e,o=Math.floor(r),u=r-o,h=s[o===0?o:o-1],p=s[o],m=s[o>s.length-2?s.length-1:o+1],y=s[o>s.length-3?s.length-1:o+2];return i.set(LR(u,h.x,p.x,m.x,y.x),LR(u,h.y,p.y,m.y,y.y)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const s=e.points[t];this.points.push(s.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const s=this.points[t];e.points.push(s.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const s=e.points[t];this.points.push(new Fe().fromArray(s))}return this}}var y_=Object.freeze({__proto__:null,ArcCurve:pN,CatmullRomCurve3:mN,CubicBezierCurve:Q1,CubicBezierCurve3:gN,EllipseCurve:iA,LineCurve:Z1,LineCurve3:yN,QuadraticBezierCurve:$1,QuadraticBezierCurve3:eE,SplineCurve:tE});class vN extends So{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(t)){const i=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new y_[i](t,e))}return this}getPoint(e,t){const i=e*this.getLength(),s=this.getCurveLengths();let r=0;for(;r<s.length;){if(s[r]>=i){const o=s[r]-i,u=this.curves[r],h=u.getLength(),p=h===0?0:1-o/h;return u.getPointAt(p,t)}r++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let i=0,s=this.curves.length;i<s;i++)t+=this.curves[i].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let i;for(let s=0,r=this.curves;s<r.length;s++){const o=r[s],u=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,h=o.getPoints(u);for(let p=0;p<h.length;p++){const m=h[p];i&&i.equals(m)||(t.push(m),i=m)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const s=e.curves[t];this.curves.push(s.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,i=this.curves.length;t<i;t++){const s=this.curves[t];e.curves.push(s.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const s=e.curves[t];this.curves.push(new y_[s.type]().fromJSON(s))}return this}}class v_ extends vN{constructor(e){super(),this.type="Path",this.currentPoint=new Fe,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,i=e.length;t<i;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const i=new Z1(this.currentPoint.clone(),new Fe(e,t));return this.curves.push(i),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,i,s){const r=new $1(this.currentPoint.clone(),new Fe(e,t),new Fe(i,s));return this.curves.push(r),this.currentPoint.set(i,s),this}bezierCurveTo(e,t,i,s,r,o){const u=new Q1(this.currentPoint.clone(),new Fe(e,t),new Fe(i,s),new Fe(r,o));return this.curves.push(u),this.currentPoint.set(r,o),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),i=new tE(t);return this.curves.push(i),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,i,s,r,o){const u=this.currentPoint.x,h=this.currentPoint.y;return this.absarc(e+u,t+h,i,s,r,o),this}absarc(e,t,i,s,r,o){return this.absellipse(e,t,i,i,s,r,o),this}ellipse(e,t,i,s,r,o,u,h){const p=this.currentPoint.x,m=this.currentPoint.y;return this.absellipse(e+p,t+m,i,s,r,o,u,h),this}absellipse(e,t,i,s,r,o,u,h){const p=new iA(e,t,i,s,r,o,u,h);if(this.curves.length>0){const y=p.getPoint(0);y.equals(this.currentPoint)||this.lineTo(y.x,y.y)}this.curves.push(p);const m=p.getPoint(1);return this.currentPoint.copy(m),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class oh extends v_{constructor(e){super(e),this.uuid=sr(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let i=0,s=this.holes.length;i<s;i++)t[i]=this.holes[i].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const s=e.holes[t];this.holes.push(s.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,i=this.holes.length;t<i;t++){const s=this.holes[t];e.holes.push(s.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const s=e.holes[t];this.holes.push(new v_().fromJSON(s))}return this}}function A5(n,e,t=2){const i=e&&e.length,s=i?e[0]*t:n.length;let r=xN(n,0,s,t,!0);const o=[];if(!r||r.next===r.prev)return o;let u,h,p;if(i&&(r=T5(n,e,r,t)),n.length>80*t){u=1/0,h=1/0;let m=-1/0,y=-1/0;for(let x=t;x<s;x+=t){const _=n[x],M=n[x+1];_<u&&(u=_),M<h&&(h=M),_>m&&(m=_),M>y&&(y=M)}p=Math.max(m-u,y-h),p=p!==0?32767/p:0}return s0(r,o,t,u,h,p,0),o}function xN(n,e,t,i,s){let r;if(s===I5(n,e,t,i)>0)for(let o=e;o<t;o+=i)r=OR(o/i|0,n[o],n[o+1],r);else for(let o=t-i;o>=e;o-=i)r=OR(o/i|0,n[o],n[o+1],r);return r&&yp(r,r.next)&&(r0(r),r=r.next),r}function uh(n,e){if(!n)return n;e||(e=n);let t=n,i;do if(i=!1,!t.steiner&&(yp(t,t.next)||pi(t.prev,t,t.next)===0)){if(r0(t),t=e=t.prev,t===t.next)break;i=!0}else t=t.next;while(i||t!==e);return e}function s0(n,e,t,i,s,r,o){if(!n)return;!o&&r&&D5(n,i,s,r);let u=n;for(;n.prev!==n.next;){const h=n.prev,p=n.next;if(r?S5(n,i,s,r):b5(n)){e.push(h.i,n.i,p.i),r0(n),n=p.next,u=p.next;continue}if(n=p,n===u){o?o===1?(n=M5(uh(n),e),s0(n,e,t,i,s,r,2)):o===2&&E5(n,e,t,i,s,r):s0(uh(n),e,t,i,s,r,1);break}}}function b5(n){const e=n.prev,t=n,i=n.next;if(pi(e,t,i)>=0)return!1;const s=e.x,r=t.x,o=i.x,u=e.y,h=t.y,p=i.y,m=Math.min(s,r,o),y=Math.min(u,h,p),x=Math.max(s,r,o),_=Math.max(u,h,p);let M=i.next;for(;M!==e;){if(M.x>=m&&M.x<=x&&M.y>=y&&M.y<=_&&Eg(s,u,r,h,o,p,M.x,M.y)&&pi(M.prev,M,M.next)>=0)return!1;M=M.next}return!0}function S5(n,e,t,i){const s=n.prev,r=n,o=n.next;if(pi(s,r,o)>=0)return!1;const u=s.x,h=r.x,p=o.x,m=s.y,y=r.y,x=o.y,_=Math.min(u,h,p),M=Math.min(m,y,x),C=Math.max(u,h,p),E=Math.max(m,y,x),S=AM(_,M,e,t,i),w=AM(C,E,e,t,i);let B=n.prevZ,D=n.nextZ;for(;B&&B.z>=S&&D&&D.z<=w;){if(B.x>=_&&B.x<=C&&B.y>=M&&B.y<=E&&B!==s&&B!==o&&Eg(u,m,h,y,p,x,B.x,B.y)&&pi(B.prev,B,B.next)>=0||(B=B.prevZ,D.x>=_&&D.x<=C&&D.y>=M&&D.y<=E&&D!==s&&D!==o&&Eg(u,m,h,y,p,x,D.x,D.y)&&pi(D.prev,D,D.next)>=0))return!1;D=D.nextZ}for(;B&&B.z>=S;){if(B.x>=_&&B.x<=C&&B.y>=M&&B.y<=E&&B!==s&&B!==o&&Eg(u,m,h,y,p,x,B.x,B.y)&&pi(B.prev,B,B.next)>=0)return!1;B=B.prevZ}for(;D&&D.z<=w;){if(D.x>=_&&D.x<=C&&D.y>=M&&D.y<=E&&D!==s&&D!==o&&Eg(u,m,h,y,p,x,D.x,D.y)&&pi(D.prev,D,D.next)>=0)return!1;D=D.nextZ}return!0}function M5(n,e){let t=n;do{const i=t.prev,s=t.next.next;!yp(i,s)&&AN(i,t,t.next,s)&&a0(i,s)&&a0(s,i)&&(e.push(i.i,t.i,s.i),r0(t),r0(t.next),t=n=s),t=t.next}while(t!==n);return uh(t)}function E5(n,e,t,i,s,r){let o=n;do{let u=o.next.next;for(;u!==o.prev;){if(o.i!==u.i&&L5(o,u)){let h=bN(o,u);o=uh(o,o.next),h=uh(h,h.next),s0(o,e,t,i,s,r,0),s0(h,e,t,i,s,r,0);return}u=u.next}o=o.next}while(o!==n)}function T5(n,e,t,i){const s=[];for(let r=0,o=e.length;r<o;r++){const u=e[r]*i,h=r<o-1?e[r+1]*i:n.length,p=xN(n,u,h,i,!1);p===p.next&&(p.steiner=!0),s.push(U5(p))}s.sort(C5);for(let r=0;r<s.length;r++)t=R5(s[r],t);return t}function C5(n,e){let t=n.x-e.x;if(t===0&&(t=n.y-e.y,t===0)){const i=(n.next.y-n.y)/(n.next.x-n.x),s=(e.next.y-e.y)/(e.next.x-e.x);t=i-s}return t}function R5(n,e){const t=w5(n,e);if(!t)return e;const i=bN(t,n);return uh(i,i.next),uh(t,t.next)}function w5(n,e){let t=e;const i=n.x,s=n.y;let r=-1/0,o;if(yp(n,t))return t;do{if(yp(n,t.next))return t.next;if(s<=t.y&&s>=t.next.y&&t.next.y!==t.y){const y=t.x+(s-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(y<=i&&y>r&&(r=y,o=t.x<t.next.x?t:t.next,y===i))return o}t=t.next}while(t!==e);if(!o)return null;const u=o,h=o.x,p=o.y;let m=1/0;t=o;do{if(i>=t.x&&t.x>=h&&i!==t.x&&_N(s<p?i:r,s,h,p,s<p?r:i,s,t.x,t.y)){const y=Math.abs(s-t.y)/(i-t.x);a0(t,n)&&(y<m||y===m&&(t.x>o.x||t.x===o.x&&B5(o,t)))&&(o=t,m=y)}t=t.next}while(t!==u);return o}function B5(n,e){return pi(n.prev,n,e.prev)<0&&pi(e.next,n,n.next)<0}function D5(n,e,t,i){let s=n;do s.z===0&&(s.z=AM(s.x,s.y,e,t,i)),s.prevZ=s.prev,s.nextZ=s.next,s=s.next;while(s!==n);s.prevZ.nextZ=null,s.prevZ=null,N5(s)}function N5(n){let e,t=1;do{let i=n,s;n=null;let r=null;for(e=0;i;){e++;let o=i,u=0;for(let p=0;p<t&&(u++,o=o.nextZ,!!o);p++);let h=t;for(;u>0||h>0&&o;)u!==0&&(h===0||!o||i.z<=o.z)?(s=i,i=i.nextZ,u--):(s=o,o=o.nextZ,h--),r?r.nextZ=s:n=s,s.prevZ=r,r=s;i=o}r.nextZ=null,t*=2}while(e>1);return n}function AM(n,e,t,i,s){return n=(n-t)*s|0,e=(e-i)*s|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function U5(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function _N(n,e,t,i,s,r,o,u){return(s-o)*(e-u)>=(n-o)*(r-u)&&(n-o)*(i-u)>=(t-o)*(e-u)&&(t-o)*(r-u)>=(s-o)*(i-u)}function Eg(n,e,t,i,s,r,o,u){return!(n===o&&e===u)&&_N(n,e,t,i,s,r,o,u)}function L5(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!O5(n,e)&&(a0(n,e)&&a0(e,n)&&P5(n,e)&&(pi(n.prev,n,e.prev)||pi(n,e.prev,e))||yp(n,e)&&pi(n.prev,n,n.next)>0&&pi(e.prev,e,e.next)>0)}function pi(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function yp(n,e){return n.x===e.x&&n.y===e.y}function AN(n,e,t,i){const s=Jv(pi(n,e,t)),r=Jv(pi(n,e,i)),o=Jv(pi(t,i,n)),u=Jv(pi(t,i,e));return!!(s!==r&&o!==u||s===0&&Wv(n,t,e)||r===0&&Wv(n,i,e)||o===0&&Wv(t,n,i)||u===0&&Wv(t,e,i))}function Wv(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function Jv(n){return n>0?1:n<0?-1:0}function O5(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&AN(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function a0(n,e){return pi(n.prev,n,n.next)<0?pi(n,e,n.next)>=0&&pi(n,n.prev,e)>=0:pi(n,e,n.prev)<0||pi(n,n.next,e)<0}function P5(n,e){let t=n,i=!1;const s=(n.x+e.x)/2,r=(n.y+e.y)/2;do t.y>r!=t.next.y>r&&t.next.y!==t.y&&s<(t.next.x-t.x)*(r-t.y)/(t.next.y-t.y)+t.x&&(i=!i),t=t.next;while(t!==n);return i}function bN(n,e){const t=bM(n.i,n.x,n.y),i=bM(e.i,e.x,e.y),s=n.next,r=e.prev;return n.next=e,e.prev=n,t.next=s,s.prev=t,i.next=t,t.prev=i,r.next=i,i.prev=r,i}function OR(n,e,t,i){const s=bM(n,e,t);return i?(s.next=i.next,s.prev=i,i.next.prev=s,i.next=s):(s.prev=s,s.next=s),s}function r0(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function bM(n,e,t){return{i:n,x:e,y:t,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function I5(n,e,t,i){let s=0;for(let r=e,o=t-i;r<t;r+=i)s+=(n[o]-n[r])*(n[r+1]+n[o+1]),o=r;return s}class F5{static triangulate(e,t,i=2){return A5(e,t,i)}}class vo{static area(e){const t=e.length;let i=0;for(let s=t-1,r=0;r<t;s=r++)i+=e[s].x*e[r].y-e[r].x*e[s].y;return i*.5}static isClockWise(e){return vo.area(e)<0}static triangulateShape(e,t){const i=[],s=[],r=[];PR(e),IR(i,e);let o=e.length;t.forEach(PR);for(let h=0;h<t.length;h++)s.push(o),o+=t[h].length,IR(i,t[h]);const u=F5.triangulate(i,s);for(let h=0;h<u.length;h+=3)r.push(u.slice(h,h+3));return r}}function PR(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function IR(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class sA extends Kt{constructor(e=new oh([new Fe(.5,.5),new Fe(-.5,.5),new Fe(-.5,-.5),new Fe(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const i=this,s=[],r=[];for(let u=0,h=e.length;u<h;u++){const p=e[u];o(p)}this.setAttribute("position",new _t(s,3)),this.setAttribute("uv",new _t(r,2)),this.computeVertexNormals();function o(u){const h=[],p=t.curveSegments!==void 0?t.curveSegments:12,m=t.steps!==void 0?t.steps:1,y=t.depth!==void 0?t.depth:1;let x=t.bevelEnabled!==void 0?t.bevelEnabled:!0,_=t.bevelThickness!==void 0?t.bevelThickness:.2,M=t.bevelSize!==void 0?t.bevelSize:_-.1,C=t.bevelOffset!==void 0?t.bevelOffset:0,E=t.bevelSegments!==void 0?t.bevelSegments:3;const S=t.extrudePath,w=t.UVGenerator!==void 0?t.UVGenerator:z5;let B,D=!1,P,I,G,z;S&&(B=S.getSpacedPoints(m),D=!0,x=!1,P=S.computeFrenetFrames(m,!1),I=new Z,G=new Z,z=new Z),x||(E=0,_=0,M=0,C=0);const U=u.extractPoints(p);let O=U.shape;const W=U.holes;if(!vo.isClockWise(O)){O=O.reverse();for(let K=0,Je=W.length;K<Je;K++){const Xe=W[K];vo.isClockWise(Xe)&&(W[K]=Xe.reverse())}}function se(K){const Xe=10000000000000001e-36;let Ge=K[0];for(let Ue=1;Ue<=K.length;Ue++){const at=Ue%K.length,Ve=K[at],et=Ve.x-Ge.x,Ht=Ve.y-Ge.y,$=et*et+Ht*Ht,H=Math.max(Math.abs(Ve.x),Math.abs(Ve.y),Math.abs(Ge.x),Math.abs(Ge.y)),ge=Xe*H*H;if($<=ge){K.splice(at,1),Ue--;continue}Ge=Ve}}se(O),W.forEach(se);const me=W.length,fe=O;for(let K=0;K<me;K++){const Je=W[K];O=O.concat(Je)}function F(K,Je,Xe){return Je||console.error("THREE.ExtrudeGeometry: vec does not exist"),K.clone().addScaledVector(Je,Xe)}const q=O.length;function Y(K,Je,Xe){let Ge,Ue,at;const Ve=K.x-Je.x,et=K.y-Je.y,Ht=Xe.x-K.x,$=Xe.y-K.y,H=Ve*Ve+et*et,ge=Ve*$-et*Ht;if(Math.abs(ge)>Number.EPSILON){const Re=Math.sqrt(H),Be=Math.sqrt(Ht*Ht+$*$),we=Je.x-et/Re,rt=Je.y+Ve/Re,$e=Xe.x-$/Be,dt=Xe.y+Ht/Be,gt=(($e-we)*$-(dt-rt)*Ht)/(Ve*$-et*Ht);Ge=we+Ve*gt-K.x,Ue=rt+et*gt-K.y;const Pe=Ge*Ge+Ue*Ue;if(Pe<=2)return new Fe(Ge,Ue);at=Math.sqrt(Pe/2)}else{let Re=!1;Ve>Number.EPSILON?Ht>Number.EPSILON&&(Re=!0):Ve<-Number.EPSILON?Ht<-Number.EPSILON&&(Re=!0):Math.sign(et)===Math.sign($)&&(Re=!0),Re?(Ge=-et,Ue=Ve,at=Math.sqrt(H)):(Ge=Ve,Ue=et,at=Math.sqrt(H/2))}return new Fe(Ge/at,Ue/at)}const ue=[];for(let K=0,Je=fe.length,Xe=Je-1,Ge=K+1;K<Je;K++,Xe++,Ge++)Xe===Je&&(Xe=0),Ge===Je&&(Ge=0),ue[K]=Y(fe[K],fe[Xe],fe[Ge]);const X=[];let ie,xe=ue.concat();for(let K=0,Je=me;K<Je;K++){const Xe=W[K];ie=[];for(let Ge=0,Ue=Xe.length,at=Ue-1,Ve=Ge+1;Ge<Ue;Ge++,at++,Ve++)at===Ue&&(at=0),Ve===Ue&&(Ve=0),ie[Ge]=Y(Xe[Ge],Xe[at],Xe[Ve]);X.push(ie),xe=xe.concat(ie)}let _e;if(E===0)_e=vo.triangulateShape(fe,W);else{const K=[],Je=[];for(let Xe=0;Xe<E;Xe++){const Ge=Xe/E,Ue=_*Math.cos(Ge*Math.PI/2),at=M*Math.sin(Ge*Math.PI/2)+C;for(let Ve=0,et=fe.length;Ve<et;Ve++){const Ht=F(fe[Ve],ue[Ve],at);bt(Ht.x,Ht.y,-Ue),Ge===0&&K.push(Ht)}for(let Ve=0,et=me;Ve<et;Ve++){const Ht=W[Ve];ie=X[Ve];const $=[];for(let H=0,ge=Ht.length;H<ge;H++){const Re=F(Ht[H],ie[H],at);bt(Re.x,Re.y,-Ue),Ge===0&&$.push(Re)}Ge===0&&Je.push($)}}_e=vo.triangulateShape(K,Je)}const ne=_e.length,Ce=M+C;for(let K=0;K<q;K++){const Je=x?F(O[K],xe[K],Ce):O[K];D?(G.copy(P.normals[0]).multiplyScalar(Je.x),I.copy(P.binormals[0]).multiplyScalar(Je.y),z.copy(B[0]).add(G).add(I),bt(z.x,z.y,z.z)):bt(Je.x,Je.y,0)}for(let K=1;K<=m;K++)for(let Je=0;Je<q;Je++){const Xe=x?F(O[Je],xe[Je],Ce):O[Je];D?(G.copy(P.normals[K]).multiplyScalar(Xe.x),I.copy(P.binormals[K]).multiplyScalar(Xe.y),z.copy(B[K]).add(G).add(I),bt(z.x,z.y,z.z)):bt(Xe.x,Xe.y,y/m*K)}for(let K=E-1;K>=0;K--){const Je=K/E,Xe=_*Math.cos(Je*Math.PI/2),Ge=M*Math.sin(Je*Math.PI/2)+C;for(let Ue=0,at=fe.length;Ue<at;Ue++){const Ve=F(fe[Ue],ue[Ue],Ge);bt(Ve.x,Ve.y,y+Xe)}for(let Ue=0,at=W.length;Ue<at;Ue++){const Ve=W[Ue];ie=X[Ue];for(let et=0,Ht=Ve.length;et<Ht;et++){const $=F(Ve[et],ie[et],Ge);D?bt($.x,$.y+B[m-1].y,B[m-1].x+Xe):bt($.x,$.y,y+Xe)}}}Oe(),He();function Oe(){const K=s.length/3;if(x){let Je=0,Xe=q*Je;for(let Ge=0;Ge<ne;Ge++){const Ue=_e[Ge];it(Ue[2]+Xe,Ue[1]+Xe,Ue[0]+Xe)}Je=m+E*2,Xe=q*Je;for(let Ge=0;Ge<ne;Ge++){const Ue=_e[Ge];it(Ue[0]+Xe,Ue[1]+Xe,Ue[2]+Xe)}}else{for(let Je=0;Je<ne;Je++){const Xe=_e[Je];it(Xe[2],Xe[1],Xe[0])}for(let Je=0;Je<ne;Je++){const Xe=_e[Je];it(Xe[0]+q*m,Xe[1]+q*m,Xe[2]+q*m)}}i.addGroup(K,s.length/3-K,0)}function He(){const K=s.length/3;let Je=0;Ye(fe,Je),Je+=fe.length;for(let Xe=0,Ge=W.length;Xe<Ge;Xe++){const Ue=W[Xe];Ye(Ue,Je),Je+=Ue.length}i.addGroup(K,s.length/3-K,1)}function Ye(K,Je){let Xe=K.length;for(;--Xe>=0;){const Ge=Xe;let Ue=Xe-1;Ue<0&&(Ue=K.length-1);for(let at=0,Ve=m+E*2;at<Ve;at++){const et=q*at,Ht=q*(at+1),$=Je+Ge+et,H=Je+Ue+et,ge=Je+Ue+Ht,Re=Je+Ge+Ht;mt($,H,ge,Re)}}}function bt(K,Je,Xe){h.push(K),h.push(Je),h.push(Xe)}function it(K,Je,Xe){Rt(K),Rt(Je),Rt(Xe);const Ge=s.length/3,Ue=w.generateTopUV(i,s,Ge-3,Ge-2,Ge-1);St(Ue[0]),St(Ue[1]),St(Ue[2])}function mt(K,Je,Xe,Ge){Rt(K),Rt(Je),Rt(Ge),Rt(Je),Rt(Xe),Rt(Ge);const Ue=s.length/3,at=w.generateSideWallUV(i,s,Ue-6,Ue-3,Ue-2,Ue-1);St(at[0]),St(at[1]),St(at[3]),St(at[1]),St(at[2]),St(at[3])}function Rt(K){s.push(h[K*3+0]),s.push(h[K*3+1]),s.push(h[K*3+2])}function St(K){r.push(K.x),r.push(K.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,i=this.parameters.options;return H5(t,i,e)}static fromJSON(e,t){const i=[];for(let r=0,o=e.shapes.length;r<o;r++){const u=t[e.shapes[r]];i.push(u)}const s=e.options.extrudePath;return s!==void 0&&(e.options.extrudePath=new y_[s.type]().fromJSON(s)),new sA(i,e.options)}}const z5={generateTopUV:function(n,e,t,i,s){const r=e[t*3],o=e[t*3+1],u=e[i*3],h=e[i*3+1],p=e[s*3],m=e[s*3+1];return[new Fe(r,o),new Fe(u,h),new Fe(p,m)]},generateSideWallUV:function(n,e,t,i,s,r){const o=e[t*3],u=e[t*3+1],h=e[t*3+2],p=e[i*3],m=e[i*3+1],y=e[i*3+2],x=e[s*3],_=e[s*3+1],M=e[s*3+2],C=e[r*3],E=e[r*3+1],S=e[r*3+2];return Math.abs(u-m)<Math.abs(o-p)?[new Fe(o,1-h),new Fe(p,1-y),new Fe(x,1-M),new Fe(C,1-S)]:[new Fe(u,1-h),new Fe(m,1-y),new Fe(_,1-M),new Fe(E,1-S)]}};function H5(n,e,t){if(t.shapes=[],Array.isArray(n))for(let i=0,s=n.length;i<s;i++){const r=n[i];t.shapes.push(r.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class aA extends wu{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,s=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],r=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(s,r,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new aA(e.radius,e.detail)}}class rA extends Kt{constructor(e=[new Fe(0,-.5),new Fe(.5,0),new Fe(0,.5)],t=12,i=0,s=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:i,phiLength:s},t=Math.floor(t),s=Jt(s,0,Math.PI*2);const r=[],o=[],u=[],h=[],p=[],m=1/t,y=new Z,x=new Fe,_=new Z,M=new Z,C=new Z;let E=0,S=0;for(let w=0;w<=e.length-1;w++)switch(w){case 0:E=e[w+1].x-e[w].x,S=e[w+1].y-e[w].y,_.x=S*1,_.y=-E,_.z=S*0,C.copy(_),_.normalize(),h.push(_.x,_.y,_.z);break;case e.length-1:h.push(C.x,C.y,C.z);break;default:E=e[w+1].x-e[w].x,S=e[w+1].y-e[w].y,_.x=S*1,_.y=-E,_.z=S*0,M.copy(_),_.x+=C.x,_.y+=C.y,_.z+=C.z,_.normalize(),h.push(_.x,_.y,_.z),C.copy(M)}for(let w=0;w<=t;w++){const B=i+w*m*s,D=Math.sin(B),P=Math.cos(B);for(let I=0;I<=e.length-1;I++){y.x=e[I].x*D,y.y=e[I].y,y.z=e[I].x*P,o.push(y.x,y.y,y.z),x.x=w/t,x.y=I/(e.length-1),u.push(x.x,x.y);const G=h[3*I+0]*D,z=h[3*I+1],U=h[3*I+0]*P;p.push(G,z,U)}}for(let w=0;w<t;w++)for(let B=0;B<e.length-1;B++){const D=B+w*e.length,P=D,I=D+e.length,G=D+e.length+1,z=D+1;r.push(P,I,z),r.push(G,z,I)}this.setIndex(r),this.setAttribute("position",new _t(o,3)),this.setAttribute("uv",new _t(u,2)),this.setAttribute("normal",new _t(p,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new rA(e.points,e.segments,e.phiStart,e.phiLength)}}class T0 extends wu{constructor(e=1,t=0){const i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],s=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(i,s,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new T0(e.radius,e.detail)}}class Np extends Kt{constructor(e=1,t=1,i=1,s=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:i,heightSegments:s};const r=e/2,o=t/2,u=Math.floor(i),h=Math.floor(s),p=u+1,m=h+1,y=e/u,x=t/h,_=[],M=[],C=[],E=[];for(let S=0;S<m;S++){const w=S*x-o;for(let B=0;B<p;B++){const D=B*y-r;M.push(D,-w,0),C.push(0,0,1),E.push(B/u),E.push(1-S/h)}}for(let S=0;S<h;S++)for(let w=0;w<u;w++){const B=w+p*S,D=w+p*(S+1),P=w+1+p*(S+1),I=w+1+p*S;_.push(B,D,I),_.push(D,P,I)}this.setIndex(_),this.setAttribute("position",new _t(M,3)),this.setAttribute("normal",new _t(C,3)),this.setAttribute("uv",new _t(E,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Np(e.width,e.height,e.widthSegments,e.heightSegments)}}class oA extends Kt{constructor(e=.5,t=1,i=32,s=1,r=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:i,phiSegments:s,thetaStart:r,thetaLength:o},i=Math.max(3,i),s=Math.max(1,s);const u=[],h=[],p=[],m=[];let y=e;const x=(t-e)/s,_=new Z,M=new Fe;for(let C=0;C<=s;C++){for(let E=0;E<=i;E++){const S=r+E/i*o;_.x=y*Math.cos(S),_.y=y*Math.sin(S),h.push(_.x,_.y,_.z),p.push(0,0,1),M.x=(_.x/t+1)/2,M.y=(_.y/t+1)/2,m.push(M.x,M.y)}y+=x}for(let C=0;C<s;C++){const E=C*(i+1);for(let S=0;S<i;S++){const w=S+E,B=w,D=w+i+1,P=w+i+2,I=w+1;u.push(B,D,I),u.push(D,P,I)}}this.setIndex(u),this.setAttribute("position",new _t(h,3)),this.setAttribute("normal",new _t(p,3)),this.setAttribute("uv",new _t(m,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new oA(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class lA extends Kt{constructor(e=new oh([new Fe(0,.5),new Fe(-.5,-.5),new Fe(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const i=[],s=[],r=[],o=[];let u=0,h=0;if(Array.isArray(e)===!1)p(e);else for(let m=0;m<e.length;m++)p(e[m]),this.addGroup(u,h,m),u+=h,h=0;this.setIndex(i),this.setAttribute("position",new _t(s,3)),this.setAttribute("normal",new _t(r,3)),this.setAttribute("uv",new _t(o,2));function p(m){const y=s.length/3,x=m.extractPoints(t);let _=x.shape;const M=x.holes;vo.isClockWise(_)===!1&&(_=_.reverse());for(let E=0,S=M.length;E<S;E++){const w=M[E];vo.isClockWise(w)===!0&&(M[E]=w.reverse())}const C=vo.triangulateShape(_,M);for(let E=0,S=M.length;E<S;E++){const w=M[E];_=_.concat(w)}for(let E=0,S=_.length;E<S;E++){const w=_[E];s.push(w.x,w.y,0),r.push(0,0,1),o.push(w.x,w.y)}for(let E=0,S=C.length;E<S;E++){const w=C[E],B=w[0]+y,D=w[1]+y,P=w[2]+y;i.push(B,D,P),h+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return G5(t,e)}static fromJSON(e,t){const i=[];for(let s=0,r=e.shapes.length;s<r;s++){const o=t[e.shapes[s]];i.push(o)}return new lA(i,e.curveSegments)}}function G5(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,i=n.length;t<i;t++){const s=n[t];e.shapes.push(s.uuid)}else e.shapes.push(n.uuid);return e}class C0 extends Kt{constructor(e=1,t=32,i=16,s=0,r=Math.PI*2,o=0,u=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:i,phiStart:s,phiLength:r,thetaStart:o,thetaLength:u},t=Math.max(3,Math.floor(t)),i=Math.max(2,Math.floor(i));const h=Math.min(o+u,Math.PI);let p=0;const m=[],y=new Z,x=new Z,_=[],M=[],C=[],E=[];for(let S=0;S<=i;S++){const w=[],B=S/i;let D=0;S===0&&o===0?D=.5/t:S===i&&h===Math.PI&&(D=-.5/t);for(let P=0;P<=t;P++){const I=P/t;y.x=-e*Math.cos(s+I*r)*Math.sin(o+B*u),y.y=e*Math.cos(o+B*u),y.z=e*Math.sin(s+I*r)*Math.sin(o+B*u),M.push(y.x,y.y,y.z),x.copy(y).normalize(),C.push(x.x,x.y,x.z),E.push(I+D,1-B),w.push(p++)}m.push(w)}for(let S=0;S<i;S++)for(let w=0;w<t;w++){const B=m[S][w+1],D=m[S][w],P=m[S+1][w],I=m[S+1][w+1];(S!==0||o>0)&&_.push(B,D,I),(S!==i-1||h<Math.PI)&&_.push(D,P,I)}this.setIndex(_),this.setAttribute("position",new _t(M,3)),this.setAttribute("normal",new _t(C,3)),this.setAttribute("uv",new _t(E,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new C0(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class cA extends wu{constructor(e=1,t=0){const i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],s=[2,1,0,0,3,2,1,3,0,2,3,1];super(i,s,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new cA(e.radius,e.detail)}}class uA extends Kt{constructor(e=1,t=.4,i=12,s=48,r=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:i,tubularSegments:s,arc:r},i=Math.floor(i),s=Math.floor(s);const o=[],u=[],h=[],p=[],m=new Z,y=new Z,x=new Z;for(let _=0;_<=i;_++)for(let M=0;M<=s;M++){const C=M/s*r,E=_/i*Math.PI*2;y.x=(e+t*Math.cos(E))*Math.cos(C),y.y=(e+t*Math.cos(E))*Math.sin(C),y.z=t*Math.sin(E),u.push(y.x,y.y,y.z),m.x=e*Math.cos(C),m.y=e*Math.sin(C),x.subVectors(y,m).normalize(),h.push(x.x,x.y,x.z),p.push(M/s),p.push(_/i)}for(let _=1;_<=i;_++)for(let M=1;M<=s;M++){const C=(s+1)*_+M-1,E=(s+1)*(_-1)+M-1,S=(s+1)*(_-1)+M,w=(s+1)*_+M;o.push(C,E,w),o.push(E,S,w)}this.setIndex(o),this.setAttribute("position",new _t(u,3)),this.setAttribute("normal",new _t(h,3)),this.setAttribute("uv",new _t(p,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new uA(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class fA extends Kt{constructor(e=1,t=.4,i=64,s=8,r=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:i,radialSegments:s,p:r,q:o},i=Math.floor(i),s=Math.floor(s);const u=[],h=[],p=[],m=[],y=new Z,x=new Z,_=new Z,M=new Z,C=new Z,E=new Z,S=new Z;for(let B=0;B<=i;++B){const D=B/i*r*Math.PI*2;w(D,r,o,e,_),w(D+.01,r,o,e,M),E.subVectors(M,_),S.addVectors(M,_),C.crossVectors(E,S),S.crossVectors(C,E),C.normalize(),S.normalize();for(let P=0;P<=s;++P){const I=P/s*Math.PI*2,G=-t*Math.cos(I),z=t*Math.sin(I);y.x=_.x+(G*S.x+z*C.x),y.y=_.y+(G*S.y+z*C.y),y.z=_.z+(G*S.z+z*C.z),h.push(y.x,y.y,y.z),x.subVectors(y,_).normalize(),p.push(x.x,x.y,x.z),m.push(B/i),m.push(P/s)}}for(let B=1;B<=i;B++)for(let D=1;D<=s;D++){const P=(s+1)*(B-1)+(D-1),I=(s+1)*B+(D-1),G=(s+1)*B+D,z=(s+1)*(B-1)+D;u.push(P,I,z),u.push(I,G,z)}this.setIndex(u),this.setAttribute("position",new _t(h,3)),this.setAttribute("normal",new _t(p,3)),this.setAttribute("uv",new _t(m,2));function w(B,D,P,I,G){const z=Math.cos(B),U=Math.sin(B),O=P/D*B,W=Math.cos(O);G.x=I*(2+W)*.5*z,G.y=I*(2+W)*U*.5,G.z=I*Math.sin(O)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new fA(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class hA extends Kt{constructor(e=new eE(new Z(-1,-1,0),new Z(-1,1,0),new Z(1,1,0)),t=64,i=1,s=8,r=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:i,radialSegments:s,closed:r};const o=e.computeFrenetFrames(t,r);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const u=new Z,h=new Z,p=new Fe;let m=new Z;const y=[],x=[],_=[],M=[];C(),this.setIndex(M),this.setAttribute("position",new _t(y,3)),this.setAttribute("normal",new _t(x,3)),this.setAttribute("uv",new _t(_,2));function C(){for(let B=0;B<t;B++)E(B);E(r===!1?t:0),w(),S()}function E(B){m=e.getPointAt(B/t,m);const D=o.normals[B],P=o.binormals[B];for(let I=0;I<=s;I++){const G=I/s*Math.PI*2,z=Math.sin(G),U=-Math.cos(G);h.x=U*D.x+z*P.x,h.y=U*D.y+z*P.y,h.z=U*D.z+z*P.z,h.normalize(),x.push(h.x,h.y,h.z),u.x=m.x+i*h.x,u.y=m.y+i*h.y,u.z=m.z+i*h.z,y.push(u.x,u.y,u.z)}}function S(){for(let B=1;B<=t;B++)for(let D=1;D<=s;D++){const P=(s+1)*(B-1)+(D-1),I=(s+1)*B+(D-1),G=(s+1)*B+D,z=(s+1)*(B-1)+D;M.push(P,I,z),M.push(I,G,z)}}function w(){for(let B=0;B<=t;B++)for(let D=0;D<=s;D++)p.x=B/t,p.y=D/s,_.push(p.x,p.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new hA(new y_[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class SN extends Kt{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],i=new Set,s=new Z,r=new Z;if(e.index!==null){const o=e.attributes.position,u=e.index;let h=e.groups;h.length===0&&(h=[{start:0,count:u.count,materialIndex:0}]);for(let p=0,m=h.length;p<m;++p){const y=h[p],x=y.start,_=y.count;for(let M=x,C=x+_;M<C;M+=3)for(let E=0;E<3;E++){const S=u.getX(M+E),w=u.getX(M+(E+1)%3);s.fromBufferAttribute(o,S),r.fromBufferAttribute(o,w),FR(s,r,i)===!0&&(t.push(s.x,s.y,s.z),t.push(r.x,r.y,r.z))}}}else{const o=e.attributes.position;for(let u=0,h=o.count/3;u<h;u++)for(let p=0;p<3;p++){const m=3*u+p,y=3*u+(p+1)%3;s.fromBufferAttribute(o,m),r.fromBufferAttribute(o,y),FR(s,r,i)===!0&&(t.push(s.x,s.y,s.z),t.push(r.x,r.y,r.z))}}this.setAttribute("position",new _t(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function FR(n,e,t){const i=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,s=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(i)===!0||t.has(s)===!0?!1:(t.add(i),t.add(s),!0)}var zR=Object.freeze({__proto__:null,BoxGeometry:gh,CapsuleGeometry:eA,CircleGeometry:tA,ConeGeometry:E0,CylinderGeometry:M0,DodecahedronGeometry:nA,EdgesGeometry:dN,ExtrudeGeometry:sA,IcosahedronGeometry:aA,LatheGeometry:rA,OctahedronGeometry:T0,PlaneGeometry:Np,PolyhedronGeometry:wu,RingGeometry:oA,ShapeGeometry:lA,SphereGeometry:C0,TetrahedronGeometry:cA,TorusGeometry:uA,TorusKnotGeometry:fA,TubeGeometry:hA,WireframeGeometry:SN});class MN extends is{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new nt(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class EN extends Ao{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class R0 extends is{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new nt(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new nt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ru,this.normalScale=new Fe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Pa,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Pr extends R0{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Fe(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Jt(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new nt(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new nt(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new nt(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class TN extends is{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new nt(16777215),this.specular=new nt(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new nt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ru,this.normalScale=new Fe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Pa,this.combine=x0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class CN extends is{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new nt(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new nt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ru,this.normalScale=new Fe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class RN extends is{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ru,this.normalScale=new Fe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class wN extends is{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new nt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new nt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ru,this.normalScale=new Fe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Pa,this.combine=x0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class nE extends is{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=X3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class iE extends is{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class BN extends is{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new nt(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ru,this.normalScale=new Fe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class DN extends Ys{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function eh(n,e){return!n||n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function NN(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function UN(n){function e(s,r){return n[s]-n[r]}const t=n.length,i=new Array(t);for(let s=0;s!==t;++s)i[s]=s;return i.sort(e),i}function SM(n,e,t){const i=n.length,s=new n.constructor(i);for(let r=0,o=0;o!==i;++r){const u=t[r]*e;for(let h=0;h!==e;++h)s[o++]=n[u+h]}return s}function sE(n,e,t,i){let s=1,r=n[0];for(;r!==void 0&&r[i]===void 0;)r=n[s++];if(r===void 0)return;let o=r[i];if(o!==void 0)if(Array.isArray(o))do o=r[i],o!==void 0&&(e.push(r.time),t.push(...o)),r=n[s++];while(r!==void 0);else if(o.toArray!==void 0)do o=r[i],o!==void 0&&(e.push(r.time),o.toArray(t,t.length)),r=n[s++];while(r!==void 0);else do o=r[i],o!==void 0&&(e.push(r.time),t.push(o)),r=n[s++];while(r!==void 0)}function V5(n,e,t,i,s=30){const r=n.clone();r.name=e;const o=[];for(let h=0;h<r.tracks.length;++h){const p=r.tracks[h],m=p.getValueSize(),y=[],x=[];for(let _=0;_<p.times.length;++_){const M=p.times[_]*s;if(!(M<t||M>=i)){y.push(p.times[_]);for(let C=0;C<m;++C)x.push(p.values[_*m+C])}}y.length!==0&&(p.times=eh(y,p.times.constructor),p.values=eh(x,p.values.constructor),o.push(p))}r.tracks=o;let u=1/0;for(let h=0;h<r.tracks.length;++h)u>r.tracks[h].times[0]&&(u=r.tracks[h].times[0]);for(let h=0;h<r.tracks.length;++h)r.tracks[h].shift(-1*u);return r.resetDuration(),r}function k5(n,e=0,t=n,i=30){i<=0&&(i=30);const s=t.tracks.length,r=e/i;for(let o=0;o<s;++o){const u=t.tracks[o],h=u.ValueTypeName;if(h==="bool"||h==="string")continue;const p=n.tracks.find(function(S){return S.name===u.name&&S.ValueTypeName===h});if(p===void 0)continue;let m=0;const y=u.getValueSize();u.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(m=y/3);let x=0;const _=p.getValueSize();p.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(x=_/3);const M=u.times.length-1;let C;if(r<=u.times[0]){const S=m,w=y-m;C=u.values.slice(S,w)}else if(r>=u.times[M]){const S=M*y+m,w=S+y-m;C=u.values.slice(S,w)}else{const S=u.createInterpolant(),w=m,B=y-m;S.evaluate(r),C=S.resultBuffer.slice(w,B)}h==="quaternion"&&new Oi().fromArray(C).normalize().conjugate().toArray(C);const E=p.times.length;for(let S=0;S<E;++S){const w=S*_+x;if(h==="quaternion")Oi.multiplyQuaternionsFlat(p.values,w,C,0,p.values,w);else{const B=_-x*2;for(let D=0;D<B;++D)p.values[w+D]-=C[D]}}}return n.blendMode=O1,n}class X5{static convertArray(e,t){return eh(e,t)}static isTypedArray(e){return NN(e)}static getKeyframeOrder(e){return UN(e)}static sortedArray(e,t,i){return SM(e,t,i)}static flattenJSON(e,t,i,s){sE(e,t,i,s)}static subclip(e,t,i,s,r=30){return V5(e,t,i,s,r)}static makeClipAdditive(e,t=0,i=e,s=30){return k5(e,t,i,s)}}class Up{constructor(e,t,i,s){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=s!==void 0?s:new t.constructor(i),this.sampleValues=t,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let i=this._cachedIndex,s=t[i],r=t[i-1];e:{t:{let o;n:{i:if(!(e<s)){for(let u=i+2;;){if(s===void 0){if(e<r)break i;return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===u)break;if(r=s,s=t[++i],e<s)break t}o=t.length;break n}if(!(e>=r)){const u=t[1];e<u&&(i=2,r=u);for(let h=i-2;;){if(r===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===h)break;if(s=r,r=t[--i-1],e>=r)break t}o=i,i=0;break n}break e}for(;i<o;){const u=i+o>>>1;e<t[u]?o=u:i=u+1}if(s=t[i],r=t[i-1],r===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(s===void 0)return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,r,s)}return this.interpolate_(i,r,e,s)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,s=this.valueSize,r=e*s;for(let o=0;o!==s;++o)t[o]=i[r+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class LN extends Up{constructor(e,t,i,s){super(e,t,i,s),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Zf,endingEnd:Zf}}intervalChanged_(e,t,i){const s=this.parameterPositions;let r=e-2,o=e+1,u=s[r],h=s[o];if(u===void 0)switch(this.getSettings_().endingStart){case $f:r=e,u=2*t-i;break;case $g:r=s.length-2,u=t+s[r]-s[r+1];break;default:r=e,u=i}if(h===void 0)switch(this.getSettings_().endingEnd){case $f:o=e,h=2*i-t;break;case $g:o=1,h=i+s[1]-s[0];break;default:o=e-1,h=t}const p=(i-t)*.5,m=this.valueSize;this._weightPrev=p/(t-u),this._weightNext=p/(h-i),this._offsetPrev=r*m,this._offsetNext=o*m}interpolate_(e,t,i,s){const r=this.resultBuffer,o=this.sampleValues,u=this.valueSize,h=e*u,p=h-u,m=this._offsetPrev,y=this._offsetNext,x=this._weightPrev,_=this._weightNext,M=(i-t)/(s-t),C=M*M,E=C*M,S=-x*E+2*x*C-x*M,w=(1+x)*E+(-1.5-2*x)*C+(-.5+x)*M+1,B=(-1-_)*E+(1.5+_)*C+.5*M,D=_*E-_*C;for(let P=0;P!==u;++P)r[P]=S*o[m+P]+w*o[p+P]+B*o[h+P]+D*o[y+P];return r}}class aE extends Up{constructor(e,t,i,s){super(e,t,i,s)}interpolate_(e,t,i,s){const r=this.resultBuffer,o=this.sampleValues,u=this.valueSize,h=e*u,p=h-u,m=(i-t)/(s-t),y=1-m;for(let x=0;x!==u;++x)r[x]=o[p+x]*y+o[h+x]*m;return r}}class ON extends Up{constructor(e,t,i,s){super(e,t,i,s)}interpolate_(e){return this.copySampleValue_(e-1)}}class Ir{constructor(e,t,i,s){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=eh(t,this.TimeBufferType),this.values=eh(i,this.ValueBufferType),this.setInterpolation(s||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let i;if(t.toJSON!==this.toJSON)i=t.toJSON(e);else{i={name:e.name,times:eh(e.times,Array),values:eh(e.values,Array)};const s=e.getInterpolation();s!==e.DefaultInterpolation&&(i.interpolation=s)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new ON(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new aE(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new LN(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case hp:t=this.InterpolantFactoryMethodDiscrete;break;case dp:t=this.InterpolantFactoryMethodLinear;break;case Ax:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return hp;case this.InterpolantFactoryMethodLinear:return dp;case this.InterpolantFactoryMethodSmooth:return Ax}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let i=0,s=t.length;i!==s;++i)t[i]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let i=0,s=t.length;i!==s;++i)t[i]*=e}return this}trim(e,t){const i=this.times,s=i.length;let r=0,o=s-1;for(;r!==s&&i[r]<e;)++r;for(;o!==-1&&i[o]>t;)--o;if(++o,r!==0||o!==s){r>=o&&(o=Math.max(o,1),r=o-1);const u=this.getValueSize();this.times=i.slice(r,o),this.values=this.values.slice(r*u,o*u)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const i=this.times,s=this.values,r=i.length;r===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let u=0;u!==r;u++){const h=i[u];if(typeof h=="number"&&isNaN(h)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,u,h),e=!1;break}if(o!==null&&o>h){console.error("THREE.KeyframeTrack: Out of order keys.",this,u,h,o),e=!1;break}o=h}if(s!==void 0&&NN(s))for(let u=0,h=s.length;u!==h;++u){const p=s[u];if(isNaN(p)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,u,p),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),i=this.getValueSize(),s=this.getInterpolation()===Ax,r=e.length-1;let o=1;for(let u=1;u<r;++u){let h=!1;const p=e[u],m=e[u+1];if(p!==m&&(u!==1||p!==e[0]))if(s)h=!0;else{const y=u*i,x=y-i,_=y+i;for(let M=0;M!==i;++M){const C=t[y+M];if(C!==t[x+M]||C!==t[_+M]){h=!0;break}}}if(h){if(u!==o){e[o]=e[u];const y=u*i,x=o*i;for(let _=0;_!==i;++_)t[x+_]=t[y+_]}++o}}if(r>0){e[o]=e[r];for(let u=r*i,h=o*i,p=0;p!==i;++p)t[h+p]=t[u+p];++o}return o!==e.length?(this.times=e.slice(0,o),this.values=t.slice(0,o*i)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),i=this.constructor,s=new i(this.name,e,t);return s.createInterpolant=this.createInterpolant,s}}Ir.prototype.ValueTypeName="";Ir.prototype.TimeBufferType=Float32Array;Ir.prototype.ValueBufferType=Float32Array;Ir.prototype.DefaultInterpolation=dp;class yh extends Ir{constructor(e,t,i){super(e,t,i)}}yh.prototype.ValueTypeName="bool";yh.prototype.ValueBufferType=Array;yh.prototype.DefaultInterpolation=hp;yh.prototype.InterpolantFactoryMethodLinear=void 0;yh.prototype.InterpolantFactoryMethodSmooth=void 0;class rE extends Ir{constructor(e,t,i,s){super(e,t,i,s)}}rE.prototype.ValueTypeName="color";class fh extends Ir{constructor(e,t,i,s){super(e,t,i,s)}}fh.prototype.ValueTypeName="number";class PN extends Up{constructor(e,t,i,s){super(e,t,i,s)}interpolate_(e,t,i,s){const r=this.resultBuffer,o=this.sampleValues,u=this.valueSize,h=(i-t)/(s-t);let p=e*u;for(let m=p+u;p!==m;p+=4)Oi.slerpFlat(r,0,o,p-u,o,p,h);return r}}class hh extends Ir{constructor(e,t,i,s){super(e,t,i,s)}InterpolantFactoryMethodLinear(e){return new PN(this.times,this.values,this.getValueSize(),e)}}hh.prototype.ValueTypeName="quaternion";hh.prototype.InterpolantFactoryMethodSmooth=void 0;class vh extends Ir{constructor(e,t,i){super(e,t,i)}}vh.prototype.ValueTypeName="string";vh.prototype.ValueBufferType=Array;vh.prototype.DefaultInterpolation=hp;vh.prototype.InterpolantFactoryMethodLinear=void 0;vh.prototype.InterpolantFactoryMethodSmooth=void 0;class dh extends Ir{constructor(e,t,i,s){super(e,t,i,s)}}dh.prototype.ValueTypeName="vector";class vp{constructor(e="",t=-1,i=[],s=X_){this.name=e,this.tracks=i,this.duration=t,this.blendMode=s,this.uuid=sr(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],i=e.tracks,s=1/(e.fps||1);for(let o=0,u=i.length;o!==u;++o)t.push(Y5(i[o]).scale(s));const r=new this(e.name,e.duration,t,e.blendMode);return r.uuid=e.uuid,r}static toJSON(e){const t=[],i=e.tracks,s={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let r=0,o=i.length;r!==o;++r)t.push(Ir.toJSON(i[r]));return s}static CreateFromMorphTargetSequence(e,t,i,s){const r=t.length,o=[];for(let u=0;u<r;u++){let h=[],p=[];h.push((u+r-1)%r,u,(u+1)%r),p.push(0,1,0);const m=UN(h);h=SM(h,1,m),p=SM(p,1,m),!s&&h[0]===0&&(h.push(r),p.push(p[0])),o.push(new fh(".morphTargetInfluences["+t[u].name+"]",h,p).scale(1/i))}return new this(e,-1,o)}static findByName(e,t){let i=e;if(!Array.isArray(e)){const s=e;i=s.geometry&&s.geometry.animations||s.animations}for(let s=0;s<i.length;s++)if(i[s].name===t)return i[s];return null}static CreateClipsFromMorphTargetSequences(e,t,i){const s={},r=/^([\w-]*?)([\d]+)$/;for(let u=0,h=e.length;u<h;u++){const p=e[u],m=p.name.match(r);if(m&&m.length>1){const y=m[1];let x=s[y];x||(s[y]=x=[]),x.push(p)}}const o=[];for(const u in s)o.push(this.CreateFromMorphTargetSequence(u,s[u],t,i));return o}static parseAnimation(e,t){if(console.warn("THREE.AnimationClip: parseAnimation() is deprecated and will be removed with r185"),!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const i=function(y,x,_,M,C){if(_.length!==0){const E=[],S=[];sE(_,E,S,M),E.length!==0&&C.push(new y(x,E,S))}},s=[],r=e.name||"default",o=e.fps||30,u=e.blendMode;let h=e.length||-1;const p=e.hierarchy||[];for(let y=0;y<p.length;y++){const x=p[y].keys;if(!(!x||x.length===0))if(x[0].morphTargets){const _={};let M;for(M=0;M<x.length;M++)if(x[M].morphTargets)for(let C=0;C<x[M].morphTargets.length;C++)_[x[M].morphTargets[C]]=-1;for(const C in _){const E=[],S=[];for(let w=0;w!==x[M].morphTargets.length;++w){const B=x[M];E.push(B.time),S.push(B.morphTarget===C?1:0)}s.push(new fh(".morphTargetInfluence["+C+"]",E,S))}h=_.length*o}else{const _=".bones["+t[y].name+"]";i(dh,_+".position",x,"pos",s),i(hh,_+".quaternion",x,"rot",s),i(dh,_+".scale",x,"scl",s)}}return s.length===0?null:new this(r,h,s,u)}resetDuration(){const e=this.tracks;let t=0;for(let i=0,s=e.length;i!==s;++i){const r=this.tracks[i];t=Math.max(t,r.times[r.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function j5(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return fh;case"vector":case"vector2":case"vector3":case"vector4":return dh;case"color":return rE;case"quaternion":return hh;case"bool":case"boolean":return yh;case"string":return vh}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function Y5(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=j5(n.type);if(n.times===void 0){const t=[],i=[];sE(n.keys,t,i,"value"),n.times=t,n.values=i}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const nc={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class oE{constructor(e,t,i){const s=this;let r=!1,o=0,u=0,h;const p=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=i,this.itemStart=function(m){u++,r===!1&&s.onStart!==void 0&&s.onStart(m,o,u),r=!0},this.itemEnd=function(m){o++,s.onProgress!==void 0&&s.onProgress(m,o,u),o===u&&(r=!1,s.onLoad!==void 0&&s.onLoad())},this.itemError=function(m){s.onError!==void 0&&s.onError(m)},this.resolveURL=function(m){return h?h(m):m},this.setURLModifier=function(m){return h=m,this},this.addHandler=function(m,y){return p.push(m,y),this},this.removeHandler=function(m){const y=p.indexOf(m);return y!==-1&&p.splice(y,2),this},this.getHandler=function(m){for(let y=0,x=p.length;y<x;y+=2){const _=p[y],M=p[y+1];if(_.global&&(_.lastIndex=0),_.test(m))return M}return null}}}const Qd=new oE;let qs=class{constructor(e){this.manager=e!==void 0?e:Qd,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const i=this;return new Promise(function(s,r){i.load(e,s,t,r)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}};qs.DEFAULT_MATERIAL_NAME="__DEFAULT";const Wl={};class q5 extends Error{constructor(e,t){super(e),this.response=t}}class ar extends qs{constructor(e){super(e),this.mimeType="",this.responseType=""}load(e,t,i,s){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const r=nc.get(e);if(r!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(r),this.manager.itemEnd(e)},0),r;if(Wl[e]!==void 0){Wl[e].push({onLoad:t,onProgress:i,onError:s});return}Wl[e]=[],Wl[e].push({onLoad:t,onProgress:i,onError:s});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),u=this.mimeType,h=this.responseType;fetch(o).then(p=>{if(p.status===200||p.status===0){if(p.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||p.body===void 0||p.body.getReader===void 0)return p;const m=Wl[e],y=p.body.getReader(),x=p.headers.get("X-File-Size")||p.headers.get("Content-Length"),_=x?parseInt(x):0,M=_!==0;let C=0;const E=new ReadableStream({start(S){w();function w(){y.read().then(({done:B,value:D})=>{if(B)S.close();else{C+=D.byteLength;const P=new ProgressEvent("progress",{lengthComputable:M,loaded:C,total:_});for(let I=0,G=m.length;I<G;I++){const z=m[I];z.onProgress&&z.onProgress(P)}S.enqueue(D),w()}},B=>{S.error(B)})}}});return new Response(E)}else throw new q5(`fetch for "${p.url}" responded with ${p.status}: ${p.statusText}`,p)}).then(p=>{switch(h){case"arraybuffer":return p.arrayBuffer();case"blob":return p.blob();case"document":return p.text().then(m=>new DOMParser().parseFromString(m,u));case"json":return p.json();default:if(u==="")return p.text();{const y=/charset="?([^;"\s]*)"?/i.exec(u),x=y&&y[1]?y[1].toLowerCase():void 0,_=new TextDecoder(x);return p.arrayBuffer().then(M=>_.decode(M))}}}).then(p=>{nc.add(e,p);const m=Wl[e];delete Wl[e];for(let y=0,x=m.length;y<x;y++){const _=m[y];_.onLoad&&_.onLoad(p)}}).catch(p=>{const m=Wl[e];if(m===void 0)throw this.manager.itemError(e),p;delete Wl[e];for(let y=0,x=m.length;y<x;y++){const _=m[y];_.onError&&_.onError(p)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class W5 extends qs{constructor(e){super(e)}load(e,t,i,s){const r=this,o=new ar(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(u){try{t(r.parse(JSON.parse(u)))}catch(h){s?s(h):console.error(h),r.manager.itemError(e)}},i,s)}parse(e){const t=[];for(let i=0;i<e.length;i++){const s=vp.parse(e[i]);t.push(s)}return t}}class J5 extends qs{constructor(e){super(e)}load(e,t,i,s){const r=this,o=[],u=new $_,h=new ar(this.manager);h.setPath(this.path),h.setResponseType("arraybuffer"),h.setRequestHeader(this.requestHeader),h.setWithCredentials(r.withCredentials);let p=0;function m(y){h.load(e[y],function(x){const _=r.parse(x,!0);o[y]={width:_.width,height:_.height,format:_.format,mipmaps:_.mipmaps},p+=1,p===6&&(_.mipmapCount===1&&(u.minFilter=Ui),u.image=o,u.format=_.format,u.needsUpdate=!0,t&&t(u))},i,s)}if(Array.isArray(e))for(let y=0,x=e.length;y<x;++y)m(y);else h.load(e,function(y){const x=r.parse(y,!0);if(x.isCubemap){const _=x.mipmaps.length/x.mipmapCount;for(let M=0;M<_;M++){o[M]={mipmaps:[]};for(let C=0;C<x.mipmapCount;C++)o[M].mipmaps.push(x.mipmaps[M*x.mipmapCount+C]),o[M].format=x.format,o[M].width=x.width,o[M].height=x.height}u.image=o}else u.image.width=x.width,u.image.height=x.height,u.mipmaps=x.mipmaps;x.mipmapCount===1&&(u.minFilter=Ui),u.format=x.format,u.needsUpdate=!0,t&&t(u)},i,s);return u}}class o0 extends qs{constructor(e){super(e)}load(e,t,i,s){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const r=this,o=nc.get(e);if(o!==void 0)return r.manager.itemStart(e),setTimeout(function(){t&&t(o),r.manager.itemEnd(e)},0),o;const u=i0("img");function h(){m(),nc.add(e,this),t&&t(this),r.manager.itemEnd(e)}function p(y){m(),s&&s(y),r.manager.itemError(e),r.manager.itemEnd(e)}function m(){u.removeEventListener("load",h,!1),u.removeEventListener("error",p,!1)}return u.addEventListener("load",h,!1),u.addEventListener("error",p,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(u.crossOrigin=this.crossOrigin),r.manager.itemStart(e),u.src=e,u}}class K5 extends qs{constructor(e){super(e)}load(e,t,i,s){const r=new A0;r.colorSpace=Xs;const o=new o0(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let u=0;function h(p){o.load(e[p],function(m){r.images[p]=m,u++,u===6&&(r.needsUpdate=!0,t&&t(r))},void 0,s)}for(let p=0;p<e.length;++p)h(p);return r}}class Q5 extends qs{constructor(e){super(e)}load(e,t,i,s){const r=this,o=new hl,u=new ar(this.manager);return u.setResponseType("arraybuffer"),u.setRequestHeader(this.requestHeader),u.setPath(this.path),u.setWithCredentials(r.withCredentials),u.load(e,function(h){let p;try{p=r.parse(h)}catch(m){if(s!==void 0)s(m);else{console.error(m);return}}p.image!==void 0?o.image=p.image:p.data!==void 0&&(o.image.width=p.width,o.image.height=p.height,o.image.data=p.data),o.wrapS=p.wrapS!==void 0?p.wrapS:nr,o.wrapT=p.wrapT!==void 0?p.wrapT:nr,o.magFilter=p.magFilter!==void 0?p.magFilter:Ui,o.minFilter=p.minFilter!==void 0?p.minFilter:Ui,o.anisotropy=p.anisotropy!==void 0?p.anisotropy:1,p.colorSpace!==void 0&&(o.colorSpace=p.colorSpace),p.flipY!==void 0&&(o.flipY=p.flipY),p.format!==void 0&&(o.format=p.format),p.type!==void 0&&(o.type=p.type),p.mipmaps!==void 0&&(o.mipmaps=p.mipmaps,o.minFilter=Ur),p.mipmapCount===1&&(o.minFilter=Ui),p.generateMipmaps!==void 0&&(o.generateMipmaps=p.generateMipmaps),o.needsUpdate=!0,t&&t(o,p)},i,s),o}}class IN extends qs{constructor(e){super(e)}load(e,t,i,s){const r=new oi,o=new o0(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(u){r.image=u,r.needsUpdate=!0,t!==void 0&&t(r)},i,s),r}}class Bu extends gn{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new nt(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(t.object.target=this.target.uuid),t}}class FN extends Bu{constructor(e,t,i){super(e,i),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(gn.DEFAULT_UP),this.updateMatrix(),this.groundColor=new nt(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const $b=new Nt,HR=new Z,GR=new Z;class lE{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Fe(512,512),this.mapType=Or,this.map=null,this.mapPass=null,this.matrix=new Nt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Dp,this._frameExtents=new Fe(1,1),this._viewportCount=1,this._viewports=[new mn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,i=this.matrix;HR.setFromMatrixPosition(e.matrixWorld),t.position.copy(HR),GR.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(GR),t.updateMatrixWorld(),$b.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix($b),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply($b)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.autoUpdate=e.autoUpdate,this.needsUpdate=e.needsUpdate,this.normalBias=e.normalBias,this.blurSamples=e.blurSamples,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class Z5 extends lE{constructor(){super(new Ni(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1,this.aspect=1}updateMatrices(e){const t=this.camera,i=pp*2*e.angle*this.focus,s=this.mapSize.width/this.mapSize.height*this.aspect,r=e.distance||t.far;(i!==t.fov||s!==t.aspect||r!==t.far)&&(t.fov=i,t.aspect=s,t.far=r,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class cE extends Bu{constructor(e,t,i=0,s=Math.PI/3,r=0,o=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(gn.DEFAULT_UP),this.updateMatrix(),this.target=new gn,this.distance=i,this.angle=s,this.penumbra=r,this.decay=o,this.map=null,this.shadow=new Z5}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const VR=new Nt,dg=new Z,eS=new Z;class $5 extends lE{constructor(){super(new Ni(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Fe(4,2),this._viewportCount=6,this._viewports=[new mn(2,1,1,1),new mn(0,1,1,1),new mn(3,1,1,1),new mn(1,1,1,1),new mn(3,0,1,1),new mn(1,0,1,1)],this._cubeDirections=[new Z(1,0,0),new Z(-1,0,0),new Z(0,0,1),new Z(0,0,-1),new Z(0,1,0),new Z(0,-1,0)],this._cubeUps=[new Z(0,1,0),new Z(0,1,0),new Z(0,1,0),new Z(0,1,0),new Z(0,0,1),new Z(0,0,-1)]}updateMatrices(e,t=0){const i=this.camera,s=this.matrix,r=e.distance||i.far;r!==i.far&&(i.far=r,i.updateProjectionMatrix()),dg.setFromMatrixPosition(e.matrixWorld),i.position.copy(dg),eS.copy(i.position),eS.add(this._cubeDirections[t]),i.up.copy(this._cubeUps[t]),i.lookAt(eS),i.updateMatrixWorld(),s.makeTranslation(-dg.x,-dg.y,-dg.z),VR.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(VR)}}class uE extends Bu{constructor(e,t,i=0,s=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=s,this.shadow=new $5}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class Du extends q_{constructor(e=-1,t=1,i=1,s=-1,r=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=i,this.bottom=s,this.near=r,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,i,s,r,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=s,this.view.width=r,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,s=(this.top+this.bottom)/2;let r=i-e,o=i+e,u=s+t,h=s-t;if(this.view!==null&&this.view.enabled){const p=(this.right-this.left)/this.view.fullWidth/this.zoom,m=(this.top-this.bottom)/this.view.fullHeight/this.zoom;r+=p*this.view.offsetX,o=r+p*this.view.width,u-=m*this.view.offsetY,h=u-m*this.view.height}this.projectionMatrix.makeOrthographic(r,o,u,h,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}class e8 extends lE{constructor(){super(new Du(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class fE extends Bu{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(gn.DEFAULT_UP),this.updateMatrix(),this.target=new gn,this.shadow=new e8}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class zN extends Bu{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class HN extends Bu{constructor(e,t,i=10,s=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=i,this.height=s}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class GN{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new Z)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const i=e.x,s=e.y,r=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*s),t.addScaledVector(o[2],.488603*r),t.addScaledVector(o[3],.488603*i),t.addScaledVector(o[4],1.092548*(i*s)),t.addScaledVector(o[5],1.092548*(s*r)),t.addScaledVector(o[6],.315392*(3*r*r-1)),t.addScaledVector(o[7],1.092548*(i*r)),t.addScaledVector(o[8],.546274*(i*i-s*s)),t}getIrradianceAt(e,t){const i=e.x,s=e.y,r=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],2*.511664*s),t.addScaledVector(o[2],2*.511664*r),t.addScaledVector(o[3],2*.511664*i),t.addScaledVector(o[4],2*.429043*i*s),t.addScaledVector(o[5],2*.429043*s*r),t.addScaledVector(o[6],.743125*r*r-.247708),t.addScaledVector(o[7],2*.429043*i*r),t.addScaledVector(o[8],.429043*(i*i-s*s)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(e.coefficients[i],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let i=0;i<9;i++)this.coefficients[i].lerp(e.coefficients[i],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const i=this.coefficients;for(let s=0;s<9;s++)i[s].fromArray(e,t+s*3);return this}toArray(e=[],t=0){const i=this.coefficients;for(let s=0;s<9;s++)i[s].toArray(e,t+s*3);return e}static getBasisAt(e,t){const i=e.x,s=e.y,r=e.z;t[0]=.282095,t[1]=.488603*s,t[2]=.488603*r,t[3]=.488603*i,t[4]=1.092548*i*s,t[5]=1.092548*s*r,t[6]=.315392*(3*r*r-1),t[7]=1.092548*i*r,t[8]=.546274*(i*i-s*s)}}class VN extends Bu{constructor(e=new GN,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class dA extends qs{constructor(e){super(e),this.textures={}}load(e,t,i,s){const r=this,o=new ar(r.manager);o.setPath(r.path),o.setRequestHeader(r.requestHeader),o.setWithCredentials(r.withCredentials),o.load(e,function(u){try{t(r.parse(JSON.parse(u)))}catch(h){s?s(h):console.error(h),r.manager.itemError(e)}},i,s)}parse(e){const t=this.textures;function i(r){return t[r]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",r),t[r]}const s=this.createMaterialFromType(e.type);if(e.uuid!==void 0&&(s.uuid=e.uuid),e.name!==void 0&&(s.name=e.name),e.color!==void 0&&s.color!==void 0&&s.color.setHex(e.color),e.roughness!==void 0&&(s.roughness=e.roughness),e.metalness!==void 0&&(s.metalness=e.metalness),e.sheen!==void 0&&(s.sheen=e.sheen),e.sheenColor!==void 0&&(s.sheenColor=new nt().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(s.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&s.emissive!==void 0&&s.emissive.setHex(e.emissive),e.specular!==void 0&&s.specular!==void 0&&s.specular.setHex(e.specular),e.specularIntensity!==void 0&&(s.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&s.specularColor!==void 0&&s.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(s.shininess=e.shininess),e.clearcoat!==void 0&&(s.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(s.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(s.dispersion=e.dispersion),e.iridescence!==void 0&&(s.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(s.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(s.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(s.transmission=e.transmission),e.thickness!==void 0&&(s.thickness=e.thickness),e.attenuationDistance!==void 0&&(s.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&s.attenuationColor!==void 0&&s.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(s.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(s.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(s.fog=e.fog),e.flatShading!==void 0&&(s.flatShading=e.flatShading),e.blending!==void 0&&(s.blending=e.blending),e.combine!==void 0&&(s.combine=e.combine),e.side!==void 0&&(s.side=e.side),e.shadowSide!==void 0&&(s.shadowSide=e.shadowSide),e.opacity!==void 0&&(s.opacity=e.opacity),e.transparent!==void 0&&(s.transparent=e.transparent),e.alphaTest!==void 0&&(s.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(s.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(s.depthFunc=e.depthFunc),e.depthTest!==void 0&&(s.depthTest=e.depthTest),e.depthWrite!==void 0&&(s.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(s.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(s.blendSrc=e.blendSrc),e.blendDst!==void 0&&(s.blendDst=e.blendDst),e.blendEquation!==void 0&&(s.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(s.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(s.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(s.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&s.blendColor!==void 0&&s.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(s.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(s.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(s.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(s.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(s.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(s.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(s.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(s.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(s.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(s.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(s.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(s.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(s.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(s.rotation=e.rotation),e.linewidth!==void 0&&(s.linewidth=e.linewidth),e.dashSize!==void 0&&(s.dashSize=e.dashSize),e.gapSize!==void 0&&(s.gapSize=e.gapSize),e.scale!==void 0&&(s.scale=e.scale),e.polygonOffset!==void 0&&(s.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(s.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(s.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(s.dithering=e.dithering),e.alphaToCoverage!==void 0&&(s.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(s.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(s.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(s.visible=e.visible),e.toneMapped!==void 0&&(s.toneMapped=e.toneMapped),e.userData!==void 0&&(s.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?s.vertexColors=e.vertexColors>0:s.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const r in e.uniforms){const o=e.uniforms[r];switch(s.uniforms[r]={},o.type){case"t":s.uniforms[r].value=i(o.value);break;case"c":s.uniforms[r].value=new nt().setHex(o.value);break;case"v2":s.uniforms[r].value=new Fe().fromArray(o.value);break;case"v3":s.uniforms[r].value=new Z().fromArray(o.value);break;case"v4":s.uniforms[r].value=new mn().fromArray(o.value);break;case"m3":s.uniforms[r].value=new Zt().fromArray(o.value);break;case"m4":s.uniforms[r].value=new Nt().fromArray(o.value);break;default:s.uniforms[r].value=o.value}}if(e.defines!==void 0&&(s.defines=e.defines),e.vertexShader!==void 0&&(s.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(s.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(s.glslVersion=e.glslVersion),e.extensions!==void 0)for(const r in e.extensions)s.extensions[r]=e.extensions[r];if(e.lights!==void 0&&(s.lights=e.lights),e.clipping!==void 0&&(s.clipping=e.clipping),e.size!==void 0&&(s.size=e.size),e.sizeAttenuation!==void 0&&(s.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(s.map=i(e.map)),e.matcap!==void 0&&(s.matcap=i(e.matcap)),e.alphaMap!==void 0&&(s.alphaMap=i(e.alphaMap)),e.bumpMap!==void 0&&(s.bumpMap=i(e.bumpMap)),e.bumpScale!==void 0&&(s.bumpScale=e.bumpScale),e.normalMap!==void 0&&(s.normalMap=i(e.normalMap)),e.normalMapType!==void 0&&(s.normalMapType=e.normalMapType),e.normalScale!==void 0){let r=e.normalScale;Array.isArray(r)===!1&&(r=[r,r]),s.normalScale=new Fe().fromArray(r)}return e.displacementMap!==void 0&&(s.displacementMap=i(e.displacementMap)),e.displacementScale!==void 0&&(s.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(s.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(s.roughnessMap=i(e.roughnessMap)),e.metalnessMap!==void 0&&(s.metalnessMap=i(e.metalnessMap)),e.emissiveMap!==void 0&&(s.emissiveMap=i(e.emissiveMap)),e.emissiveIntensity!==void 0&&(s.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(s.specularMap=i(e.specularMap)),e.specularIntensityMap!==void 0&&(s.specularIntensityMap=i(e.specularIntensityMap)),e.specularColorMap!==void 0&&(s.specularColorMap=i(e.specularColorMap)),e.envMap!==void 0&&(s.envMap=i(e.envMap)),e.envMapRotation!==void 0&&s.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(s.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(s.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(s.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(s.lightMap=i(e.lightMap)),e.lightMapIntensity!==void 0&&(s.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(s.aoMap=i(e.aoMap)),e.aoMapIntensity!==void 0&&(s.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(s.gradientMap=i(e.gradientMap)),e.clearcoatMap!==void 0&&(s.clearcoatMap=i(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(s.clearcoatRoughnessMap=i(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(s.clearcoatNormalMap=i(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(s.clearcoatNormalScale=new Fe().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(s.iridescenceMap=i(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(s.iridescenceThicknessMap=i(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(s.transmissionMap=i(e.transmissionMap)),e.thicknessMap!==void 0&&(s.thicknessMap=i(e.thicknessMap)),e.anisotropyMap!==void 0&&(s.anisotropyMap=i(e.anisotropyMap)),e.sheenColorMap!==void 0&&(s.sheenColorMap=i(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(s.sheenRoughnessMap=i(e.sheenRoughnessMap)),s}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return dA.createMaterialFromType(e)}static createMaterialFromType(e){const t={ShadowMaterial:MN,SpriteMaterial:X1,RawShaderMaterial:EN,ShaderMaterial:Ao,PointsMaterial:Z_,MeshPhysicalMaterial:Pr,MeshStandardMaterial:R0,MeshPhongMaterial:TN,MeshToonMaterial:CN,MeshNormalMaterial:RN,MeshLambertMaterial:wN,MeshDepthMaterial:nE,MeshDistanceMaterial:iE,MeshBasicMaterial:ir,MeshMatcapMaterial:BN,LineDashedMaterial:DN,LineBasicMaterial:Ys,Material:is};return new t[e]}}class Au{static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class kN extends Kt{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class XN extends qs{constructor(e){super(e)}load(e,t,i,s){const r=this,o=new ar(r.manager);o.setPath(r.path),o.setRequestHeader(r.requestHeader),o.setWithCredentials(r.withCredentials),o.load(e,function(u){try{t(r.parse(JSON.parse(u)))}catch(h){s?s(h):console.error(h),r.manager.itemError(e)}},i,s)}parse(e){const t={},i={};function s(_,M){if(t[M]!==void 0)return t[M];const E=_.interleavedBuffers[M],S=r(_,E.buffer),w=Kd(E.type,S),B=new b0(w,E.stride);return B.uuid=E.uuid,t[M]=B,B}function r(_,M){if(i[M]!==void 0)return i[M];const E=_.arrayBuffers[M],S=new Uint32Array(E).buffer;return i[M]=S,S}const o=e.isInstancedBufferGeometry?new kN:new Kt,u=e.data.index;if(u!==void 0){const _=Kd(u.type,u.array);o.setIndex(new Cn(_,1))}const h=e.data.attributes;for(const _ in h){const M=h[_];let C;if(M.isInterleavedBufferAttribute){const E=s(e.data,M.data);C=new Tu(E,M.itemSize,M.offset,M.normalized)}else{const E=Kd(M.type,M.array),S=M.isInstancedBufferAttribute?ch:Cn;C=new S(E,M.itemSize,M.normalized)}M.name!==void 0&&(C.name=M.name),M.usage!==void 0&&C.setUsage(M.usage),o.setAttribute(_,C)}const p=e.data.morphAttributes;if(p)for(const _ in p){const M=p[_],C=[];for(let E=0,S=M.length;E<S;E++){const w=M[E];let B;if(w.isInterleavedBufferAttribute){const D=s(e.data,w.data);B=new Tu(D,w.itemSize,w.offset,w.normalized)}else{const D=Kd(w.type,w.array);B=new Cn(D,w.itemSize,w.normalized)}w.name!==void 0&&(B.name=w.name),C.push(B)}o.morphAttributes[_]=C}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const y=e.data.groups||e.data.drawcalls||e.data.offsets;if(y!==void 0)for(let _=0,M=y.length;_!==M;++_){const C=y[_];o.addGroup(C.start,C.count,C.materialIndex)}const x=e.data.boundingSphere;return x!==void 0&&(o.boundingSphere=new gs().fromJSON(x)),e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class t8 extends qs{constructor(e){super(e)}load(e,t,i,s){const r=this,o=this.path===""?Au.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const u=new ar(this.manager);u.setPath(this.path),u.setRequestHeader(this.requestHeader),u.setWithCredentials(this.withCredentials),u.load(e,function(h){let p=null;try{p=JSON.parse(h)}catch(y){s!==void 0&&s(y),console.error("THREE:ObjectLoader: Can't parse "+e+".",y.message);return}const m=p.metadata;if(m===void 0||m.type===void 0||m.type.toLowerCase()==="geometry"){s!==void 0&&s(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}r.parse(p,t)},i,s)}async loadAsync(e,t){const i=this,s=this.path===""?Au.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||s;const r=new ar(this.manager);r.setPath(this.path),r.setRequestHeader(this.requestHeader),r.setWithCredentials(this.withCredentials);const o=await r.loadAsync(e,t),u=JSON.parse(o),h=u.metadata;if(h===void 0||h.type===void 0||h.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await i.parseAsync(u)}parse(e,t){const i=this.parseAnimations(e.animations),s=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,s),o=this.parseImages(e.images,function(){t!==void 0&&t(p)}),u=this.parseTextures(e.textures,o),h=this.parseMaterials(e.materials,u),p=this.parseObject(e.object,r,h,u,i),m=this.parseSkeletons(e.skeletons,p);if(this.bindSkeletons(p,m),this.bindLightTargets(p),t!==void 0){let y=!1;for(const x in o)if(o[x].data instanceof HTMLImageElement){y=!0;break}y===!1&&t(p)}return p}async parseAsync(e){const t=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,i),r=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,r),u=this.parseMaterials(e.materials,o),h=this.parseObject(e.object,s,u,o,t),p=this.parseSkeletons(e.skeletons,h);return this.bindSkeletons(h,p),this.bindLightTargets(h),h}parseShapes(e){const t={};if(e!==void 0)for(let i=0,s=e.length;i<s;i++){const r=new oh().fromJSON(e[i]);t[r.uuid]=r}return t}parseSkeletons(e,t){const i={},s={};if(t.traverse(function(r){r.isBone&&(s[r.uuid]=r)}),e!==void 0)for(let r=0,o=e.length;r<o;r++){const u=new S0().fromJSON(e[r],s);i[u.uuid]=u}return i}parseGeometries(e,t){const i={};if(e!==void 0){const s=new XN;for(let r=0,o=e.length;r<o;r++){let u;const h=e[r];switch(h.type){case"BufferGeometry":case"InstancedBufferGeometry":u=s.parse(h);break;default:h.type in zR?u=zR[h.type].fromJSON(h,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${h.type}"`)}u.uuid=h.uuid,h.name!==void 0&&(u.name=h.name),h.userData!==void 0&&(u.userData=h.userData),i[h.uuid]=u}}return i}parseMaterials(e,t){const i={},s={};if(e!==void 0){const r=new dA;r.setTextures(t);for(let o=0,u=e.length;o<u;o++){const h=e[o];i[h.uuid]===void 0&&(i[h.uuid]=r.parse(h)),s[h.uuid]=i[h.uuid]}}return s}parseAnimations(e){const t={};if(e!==void 0)for(let i=0;i<e.length;i++){const s=e[i],r=vp.parse(s);t[r.uuid]=r}return t}parseImages(e,t){const i=this,s={};let r;function o(h){return i.manager.itemStart(h),r.load(h,function(){i.manager.itemEnd(h)},void 0,function(){i.manager.itemError(h),i.manager.itemEnd(h)})}function u(h){if(typeof h=="string"){const p=h,m=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(p)?p:i.resourcePath+p;return o(m)}else return h.data?{data:Kd(h.type,h.data),width:h.width,height:h.height}:null}if(e!==void 0&&e.length>0){const h=new oE(t);r=new o0(h),r.setCrossOrigin(this.crossOrigin);for(let p=0,m=e.length;p<m;p++){const y=e[p],x=y.url;if(Array.isArray(x)){const _=[];for(let M=0,C=x.length;M<C;M++){const E=x[M],S=u(E);S!==null&&(S instanceof HTMLImageElement?_.push(S):_.push(new hl(S.data,S.width,S.height)))}s[y.uuid]=new _u(_)}else{const _=u(y.url);s[y.uuid]=new _u(_)}}}return s}async parseImagesAsync(e){const t=this,i={};let s;async function r(o){if(typeof o=="string"){const u=o,h=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(u)?u:t.resourcePath+u;return await s.loadAsync(h)}else return o.data?{data:Kd(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){s=new o0(this.manager),s.setCrossOrigin(this.crossOrigin);for(let o=0,u=e.length;o<u;o++){const h=e[o],p=h.url;if(Array.isArray(p)){const m=[];for(let y=0,x=p.length;y<x;y++){const _=p[y],M=await r(_);M!==null&&(M instanceof HTMLImageElement?m.push(M):m.push(new hl(M.data,M.width,M.height)))}i[h.uuid]=new _u(m)}else{const m=await r(h.url);i[h.uuid]=new _u(m)}}}return i}parseTextures(e,t){function i(r,o){return typeof r=="number"?r:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",r),o[r])}const s={};if(e!==void 0)for(let r=0,o=e.length;r<o;r++){const u=e[r];u.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',u.uuid),t[u.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",u.image);const h=t[u.image],p=h.data;let m;Array.isArray(p)?(m=new A0,p.length===6&&(m.needsUpdate=!0)):(p&&p.data?m=new hl:m=new oi,p&&(m.needsUpdate=!0)),m.source=h,m.uuid=u.uuid,u.name!==void 0&&(m.name=u.name),u.mapping!==void 0&&(m.mapping=i(u.mapping,n8)),u.channel!==void 0&&(m.channel=u.channel),u.offset!==void 0&&m.offset.fromArray(u.offset),u.repeat!==void 0&&m.repeat.fromArray(u.repeat),u.center!==void 0&&m.center.fromArray(u.center),u.rotation!==void 0&&(m.rotation=u.rotation),u.wrap!==void 0&&(m.wrapS=i(u.wrap[0],kR),m.wrapT=i(u.wrap[1],kR)),u.format!==void 0&&(m.format=u.format),u.internalFormat!==void 0&&(m.internalFormat=u.internalFormat),u.type!==void 0&&(m.type=u.type),u.colorSpace!==void 0&&(m.colorSpace=u.colorSpace),u.minFilter!==void 0&&(m.minFilter=i(u.minFilter,XR)),u.magFilter!==void 0&&(m.magFilter=i(u.magFilter,XR)),u.anisotropy!==void 0&&(m.anisotropy=u.anisotropy),u.flipY!==void 0&&(m.flipY=u.flipY),u.generateMipmaps!==void 0&&(m.generateMipmaps=u.generateMipmaps),u.premultiplyAlpha!==void 0&&(m.premultiplyAlpha=u.premultiplyAlpha),u.unpackAlignment!==void 0&&(m.unpackAlignment=u.unpackAlignment),u.compareFunction!==void 0&&(m.compareFunction=u.compareFunction),u.userData!==void 0&&(m.userData=u.userData),s[u.uuid]=m}return s}parseObject(e,t,i,s,r){let o;function u(x){return t[x]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",x),t[x]}function h(x){if(x!==void 0){if(Array.isArray(x)){const _=[];for(let M=0,C=x.length;M<C;M++){const E=x[M];i[E]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",E),_.push(i[E])}return _}return i[x]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",x),i[x]}}function p(x){return s[x]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",x),s[x]}let m,y;switch(e.type){case"Scene":o=new k1,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new nt(e.background):o.background=p(e.background)),e.environment!==void 0&&(o.environment=p(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new J_(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new W_(e.fog.color,e.fog.density)),e.fog.name!==""&&(o.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&o.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(o.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&o.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":o=new Ni(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new Du(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new zN(e.color,e.intensity);break;case"DirectionalLight":o=new fE(e.color,e.intensity),o.target=e.target||"";break;case"PointLight":o=new uE(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new HN(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new cE(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),o.target=e.target||"";break;case"HemisphereLight":o=new FN(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new VN().fromJSON(e);break;case"SkinnedMesh":m=u(e.geometry),y=h(e.material),o=new j1(m,y),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":m=u(e.geometry),y=h(e.material),o=new Li(m,y);break;case"InstancedMesh":m=u(e.geometry),y=h(e.material);const x=e.count,_=e.instanceMatrix,M=e.instanceColor;o=new Y1(m,y,x),o.instanceMatrix=new ch(new Float32Array(_.array),16),M!==void 0&&(o.instanceColor=new ch(new Float32Array(M.array),M.itemSize));break;case"BatchedMesh":m=u(e.geometry),y=h(e.material),o=new fN(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,y),o.geometry=m,o.perObjectFrustumCulled=e.perObjectFrustumCulled,o.sortObjects=e.sortObjects,o._drawRanges=e.drawRanges,o._reservedRanges=e.reservedRanges,o._geometryInfo=e.geometryInfo.map(C=>{let E=null,S=null;return C.boundingBox!==void 0&&(E=new ws().fromJSON(C.boundingBox)),C.boundingSphere!==void 0&&(S=new gs().fromJSON(C.boundingSphere)),{...C,boundingBox:E,boundingSphere:S}}),o._instanceInfo=e.instanceInfo,o._availableInstanceIds=e._availableInstanceIds,o._availableGeometryIds=e._availableGeometryIds,o._nextIndexStart=e.nextIndexStart,o._nextVertexStart=e.nextVertexStart,o._geometryCount=e.geometryCount,o._maxInstanceCount=e.maxInstanceCount,o._maxVertexCount=e.maxVertexCount,o._maxIndexCount=e.maxIndexCount,o._geometryInitialized=e.geometryInitialized,o._matricesTexture=p(e.matricesTexture.uuid),o._indirectTexture=p(e.indirectTexture.uuid),e.colorsTexture!==void 0&&(o._colorsTexture=p(e.colorsTexture.uuid)),e.boundingSphere!==void 0&&(o.boundingSphere=new gs().fromJSON(e.boundingSphere)),e.boundingBox!==void 0&&(o.boundingBox=new ws().fromJSON(e.boundingBox));break;case"LOD":o=new uN;break;case"Line":o=new fc(u(e.geometry),h(e.material));break;case"LineLoop":o=new q1(u(e.geometry),h(e.material));break;case"LineSegments":o=new bo(u(e.geometry),h(e.material));break;case"PointCloud":case"Points":o=new W1(u(e.geometry),h(e.material));break;case"Sprite":o=new cN(h(e.material));break;case"Group":o=new tc;break;case"Bone":o=new K_;break;default:o=new gn}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.up!==void 0&&o.up.fromArray(e.up),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(o.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const x=e.children;for(let _=0;_<x.length;_++)o.add(this.parseObject(x[_],t,i,s,r))}if(e.animations!==void 0){const x=e.animations;for(let _=0;_<x.length;_++){const M=x[_];o.animations.push(r[M])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const x=e.levels;for(let _=0;_<x.length;_++){const M=x[_],C=o.getObjectByProperty("uuid",M.object);C!==void 0&&o.addLevel(C,M.distance,M.hysteresis)}}return o}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(i){if(i.isSkinnedMesh===!0&&i.skeleton!==void 0){const s=t[i.skeleton];s===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",i.skeleton):i.bind(s,i.bindMatrix)}})}bindLightTargets(e){e.traverse(function(t){if(t.isDirectionalLight||t.isSpotLight){const i=t.target,s=e.getObjectByProperty("uuid",i);s!==void 0?t.target=s:t.target=new gn}})}}const n8={UVMapping:P_,CubeReflectionMapping:cc,CubeRefractionMapping:Su,EquirectangularReflectionMapping:Qg,EquirectangularRefractionMapping:Zg,CubeUVReflectionMapping:Rp},kR={RepeatWrapping:Mu,ClampToEdgeWrapping:nr,MirroredRepeatWrapping:op},XR={NearestFilter:ms,NearestMipmapNearestFilter:I_,NearestMipmapLinearFilter:Qf,LinearFilter:Ui,LinearMipmapNearestFilter:$d,LinearMipmapLinearFilter:Ur},tS=new WeakMap;class jN extends qs{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,i,s){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const r=this,o=nc.get(e);if(o!==void 0){if(r.manager.itemStart(e),o.then){o.then(p=>{if(tS.has(o)===!0)s&&s(tS.get(o)),r.manager.itemError(e),r.manager.itemEnd(e);else return t&&t(p),r.manager.itemEnd(e),p});return}return setTimeout(function(){t&&t(o),r.manager.itemEnd(e)},0),o}const u={};u.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",u.headers=this.requestHeader;const h=fetch(e,u).then(function(p){return p.blob()}).then(function(p){return createImageBitmap(p,Object.assign(r.options,{colorSpaceConversion:"none"}))}).then(function(p){return nc.add(e,p),t&&t(p),r.manager.itemEnd(e),p}).catch(function(p){s&&s(p),tS.set(h,p),nc.remove(e),r.manager.itemError(e),r.manager.itemEnd(e)});nc.add(e,h),r.manager.itemStart(e)}}let Kv;class hE{static getContext(){return Kv===void 0&&(Kv=new(window.AudioContext||window.webkitAudioContext)),Kv}static setContext(e){Kv=e}}class i8 extends qs{constructor(e){super(e)}load(e,t,i,s){const r=this,o=new ar(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(h){try{const p=h.slice(0);hE.getContext().decodeAudioData(p,function(y){t(y)}).catch(u)}catch(p){u(p)}},i,s);function u(h){s?s(h):console.error(h),r.manager.itemError(e)}}}const jR=new Nt,YR=new Nt,Uf=new Nt;class s8{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Ni,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Ni,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,Uf.copy(e.projectionMatrix);const s=t.eyeSep/2,r=s*t.near/t.focus,o=t.near*Math.tan(rh*t.fov*.5)/t.zoom;let u,h;YR.elements[12]=-s,jR.elements[12]=s,u=-o*t.aspect+r,h=o*t.aspect+r,Uf.elements[0]=2*t.near/(h-u),Uf.elements[8]=(h+u)/(h-u),this.cameraL.projectionMatrix.copy(Uf),u=-o*t.aspect-r,h=o*t.aspect-r,Uf.elements[0]=2*t.near/(h-u),Uf.elements[8]=(h+u)/(h-u),this.cameraR.projectionMatrix.copy(Uf)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(YR),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(jR)}}class YN extends Ni{constructor(e=[]){super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=e}}class dE{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=qR(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=qR();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function qR(){return performance.now()}const Lf=new Z,nS=new Oi,a8=new Z,Of=new Z,Pf=new Z;class r8 extends gn{constructor(){super(),this.type="AudioListener",this.context=hE.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new dE}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Lf,nS,a8),Of.set(0,0,-1).applyQuaternion(nS),Pf.set(0,1,0).applyQuaternion(nS),t.positionX){const i=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(Lf.x,i),t.positionY.linearRampToValueAtTime(Lf.y,i),t.positionZ.linearRampToValueAtTime(Lf.z,i),t.forwardX.linearRampToValueAtTime(Of.x,i),t.forwardY.linearRampToValueAtTime(Of.y,i),t.forwardZ.linearRampToValueAtTime(Of.z,i),t.upX.linearRampToValueAtTime(Pf.x,i),t.upY.linearRampToValueAtTime(Pf.y,i),t.upZ.linearRampToValueAtTime(Pf.z,i)}else t.setPosition(Lf.x,Lf.y,Lf.z),t.setOrientation(Of.x,Of.y,Of.z,Pf.x,Pf.y,Pf.z)}}class qN extends gn{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(e=0){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}copy(e,t){return super.copy(e,t),e.sourceType!=="buffer"?(console.warn("THREE.Audio: Audio source type cannot be copied."),this):(this.autoplay=e.autoplay,this.buffer=e.buffer,this.detune=e.detune,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.offset=e.offset,this.duration=e.duration,this.playbackRate=e.playbackRate,this.hasPlaybackControl=e.hasPlaybackControl,this.sourceType=e.sourceType,this.filters=e.filters.slice(),this)}clone(e){return new this.constructor(this.listener).copy(this,e)}}const If=new Z,WR=new Oi,o8=new Z,Ff=new Z;class l8 extends qN{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){return super.connect(),this.panner.connect(this.gain),this}disconnect(){return super.disconnect(),this.panner.disconnect(this.gain),this}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,i){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=i,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(If,WR,o8),Ff.set(0,0,1).applyQuaternion(WR);const t=this.panner;if(t.positionX){const i=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(If.x,i),t.positionY.linearRampToValueAtTime(If.y,i),t.positionZ.linearRampToValueAtTime(If.z,i),t.orientationX.linearRampToValueAtTime(Ff.x,i),t.orientationY.linearRampToValueAtTime(Ff.y,i),t.orientationZ.linearRampToValueAtTime(Ff.z,i)}else t.setPosition(If.x,If.y,If.z),t.setOrientation(Ff.x,Ff.y,Ff.z)}}class c8{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let i=0;i<t.length;i++)e+=t[i];return e/t.length}}class WN{constructor(e,t,i){this.binding=e,this.valueSize=i;let s,r,o;switch(t){case"quaternion":s=this._slerp,r=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(i*6),this._workIndex=5;break;case"string":case"bool":s=this._select,r=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(i*5);break;default:s=this._lerp,r=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(i*5)}this._mixBufferRegion=s,this._mixBufferRegionAdditive=r,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const i=this.buffer,s=this.valueSize,r=e*s+s;let o=this.cumulativeWeight;if(o===0){for(let u=0;u!==s;++u)i[r+u]=i[u];o=t}else{o+=t;const u=t/o;this._mixBufferRegion(i,r,0,u,s)}this.cumulativeWeight=o}accumulateAdditive(e){const t=this.buffer,i=this.valueSize,s=i*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,s,0,e,i),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,i=this.buffer,s=e*t+t,r=this.cumulativeWeight,o=this.cumulativeWeightAdditive,u=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,r<1){const h=t*this._origIndex;this._mixBufferRegion(i,s,h,1-r,t)}o>0&&this._mixBufferRegionAdditive(i,s,this._addIndex*t,1,t);for(let h=t,p=t+t;h!==p;++h)if(i[h]!==i[h+t]){u.setValue(i,s);break}}saveOriginalState(){const e=this.binding,t=this.buffer,i=this.valueSize,s=i*this._origIndex;e.getValue(t,s);for(let r=i,o=s;r!==o;++r)t[r]=t[s+r%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let i=e;i<t;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[t+i]=this.buffer[e+i]}_select(e,t,i,s,r){if(s>=.5)for(let o=0;o!==r;++o)e[t+o]=e[i+o]}_slerp(e,t,i,s){Oi.slerpFlat(e,t,e,t,e,i,s)}_slerpAdditive(e,t,i,s,r){const o=this._workIndex*r;Oi.multiplyQuaternionsFlat(e,o,e,t,e,i),Oi.slerpFlat(e,t,e,t,e,o,s)}_lerp(e,t,i,s,r){const o=1-s;for(let u=0;u!==r;++u){const h=t+u;e[h]=e[h]*o+e[i+u]*s}}_lerpAdditive(e,t,i,s,r){for(let o=0;o!==r;++o){const u=t+o;e[u]=e[u]+e[i+o]*s}}}const pE="\\[\\]\\.:\\/",u8=new RegExp("["+pE+"]","g"),mE="[^"+pE+"]",f8="[^"+pE.replace("\\.","")+"]",h8=/((?:WC+[\/:])*)/.source.replace("WC",mE),d8=/(WCOD+)?/.source.replace("WCOD",f8),p8=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",mE),m8=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",mE),g8=new RegExp("^"+h8+d8+p8+m8+"$"),y8=["material","materials","bones","map"];class v8{constructor(e,t,i){const s=i||Tn.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,s)}getValue(e,t){this.bind();const i=this._targetGroup.nCachedObjects_,s=this._bindings[i];s!==void 0&&s.getValue(e,t)}setValue(e,t){const i=this._bindings;for(let s=this._targetGroup.nCachedObjects_,r=i.length;s!==r;++s)i[s].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].unbind()}}class Tn{constructor(e,t,i){this.path=t,this.parsedPath=i||Tn.parseTrackName(t),this.node=Tn.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,i){return e&&e.isAnimationObjectGroup?new Tn.Composite(e,t,i):new Tn(e,t,i)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(u8,"")}static parseTrackName(e){const t=g8.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const i={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},s=i.nodeName&&i.nodeName.lastIndexOf(".");if(s!==void 0&&s!==-1){const r=i.nodeName.substring(s+1);y8.indexOf(r)!==-1&&(i.nodeName=i.nodeName.substring(0,s),i.objectName=r)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return i}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const i=e.skeleton.getBoneByName(t);if(i!==void 0)return i}if(e.children){const i=function(r){for(let o=0;o<r.length;o++){const u=r[o];if(u.name===t||u.uuid===t)return u;const h=i(u.children);if(h)return h}return null},s=i(e.children);if(s)return s}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const i=this.resolvedProperty;for(let s=0,r=i.length;s!==r;++s)e[t++]=i[s]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const i=this.resolvedProperty;for(let s=0,r=i.length;s!==r;++s)i[s]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const i=this.resolvedProperty;for(let s=0,r=i.length;s!==r;++s)i[s]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const i=this.resolvedProperty;for(let s=0,r=i.length;s!==r;++s)i[s]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,i=t.objectName,s=t.propertyName;let r=t.propertyIndex;if(e||(e=Tn.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(i){let p=t.objectIndex;switch(i){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let m=0;m<e.length;m++)if(e[m].name===p){p=m;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[i]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[i]}if(p!==void 0){if(e[p]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[p]}}const o=e[s];if(o===void 0){const p=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+p+"."+s+" but it wasn't found.",e);return}let u=this.Versioning.None;this.targetObject=e,e.isMaterial===!0?u=this.Versioning.NeedsUpdate:e.isObject3D===!0&&(u=this.Versioning.MatrixWorldNeedsUpdate);let h=this.BindingType.Direct;if(r!==void 0){if(s==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[r]!==void 0&&(r=e.morphTargetDictionary[r])}h=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=r}else o.fromArray!==void 0&&o.toArray!==void 0?(h=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(h=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=s;this.getValue=this.GetterByBindingType[h],this.setValue=this.SetterByBindingTypeAndVersioning[h][u]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Tn.Composite=v8;Tn.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Tn.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Tn.prototype.GetterByBindingType=[Tn.prototype._getValue_direct,Tn.prototype._getValue_array,Tn.prototype._getValue_arrayElement,Tn.prototype._getValue_toArray];Tn.prototype.SetterByBindingTypeAndVersioning=[[Tn.prototype._setValue_direct,Tn.prototype._setValue_direct_setNeedsUpdate,Tn.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Tn.prototype._setValue_array,Tn.prototype._setValue_array_setNeedsUpdate,Tn.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Tn.prototype._setValue_arrayElement,Tn.prototype._setValue_arrayElement_setNeedsUpdate,Tn.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Tn.prototype._setValue_fromArray,Tn.prototype._setValue_fromArray_setNeedsUpdate,Tn.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class x8{constructor(){this.isAnimationObjectGroup=!0,this.uuid=sr(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let i=0,s=arguments.length;i!==s;++i)e[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,i=this._paths,s=this._parsedPaths,r=this._bindings,o=r.length;let u,h=e.length,p=this.nCachedObjects_;for(let m=0,y=arguments.length;m!==y;++m){const x=arguments[m],_=x.uuid;let M=t[_];if(M===void 0){M=h++,t[_]=M,e.push(x);for(let C=0,E=o;C!==E;++C)r[C].push(new Tn(x,i[C],s[C]))}else if(M<p){u=e[M];const C=--p,E=e[C];t[E.uuid]=M,e[M]=E,t[_]=C,e[C]=x;for(let S=0,w=o;S!==w;++S){const B=r[S],D=B[C];let P=B[M];B[M]=D,P===void 0&&(P=new Tn(x,i[S],s[S])),B[C]=P}}else e[M]!==u&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=p}remove(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,s=i.length;let r=this.nCachedObjects_;for(let o=0,u=arguments.length;o!==u;++o){const h=arguments[o],p=h.uuid,m=t[p];if(m!==void 0&&m>=r){const y=r++,x=e[y];t[x.uuid]=m,e[m]=x,t[p]=y,e[y]=h;for(let _=0,M=s;_!==M;++_){const C=i[_],E=C[y],S=C[m];C[m]=E,C[y]=S}}}this.nCachedObjects_=r}uncache(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,s=i.length;let r=this.nCachedObjects_,o=e.length;for(let u=0,h=arguments.length;u!==h;++u){const p=arguments[u],m=p.uuid,y=t[m];if(y!==void 0)if(delete t[m],y<r){const x=--r,_=e[x],M=--o,C=e[M];t[_.uuid]=y,e[y]=_,t[C.uuid]=x,e[x]=C,e.pop();for(let E=0,S=s;E!==S;++E){const w=i[E],B=w[x],D=w[M];w[y]=B,w[x]=D,w.pop()}}else{const x=--o,_=e[x];x>0&&(t[_.uuid]=y),e[y]=_,e.pop();for(let M=0,C=s;M!==C;++M){const E=i[M];E[y]=E[x],E.pop()}}}this.nCachedObjects_=r}subscribe_(e,t){const i=this._bindingsIndicesByPath;let s=i[e];const r=this._bindings;if(s!==void 0)return r[s];const o=this._paths,u=this._parsedPaths,h=this._objects,p=h.length,m=this.nCachedObjects_,y=new Array(p);s=r.length,i[e]=s,o.push(e),u.push(t),r.push(y);for(let x=m,_=h.length;x!==_;++x){const M=h[x];y[x]=new Tn(M,e,t)}return y}unsubscribe_(e){const t=this._bindingsIndicesByPath,i=t[e];if(i!==void 0){const s=this._paths,r=this._parsedPaths,o=this._bindings,u=o.length-1,h=o[u],p=e[u];t[p]=i,o[i]=h,o.pop(),r[i]=r[u],r.pop(),s[i]=s[u],s.pop()}}}class JN{constructor(e,t,i=null,s=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=i,this.blendMode=s;const r=t.tracks,o=r.length,u=new Array(o),h={endingStart:Zf,endingEnd:Zf};for(let p=0;p!==o;++p){const m=r[p].createInterpolant(null);u[p]=m,m.settings=h}this._interpolantSettings=h,this._interpolants=u,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=G3,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,i=!1){if(e.fadeOut(t),this.fadeIn(t),i===!0){const s=this._clip.duration,r=e._clip.duration,o=r/s,u=s/r;e.warp(1,o,t),this.warp(u,1,t)}return this}crossFadeTo(e,t,i=!1){return e.crossFadeFrom(this,t,i)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,i){const s=this._mixer,r=s.time,o=this.timeScale;let u=this._timeScaleInterpolant;u===null&&(u=s._lendControlInterpolant(),this._timeScaleInterpolant=u);const h=u.parameterPositions,p=u.sampleValues;return h[0]=r,h[1]=r+i,p[0]=e/o,p[1]=t/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,i,s){if(!this.enabled){this._updateWeight(e);return}const r=this._startTime;if(r!==null){const h=(e-r)*i;h<0||i===0?t=0:(this._startTime=null,t=i*h)}t*=this._updateTimeScale(e);const o=this._updateTime(t),u=this._updateWeight(e);if(u>0){const h=this._interpolants,p=this._propertyBindings;switch(this.blendMode){case O1:for(let m=0,y=h.length;m!==y;++m)h[m].evaluate(o),p[m].accumulateAdditive(u);break;case X_:default:for(let m=0,y=h.length;m!==y;++m)h[m].evaluate(o),p[m].accumulate(s,u)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const i=this._weightInterpolant;if(i!==null){const s=i.evaluate(e)[0];t*=s,e>i.parameterPositions[1]&&(this.stopFading(),s===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const i=this._timeScaleInterpolant;if(i!==null){const s=i.evaluate(e)[0];t*=s,e>i.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,i=this.loop;let s=this.time+e,r=this._loopCount;const o=i===V3;if(e===0)return r===-1?s:o&&(r&1)===1?t-s:s;if(i===H3){r===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(s>=t)s=t;else if(s<0)s=0;else{this.time=s;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=s,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(r===-1&&(e>=0?(r=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),s>=t||s<0){const u=Math.floor(s/t);s-=t*u,r+=Math.abs(u);const h=this.repetitions-r;if(h<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,s=e>0?t:0,this.time=s,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(h===1){const p=e<0;this._setEndings(p,!p,o)}else this._setEndings(!1,!1,o);this._loopCount=r,this.time=s,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:u})}}else this.time=s;if(o&&(r&1)===1)return t-s}return s}_setEndings(e,t,i){const s=this._interpolantSettings;i?(s.endingStart=$f,s.endingEnd=$f):(e?s.endingStart=this.zeroSlopeAtStart?$f:Zf:s.endingStart=$g,t?s.endingEnd=this.zeroSlopeAtEnd?$f:Zf:s.endingEnd=$g)}_scheduleFading(e,t,i){const s=this._mixer,r=s.time;let o=this._weightInterpolant;o===null&&(o=s._lendControlInterpolant(),this._weightInterpolant=o);const u=o.parameterPositions,h=o.sampleValues;return u[0]=r,h[0]=t,u[1]=r+e,h[1]=i,this}}const _8=new Float32Array(1);class KN extends vl{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const i=e._localRoot||this._root,s=e._clip.tracks,r=s.length,o=e._propertyBindings,u=e._interpolants,h=i.uuid,p=this._bindingsByRootAndName;let m=p[h];m===void 0&&(m={},p[h]=m);for(let y=0;y!==r;++y){const x=s[y],_=x.name;let M=m[_];if(M!==void 0)++M.referenceCount,o[y]=M;else{if(M=o[y],M!==void 0){M._cacheIndex===null&&(++M.referenceCount,this._addInactiveBinding(M,h,_));continue}const C=t&&t._propertyBindings[y].binding.parsedPath;M=new WN(Tn.create(i,_,C),x.ValueTypeName,x.getValueSize()),++M.referenceCount,this._addInactiveBinding(M,h,_),o[y]=M}u[y].resultBuffer=M.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const i=(e._localRoot||this._root).uuid,s=e._clip.uuid,r=this._actionsByClip[s];this._bindAction(e,r&&r.knownActions[0]),this._addInactiveAction(e,s,i)}const t=e._propertyBindings;for(let i=0,s=t.length;i!==s;++i){const r=t[i];r.useCount++===0&&(this._lendBinding(r),r.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let i=0,s=t.length;i!==s;++i){const r=t[i];--r.useCount===0&&(r.restoreOriginalState(),this._takeBackBinding(r))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,i){const s=this._actions,r=this._actionsByClip;let o=r[t];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,r[t]=o;else{const u=o.knownActions;e._byClipCacheIndex=u.length,u.push(e)}e._cacheIndex=s.length,s.push(e),o.actionByRoot[i]=e}_removeInactiveAction(e){const t=this._actions,i=t[t.length-1],s=e._cacheIndex;i._cacheIndex=s,t[s]=i,t.pop(),e._cacheIndex=null;const r=e._clip.uuid,o=this._actionsByClip,u=o[r],h=u.knownActions,p=h[h.length-1],m=e._byClipCacheIndex;p._byClipCacheIndex=m,h[m]=p,h.pop(),e._byClipCacheIndex=null;const y=u.actionByRoot,x=(e._localRoot||this._root).uuid;delete y[x],h.length===0&&delete o[r],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let i=0,s=t.length;i!==s;++i){const r=t[i];--r.referenceCount===0&&this._removeInactiveBinding(r)}}_lendAction(e){const t=this._actions,i=e._cacheIndex,s=this._nActiveActions++,r=t[s];e._cacheIndex=s,t[s]=e,r._cacheIndex=i,t[i]=r}_takeBackAction(e){const t=this._actions,i=e._cacheIndex,s=--this._nActiveActions,r=t[s];e._cacheIndex=s,t[s]=e,r._cacheIndex=i,t[i]=r}_addInactiveBinding(e,t,i){const s=this._bindingsByRootAndName,r=this._bindings;let o=s[t];o===void 0&&(o={},s[t]=o),o[i]=e,e._cacheIndex=r.length,r.push(e)}_removeInactiveBinding(e){const t=this._bindings,i=e.binding,s=i.rootNode.uuid,r=i.path,o=this._bindingsByRootAndName,u=o[s],h=t[t.length-1],p=e._cacheIndex;h._cacheIndex=p,t[p]=h,t.pop(),delete u[r],Object.keys(u).length===0&&delete o[s]}_lendBinding(e){const t=this._bindings,i=e._cacheIndex,s=this._nActiveBindings++,r=t[s];e._cacheIndex=s,t[s]=e,r._cacheIndex=i,t[i]=r}_takeBackBinding(e){const t=this._bindings,i=e._cacheIndex,s=--this._nActiveBindings,r=t[s];e._cacheIndex=s,t[s]=e,r._cacheIndex=i,t[i]=r}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let i=e[t];return i===void 0&&(i=new aE(new Float32Array(2),new Float32Array(2),1,_8),i.__cacheIndex=t,e[t]=i),i}_takeBackControlInterpolant(e){const t=this._controlInterpolants,i=e.__cacheIndex,s=--this._nActiveControlInterpolants,r=t[s];e.__cacheIndex=s,t[s]=e,r.__cacheIndex=i,t[i]=r}clipAction(e,t,i){const s=t||this._root,r=s.uuid;let o=typeof e=="string"?vp.findByName(s,e):e;const u=o!==null?o.uuid:e,h=this._actionsByClip[u];let p=null;if(i===void 0&&(o!==null?i=o.blendMode:i=X_),h!==void 0){const y=h.actionByRoot[r];if(y!==void 0&&y.blendMode===i)return y;p=h.knownActions[0],o===null&&(o=p._clip)}if(o===null)return null;const m=new JN(this,o,t,i);return this._bindAction(m,p),this._addInactiveAction(m,u,r),m}existingAction(e,t){const i=t||this._root,s=i.uuid,r=typeof e=="string"?vp.findByName(i,e):e,o=r?r.uuid:e,u=this._actionsByClip[o];return u!==void 0&&u.actionByRoot[s]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let i=t-1;i>=0;--i)e[i].stop();return this}update(e){e*=this.timeScale;const t=this._actions,i=this._nActiveActions,s=this.time+=e,r=Math.sign(e),o=this._accuIndex^=1;for(let p=0;p!==i;++p)t[p]._update(s,e,r,o);const u=this._bindings,h=this._nActiveBindings;for(let p=0;p!==h;++p)u[p].apply(o);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,i=e.uuid,s=this._actionsByClip,r=s[i];if(r!==void 0){const o=r.knownActions;for(let u=0,h=o.length;u!==h;++u){const p=o[u];this._deactivateAction(p);const m=p._cacheIndex,y=t[t.length-1];p._cacheIndex=null,p._byClipCacheIndex=null,y._cacheIndex=m,t[m]=y,t.pop(),this._removeInactiveBindingsForAction(p)}delete s[i]}}uncacheRoot(e){const t=e.uuid,i=this._actionsByClip;for(const o in i){const u=i[o].actionByRoot,h=u[t];h!==void 0&&(this._deactivateAction(h),this._removeInactiveAction(h))}const s=this._bindingsByRootAndName,r=s[t];if(r!==void 0)for(const o in r){const u=r[o];u.restoreOriginalState(),this._removeInactiveBinding(u)}}uncacheAction(e,t){const i=this.existingAction(e,t);i!==null&&(this._deactivateAction(i),this._removeInactiveAction(i))}}class A8 extends H1{constructor(e=1,t=1,i=1,s={}){super(e,t,s),this.isRenderTarget3D=!0,this.depth=i,this.texture=new Y_(null,e,t,i),this._setTextureOptions(s),this.texture.isRenderTargetTexture=!0}}class gE{constructor(e){this.value=e}clone(){return new gE(this.value.clone===void 0?this.value:this.value.clone())}}let b8=0;class S8 extends vl{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:b8++}),this.name="",this.usage=t0,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){this.dispatchEvent({type:"dispose"})}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let i=0,s=t.length;i<s;i++){const r=Array.isArray(t[i])?t[i]:[t[i]];for(let o=0;o<r.length;o++)this.uniforms.push(r[o].clone())}return this}clone(){return new this.constructor().copy(this)}}class M8 extends b0{constructor(e,t,i=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class E8{constructor(e,t,i,s,r){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=i,this.elementSize=s,this.count=r,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const JR=new Nt;class QN{constructor(e,t,i=0,s=1/0){this.ray=new Bp(e,t),this.near=i,this.far=s,this.camera=null,this.layers=new mp,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}setFromXRController(e){return JR.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(JR),this}intersectObject(e,t=!0,i=[]){return MM(e,this,i,t),i.sort(KR),i}intersectObjects(e,t=!0,i=[]){for(let s=0,r=e.length;s<r;s++)MM(e[s],this,i,t);return i.sort(KR),i}}function KR(n,e){return n.distance-e.distance}function MM(n,e,t,i){let s=!0;if(n.layers.test(e.layers)&&n.raycast(e,t)===!1&&(s=!1),s===!0&&i===!0){const r=n.children;for(let o=0,u=r.length;o<u;o++)MM(r[o],e,t,!0)}}class ZN{constructor(e=1,t=0,i=0){this.radius=e,this.phi=t,this.theta=i}set(e,t,i){return this.radius=e,this.phi=t,this.theta=i,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Jt(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+t*t+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(Jt(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class T8{constructor(e=1,t=0,i=0){this.radius=e,this.theta=t,this.y=i}set(e,t,i){return this.radius=e,this.theta=t,this.y=i,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+i*i),this.theta=Math.atan2(e,i),this.y=t,this}clone(){return new this.constructor().copy(this)}}class yE{constructor(e,t,i,s){yE.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,t,i,s)}identity(){return this.set(1,0,0,1),this}fromArray(e,t=0){for(let i=0;i<4;i++)this.elements[i]=e[i+t];return this}set(e,t,i,s){const r=this.elements;return r[0]=e,r[2]=t,r[1]=i,r[3]=s,this}}const QR=new Fe;class C8{constructor(e=new Fe(1/0,1/0),t=new Fe(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=QR.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,QR).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const ZR=new Z,Qv=new Z;class R8{constructor(e=new Z,t=new Z){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){ZR.subVectors(e,this.start),Qv.subVectors(this.end,this.start);const i=Qv.dot(Qv);let r=Qv.dot(ZR)/i;return t&&(r=Jt(r,0,1)),r}closestPointToPoint(e,t,i){const s=this.closestPointToPointParameter(e,t);return this.delta(i).multiplyScalar(s).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const $R=new Z;class w8 extends gn{constructor(e,t){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const i=new Kt,s=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,u=1,h=32;o<h;o++,u++){const p=o/h*Math.PI*2,m=u/h*Math.PI*2;s.push(Math.cos(p),Math.sin(p),1,Math.cos(m),Math.sin(m),1)}i.setAttribute("position",new _t(s,3));const r=new Ys({fog:!1,toneMapped:!1});this.cone=new bo(i,r),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),$R.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt($R),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const du=new Z,Zv=new Nt,iS=new Nt;class B8 extends bo{constructor(e){const t=$N(e),i=new Kt,s=[],r=[],o=new nt(0,0,1),u=new nt(0,1,0);for(let p=0;p<t.length;p++){const m=t[p];m.parent&&m.parent.isBone&&(s.push(0,0,0),s.push(0,0,0),r.push(o.r,o.g,o.b),r.push(u.r,u.g,u.b))}i.setAttribute("position",new _t(s,3)),i.setAttribute("color",new _t(r,3));const h=new Ys({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(i,h),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,i=this.geometry,s=i.getAttribute("position");iS.copy(this.root.matrixWorld).invert();for(let r=0,o=0;r<t.length;r++){const u=t[r];u.parent&&u.parent.isBone&&(Zv.multiplyMatrices(iS,u.matrixWorld),du.setFromMatrixPosition(Zv),s.setXYZ(o,du.x,du.y,du.z),Zv.multiplyMatrices(iS,u.parent.matrixWorld),du.setFromMatrixPosition(Zv),s.setXYZ(o+1,du.x,du.y,du.z),o+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function $N(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push(...$N(n.children[t]));return e}class D8 extends Li{constructor(e,t,i){const s=new C0(t,4,2),r=new ir({wireframe:!0,fog:!1,toneMapped:!1});super(s,r),this.light=e,this.color=i,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const N8=new Z,ew=new nt,tw=new nt;class U8 extends gn{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="HemisphereLightHelper";const s=new T0(t);s.rotateY(Math.PI*.5),this.material=new ir({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const r=s.getAttribute("position"),o=new Float32Array(r.count*3);s.setAttribute("color",new Cn(o,3)),this.add(new Li(s,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");ew.copy(this.light.color),tw.copy(this.light.groundColor);for(let i=0,s=t.count;i<s;i++){const r=i<s/2?ew:tw;t.setXYZ(i,r.r,r.g,r.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(N8.setFromMatrixPosition(this.light.matrixWorld).negate())}}class L8 extends bo{constructor(e=10,t=10,i=4473924,s=8947848){i=new nt(i),s=new nt(s);const r=t/2,o=e/t,u=e/2,h=[],p=[];for(let x=0,_=0,M=-u;x<=t;x++,M+=o){h.push(-u,0,M,u,0,M),h.push(M,0,-u,M,0,u);const C=x===r?i:s;C.toArray(p,_),_+=3,C.toArray(p,_),_+=3,C.toArray(p,_),_+=3,C.toArray(p,_),_+=3}const m=new Kt;m.setAttribute("position",new _t(h,3)),m.setAttribute("color",new _t(p,3));const y=new Ys({vertexColors:!0,toneMapped:!1});super(m,y),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class O8 extends bo{constructor(e=10,t=16,i=8,s=64,r=4473924,o=8947848){r=new nt(r),o=new nt(o);const u=[],h=[];if(t>1)for(let y=0;y<t;y++){const x=y/t*(Math.PI*2),_=Math.sin(x)*e,M=Math.cos(x)*e;u.push(0,0,0),u.push(_,0,M);const C=y&1?r:o;h.push(C.r,C.g,C.b),h.push(C.r,C.g,C.b)}for(let y=0;y<i;y++){const x=y&1?r:o,_=e-e/i*y;for(let M=0;M<s;M++){let C=M/s*(Math.PI*2),E=Math.sin(C)*_,S=Math.cos(C)*_;u.push(E,0,S),h.push(x.r,x.g,x.b),C=(M+1)/s*(Math.PI*2),E=Math.sin(C)*_,S=Math.cos(C)*_,u.push(E,0,S),h.push(x.r,x.g,x.b)}}const p=new Kt;p.setAttribute("position",new _t(u,3)),p.setAttribute("color",new _t(h,3));const m=new Ys({vertexColors:!0,toneMapped:!1});super(p,m),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const nw=new Z,$v=new Z,iw=new Z;class P8 extends gn{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="DirectionalLightHelper",t===void 0&&(t=1);let s=new Kt;s.setAttribute("position",new _t([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const r=new Ys({fog:!1,toneMapped:!1});this.lightPlane=new fc(s,r),this.add(this.lightPlane),s=new Kt,s.setAttribute("position",new _t([0,0,0,0,0,1],3)),this.targetLine=new fc(s,r),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),nw.setFromMatrixPosition(this.light.matrixWorld),$v.setFromMatrixPosition(this.light.target.matrixWorld),iw.subVectors($v,nw),this.lightPlane.lookAt($v),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt($v),this.targetLine.scale.z=iw.length()}}const ex=new Z,bi=new q_;class I8 extends bo{constructor(e){const t=new Kt,i=new Ys({color:16777215,vertexColors:!0,toneMapped:!1}),s=[],r=[],o={};u("n1","n2"),u("n2","n4"),u("n4","n3"),u("n3","n1"),u("f1","f2"),u("f2","f4"),u("f4","f3"),u("f3","f1"),u("n1","f1"),u("n2","f2"),u("n3","f3"),u("n4","f4"),u("p","n1"),u("p","n2"),u("p","n3"),u("p","n4"),u("u1","u2"),u("u2","u3"),u("u3","u1"),u("c","t"),u("p","c"),u("cn1","cn2"),u("cn3","cn4"),u("cf1","cf2"),u("cf3","cf4");function u(M,C){h(M),h(C)}function h(M){s.push(0,0,0),r.push(0,0,0),o[M]===void 0&&(o[M]=[]),o[M].push(s.length/3-1)}t.setAttribute("position",new _t(s,3)),t.setAttribute("color",new _t(r,3)),super(t,i),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const p=new nt(16755200),m=new nt(16711680),y=new nt(43775),x=new nt(16777215),_=new nt(3355443);this.setColors(p,m,y,x,_)}setColors(e,t,i,s,r){const u=this.geometry.getAttribute("color");u.setXYZ(0,e.r,e.g,e.b),u.setXYZ(1,e.r,e.g,e.b),u.setXYZ(2,e.r,e.g,e.b),u.setXYZ(3,e.r,e.g,e.b),u.setXYZ(4,e.r,e.g,e.b),u.setXYZ(5,e.r,e.g,e.b),u.setXYZ(6,e.r,e.g,e.b),u.setXYZ(7,e.r,e.g,e.b),u.setXYZ(8,e.r,e.g,e.b),u.setXYZ(9,e.r,e.g,e.b),u.setXYZ(10,e.r,e.g,e.b),u.setXYZ(11,e.r,e.g,e.b),u.setXYZ(12,e.r,e.g,e.b),u.setXYZ(13,e.r,e.g,e.b),u.setXYZ(14,e.r,e.g,e.b),u.setXYZ(15,e.r,e.g,e.b),u.setXYZ(16,e.r,e.g,e.b),u.setXYZ(17,e.r,e.g,e.b),u.setXYZ(18,e.r,e.g,e.b),u.setXYZ(19,e.r,e.g,e.b),u.setXYZ(20,e.r,e.g,e.b),u.setXYZ(21,e.r,e.g,e.b),u.setXYZ(22,e.r,e.g,e.b),u.setXYZ(23,e.r,e.g,e.b),u.setXYZ(24,t.r,t.g,t.b),u.setXYZ(25,t.r,t.g,t.b),u.setXYZ(26,t.r,t.g,t.b),u.setXYZ(27,t.r,t.g,t.b),u.setXYZ(28,t.r,t.g,t.b),u.setXYZ(29,t.r,t.g,t.b),u.setXYZ(30,t.r,t.g,t.b),u.setXYZ(31,t.r,t.g,t.b),u.setXYZ(32,i.r,i.g,i.b),u.setXYZ(33,i.r,i.g,i.b),u.setXYZ(34,i.r,i.g,i.b),u.setXYZ(35,i.r,i.g,i.b),u.setXYZ(36,i.r,i.g,i.b),u.setXYZ(37,i.r,i.g,i.b),u.setXYZ(38,s.r,s.g,s.b),u.setXYZ(39,s.r,s.g,s.b),u.setXYZ(40,r.r,r.g,r.b),u.setXYZ(41,r.r,r.g,r.b),u.setXYZ(42,r.r,r.g,r.b),u.setXYZ(43,r.r,r.g,r.b),u.setXYZ(44,r.r,r.g,r.b),u.setXYZ(45,r.r,r.g,r.b),u.setXYZ(46,r.r,r.g,r.b),u.setXYZ(47,r.r,r.g,r.b),u.setXYZ(48,r.r,r.g,r.b),u.setXYZ(49,r.r,r.g,r.b),u.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,i=1,s=1;bi.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse);const r=this.camera.coordinateSystem===Lr?-1:0;Bi("c",t,e,bi,0,0,r),Bi("t",t,e,bi,0,0,1),Bi("n1",t,e,bi,-1,-1,r),Bi("n2",t,e,bi,i,-1,r),Bi("n3",t,e,bi,-1,s,r),Bi("n4",t,e,bi,i,s,r),Bi("f1",t,e,bi,-1,-1,1),Bi("f2",t,e,bi,i,-1,1),Bi("f3",t,e,bi,-1,s,1),Bi("f4",t,e,bi,i,s,1),Bi("u1",t,e,bi,i*.7,s*1.1,r),Bi("u2",t,e,bi,-1*.7,s*1.1,r),Bi("u3",t,e,bi,0,s*2,r),Bi("cf1",t,e,bi,-1,0,1),Bi("cf2",t,e,bi,i,0,1),Bi("cf3",t,e,bi,0,-1,1),Bi("cf4",t,e,bi,0,s,1),Bi("cn1",t,e,bi,-1,0,r),Bi("cn2",t,e,bi,i,0,r),Bi("cn3",t,e,bi,0,-1,r),Bi("cn4",t,e,bi,0,s,r),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Bi(n,e,t,i,s,r,o){ex.set(s,r,o).unproject(i);const u=e[n];if(u!==void 0){const h=t.getAttribute("position");for(let p=0,m=u.length;p<m;p++)h.setXYZ(u[p],ex.x,ex.y,ex.z)}}const tx=new ws;class F8 extends bo{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),s=new Float32Array(8*3),r=new Kt;r.setIndex(new Cn(i,1)),r.setAttribute("position",new Cn(s,3)),super(r,new Ys({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(){if(this.object!==void 0&&tx.setFromObject(this.object),tx.isEmpty())return;const e=tx.min,t=tx.max,i=this.geometry.attributes.position,s=i.array;s[0]=t.x,s[1]=t.y,s[2]=t.z,s[3]=e.x,s[4]=t.y,s[5]=t.z,s[6]=e.x,s[7]=e.y,s[8]=t.z,s[9]=t.x,s[10]=e.y,s[11]=t.z,s[12]=t.x,s[13]=t.y,s[14]=e.z,s[15]=e.x,s[16]=t.y,s[17]=e.z,s[18]=e.x,s[19]=e.y,s[20]=e.z,s[21]=t.x,s[22]=e.y,s[23]=e.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class z8 extends bo{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),s=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],r=new Kt;r.setIndex(new Cn(i,1)),r.setAttribute("position",new _t(s,3)),super(r,new Ys({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class H8 extends fc{constructor(e,t=1,i=16776960){const s=i,r=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new Kt;o.setAttribute("position",new _t(r,3)),o.computeBoundingSphere(),super(o,new Ys({color:s,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const u=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],h=new Kt;h.setAttribute("position",new _t(u,3)),h.computeBoundingSphere(),this.add(new Li(h,new ir({color:s,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const sw=new Z;let nx,sS;class G8 extends gn{constructor(e=new Z(0,0,1),t=new Z(0,0,0),i=1,s=16776960,r=i*.2,o=r*.2){super(),this.type="ArrowHelper",nx===void 0&&(nx=new Kt,nx.setAttribute("position",new _t([0,0,0,0,1,0],3)),sS=new E0(.5,1,5,1),sS.translate(0,-.5,0)),this.position.copy(t),this.line=new fc(nx,new Ys({color:s,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Li(sS,new ir({color:s,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(i,r,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{sw.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(sw,t)}}setLength(e,t=e*.2,i=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(i,t,i),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class V8 extends bo{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],s=new Kt;s.setAttribute("position",new _t(t,3)),s.setAttribute("color",new _t(i,3));const r=new Ys({vertexColors:!0,toneMapped:!1});super(s,r),this.type="AxesHelper"}setColors(e,t,i){const s=new nt,r=this.geometry.attributes.color.array;return s.set(e),s.toArray(r,0),s.toArray(r,3),s.set(t),s.toArray(r,6),s.toArray(r,9),s.set(i),s.toArray(r,12),s.toArray(r,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class k8{constructor(){this.type="ShapePath",this.color=new nt,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new v_,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,i,s){return this.currentPath.quadraticCurveTo(e,t,i,s),this}bezierCurveTo(e,t,i,s,r,o){return this.currentPath.bezierCurveTo(e,t,i,s,r,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(S){const w=[];for(let B=0,D=S.length;B<D;B++){const P=S[B],I=new oh;I.curves=P.curves,w.push(I)}return w}function i(S,w){const B=w.length;let D=!1;for(let P=B-1,I=0;I<B;P=I++){let G=w[P],z=w[I],U=z.x-G.x,O=z.y-G.y;if(Math.abs(O)>Number.EPSILON){if(O<0&&(G=w[I],U=-U,z=w[P],O=-O),S.y<G.y||S.y>z.y)continue;if(S.y===G.y){if(S.x===G.x)return!0}else{const W=O*(S.x-G.x)-U*(S.y-G.y);if(W===0)return!0;if(W<0)continue;D=!D}}else{if(S.y!==G.y)continue;if(z.x<=S.x&&S.x<=G.x||G.x<=S.x&&S.x<=z.x)return!0}}return D}const s=vo.isClockWise,r=this.subPaths;if(r.length===0)return[];let o,u,h;const p=[];if(r.length===1)return u=r[0],h=new oh,h.curves=u.curves,p.push(h),p;let m=!s(r[0].getPoints());m=e?!m:m;const y=[],x=[];let _=[],M=0,C;x[M]=void 0,_[M]=[];for(let S=0,w=r.length;S<w;S++)u=r[S],C=u.getPoints(),o=s(C),o=e?!o:o,o?(!m&&x[M]&&M++,x[M]={s:new oh,p:C},x[M].s.curves=u.curves,m&&M++,_[M]=[]):_[M].push({h:u,p:C[0]});if(!x[0])return t(r);if(x.length>1){let S=!1,w=0;for(let B=0,D=x.length;B<D;B++)y[B]=[];for(let B=0,D=x.length;B<D;B++){const P=_[B];for(let I=0;I<P.length;I++){const G=P[I];let z=!0;for(let U=0;U<x.length;U++)i(G.p,x[U].p)&&(B!==U&&w++,z?(z=!1,y[U].push(G)):S=!0);z&&y[B].push(G)}}w>0&&S===!1&&(_=y)}let E;for(let S=0,w=x.length;S<w;S++){h=x[S].s,p.push(h),E=_[S];for(let B=0,D=E.length;B<D;B++)h.holes.push(E[B].h)}return p}}class X8 extends vl{constructor(e,t=null){super(),this.object=e,this.domElement=t,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(e){if(e===void 0){console.warn("THREE.Controls: connect() now requires an element.");return}this.domElement!==null&&this.disconnect(),this.domElement=e}disconnect(){}dispose(){}update(){}}function j8(n,e){const t=n.image&&n.image.width?n.image.width/n.image.height:1;return t>e?(n.repeat.x=1,n.repeat.y=t/e,n.offset.x=0,n.offset.y=(1-n.repeat.y)/2):(n.repeat.x=e/t,n.repeat.y=1,n.offset.x=(1-n.repeat.x)/2,n.offset.y=0),n}function Y8(n,e){const t=n.image&&n.image.width?n.image.width/n.image.height:1;return t>e?(n.repeat.x=e/t,n.repeat.y=1,n.offset.x=(1-n.repeat.x)/2,n.offset.y=0):(n.repeat.x=1,n.repeat.y=t/e,n.offset.x=0,n.offset.y=(1-n.repeat.y)/2),n}function q8(n){return n.repeat.x=1,n.repeat.y=1,n.offset.x=0,n.offset.y=0,n}function EM(n,e,t,i){const s=W8(i);switch(t){case D1:return n*e;case G_:return n*e/s.components*s.byteLength;case _0:return n*e/s.components*s.byteLength;case U1:return n*e*2/s.components*s.byteLength;case V_:return n*e*2/s.components*s.byteLength;case N1:return n*e*3/s.components*s.byteLength;case js:return n*e*4/s.components*s.byteLength;case k_:return n*e*4/s.components*s.byteLength;case Lg:case Og:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case Pg:case Ig:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case kx:case jx:return Math.max(n,16)*Math.max(e,8)/4;case Vx:case Xx:return Math.max(n,8)*Math.max(e,8)/2;case Yx:case qx:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case Wx:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case Jx:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case Kx:return Math.floor((n+4)/5)*Math.floor((e+3)/4)*16;case Qx:return Math.floor((n+4)/5)*Math.floor((e+4)/5)*16;case Zx:return Math.floor((n+5)/6)*Math.floor((e+4)/5)*16;case $x:return Math.floor((n+5)/6)*Math.floor((e+5)/6)*16;case e_:return Math.floor((n+7)/8)*Math.floor((e+4)/5)*16;case t_:return Math.floor((n+7)/8)*Math.floor((e+5)/6)*16;case n_:return Math.floor((n+7)/8)*Math.floor((e+7)/8)*16;case i_:return Math.floor((n+9)/10)*Math.floor((e+4)/5)*16;case s_:return Math.floor((n+9)/10)*Math.floor((e+5)/6)*16;case a_:return Math.floor((n+9)/10)*Math.floor((e+7)/8)*16;case r_:return Math.floor((n+9)/10)*Math.floor((e+9)/10)*16;case o_:return Math.floor((n+11)/12)*Math.floor((e+9)/10)*16;case l_:return Math.floor((n+11)/12)*Math.floor((e+11)/12)*16;case Fg:case c_:case u_:return Math.ceil(n/4)*Math.ceil(e/4)*16;case L1:case f_:return Math.ceil(n/4)*Math.ceil(e/4)*8;case h_:case d_:return Math.ceil(n/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${t} format.`)}function W8(n){switch(n){case Or:case R1:return{byteLength:1,components:1};case lp:case w1:case wp:return{byteLength:2,components:1};case z_:case H_:return{byteLength:2,components:4};case uc:case F_:case La:return{byteLength:4,components:1};case B1:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${n}.`)}class J8{static contain(e,t){return j8(e,t)}static cover(e,t){return Y8(e,t)}static fill(e){return q8(e)}static getByteLength(e,t,i,s){return EM(e,t,i,s)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:v0}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=v0);/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function eU(){let n=null,e=!1,t=null,i=null;function s(r,o){t(r,o),i=n.requestAnimationFrame(s)}return{start:function(){e!==!0&&t!==null&&(i=n.requestAnimationFrame(s),e=!0)},stop:function(){n.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(r){t=r},setContext:function(r){n=r}}}function K8(n){const e=new WeakMap;function t(u,h){const p=u.array,m=u.usage,y=p.byteLength,x=n.createBuffer();n.bindBuffer(h,x),n.bufferData(h,p,m),u.onUploadCallback();let _;if(p instanceof Float32Array)_=n.FLOAT;else if(p instanceof Uint16Array)u.isFloat16BufferAttribute?_=n.HALF_FLOAT:_=n.UNSIGNED_SHORT;else if(p instanceof Int16Array)_=n.SHORT;else if(p instanceof Uint32Array)_=n.UNSIGNED_INT;else if(p instanceof Int32Array)_=n.INT;else if(p instanceof Int8Array)_=n.BYTE;else if(p instanceof Uint8Array)_=n.UNSIGNED_BYTE;else if(p instanceof Uint8ClampedArray)_=n.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+p);return{buffer:x,type:_,bytesPerElement:p.BYTES_PER_ELEMENT,version:u.version,size:y}}function i(u,h,p){const m=h.array,y=h.updateRanges;if(n.bindBuffer(p,u),y.length===0)n.bufferSubData(p,0,m);else{y.sort((_,M)=>_.start-M.start);let x=0;for(let _=1;_<y.length;_++){const M=y[x],C=y[_];C.start<=M.start+M.count+1?M.count=Math.max(M.count,C.start+C.count-M.start):(++x,y[x]=C)}y.length=x+1;for(let _=0,M=y.length;_<M;_++){const C=y[_];n.bufferSubData(p,C.start*m.BYTES_PER_ELEMENT,m,C.start,C.count)}h.clearUpdateRanges()}h.onUploadCallback()}function s(u){return u.isInterleavedBufferAttribute&&(u=u.data),e.get(u)}function r(u){u.isInterleavedBufferAttribute&&(u=u.data);const h=e.get(u);h&&(n.deleteBuffer(h.buffer),e.delete(u))}function o(u,h){if(u.isInterleavedBufferAttribute&&(u=u.data),u.isGLBufferAttribute){const m=e.get(u);(!m||m.version<u.version)&&e.set(u,{buffer:u.buffer,type:u.type,bytesPerElement:u.elementSize,version:u.version});return}const p=e.get(u);if(p===void 0)e.set(u,t(u,h));else if(p.version<u.version){if(p.size!==u.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");i(p.buffer,u,h),p.version=u.version}}return{get:s,remove:r,update:o}}var Q8=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,Z8=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,$8=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,e9=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,t9=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,n9=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,i9=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,s9=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,a9=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,r9=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,o9=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,l9=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,c9=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,u9=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,f9=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,h9=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,d9=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,p9=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,m9=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,g9=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,y9=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,v9=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,x9=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,_9=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,A9=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,b9=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,S9=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,M9=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,E9=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,T9=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,C9="gl_FragColor = linearToOutputTexel( gl_FragColor );",R9=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,w9=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,B9=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,D9=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,N9=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,U9=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,L9=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,O9=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,P9=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,I9=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,F9=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,z9=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,H9=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,G9=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,V9=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,k9=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,X9=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,j9=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,Y9=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,q9=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,W9=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,J9=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,K9=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,Q9=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,Z9=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,$9=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,e6=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,t6=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,n6=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,i6=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,s6=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,a6=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,r6=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,o6=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,l6=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,c6=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,u6=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,f6=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,h6=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,d6=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,p6=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,m6=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,g6=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,y6=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,v6=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,x6=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,_6=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,A6=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,b6=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,S6=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,M6=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,E6=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,T6=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,C6=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,R6=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,w6=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,B6=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,D6=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,N6=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,U6=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,L6=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,O6=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,P6=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,I6=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,F6=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,z6=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,H6=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,G6=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,V6=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,k6=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,X6=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,j6=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,Y6=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,q6=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,W6=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,J6=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const K6=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,Q6=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Z6=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,$6=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,ek=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,tk=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,nk=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,ik=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,sk=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,ak=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,rk=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,ok=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,lk=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,ck=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,uk=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,fk=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,hk=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,dk=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,pk=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,mk=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,gk=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,yk=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,vk=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,xk=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,_k=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,Ak=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,bk=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Sk=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Mk=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,Ek=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Tk=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Ck=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Rk=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,wk=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,sn={alphahash_fragment:Q8,alphahash_pars_fragment:Z8,alphamap_fragment:$8,alphamap_pars_fragment:e9,alphatest_fragment:t9,alphatest_pars_fragment:n9,aomap_fragment:i9,aomap_pars_fragment:s9,batching_pars_vertex:a9,batching_vertex:r9,begin_vertex:o9,beginnormal_vertex:l9,bsdfs:c9,iridescence_fragment:u9,bumpmap_pars_fragment:f9,clipping_planes_fragment:h9,clipping_planes_pars_fragment:d9,clipping_planes_pars_vertex:p9,clipping_planes_vertex:m9,color_fragment:g9,color_pars_fragment:y9,color_pars_vertex:v9,color_vertex:x9,common:_9,cube_uv_reflection_fragment:A9,defaultnormal_vertex:b9,displacementmap_pars_vertex:S9,displacementmap_vertex:M9,emissivemap_fragment:E9,emissivemap_pars_fragment:T9,colorspace_fragment:C9,colorspace_pars_fragment:R9,envmap_fragment:w9,envmap_common_pars_fragment:B9,envmap_pars_fragment:D9,envmap_pars_vertex:N9,envmap_physical_pars_fragment:k9,envmap_vertex:U9,fog_vertex:L9,fog_pars_vertex:O9,fog_fragment:P9,fog_pars_fragment:I9,gradientmap_pars_fragment:F9,lightmap_pars_fragment:z9,lights_lambert_fragment:H9,lights_lambert_pars_fragment:G9,lights_pars_begin:V9,lights_toon_fragment:X9,lights_toon_pars_fragment:j9,lights_phong_fragment:Y9,lights_phong_pars_fragment:q9,lights_physical_fragment:W9,lights_physical_pars_fragment:J9,lights_fragment_begin:K9,lights_fragment_maps:Q9,lights_fragment_end:Z9,logdepthbuf_fragment:$9,logdepthbuf_pars_fragment:e6,logdepthbuf_pars_vertex:t6,logdepthbuf_vertex:n6,map_fragment:i6,map_pars_fragment:s6,map_particle_fragment:a6,map_particle_pars_fragment:r6,metalnessmap_fragment:o6,metalnessmap_pars_fragment:l6,morphinstance_vertex:c6,morphcolor_vertex:u6,morphnormal_vertex:f6,morphtarget_pars_vertex:h6,morphtarget_vertex:d6,normal_fragment_begin:p6,normal_fragment_maps:m6,normal_pars_fragment:g6,normal_pars_vertex:y6,normal_vertex:v6,normalmap_pars_fragment:x6,clearcoat_normal_fragment_begin:_6,clearcoat_normal_fragment_maps:A6,clearcoat_pars_fragment:b6,iridescence_pars_fragment:S6,opaque_fragment:M6,packing:E6,premultiplied_alpha_fragment:T6,project_vertex:C6,dithering_fragment:R6,dithering_pars_fragment:w6,roughnessmap_fragment:B6,roughnessmap_pars_fragment:D6,shadowmap_pars_fragment:N6,shadowmap_pars_vertex:U6,shadowmap_vertex:L6,shadowmask_pars_fragment:O6,skinbase_vertex:P6,skinning_pars_vertex:I6,skinning_vertex:F6,skinnormal_vertex:z6,specularmap_fragment:H6,specularmap_pars_fragment:G6,tonemapping_fragment:V6,tonemapping_pars_fragment:k6,transmission_fragment:X6,transmission_pars_fragment:j6,uv_pars_fragment:Y6,uv_pars_vertex:q6,uv_vertex:W6,worldpos_vertex:J6,background_vert:K6,background_frag:Q6,backgroundCube_vert:Z6,backgroundCube_frag:$6,cube_vert:ek,cube_frag:tk,depth_vert:nk,depth_frag:ik,distanceRGBA_vert:sk,distanceRGBA_frag:ak,equirect_vert:rk,equirect_frag:ok,linedashed_vert:lk,linedashed_frag:ck,meshbasic_vert:uk,meshbasic_frag:fk,meshlambert_vert:hk,meshlambert_frag:dk,meshmatcap_vert:pk,meshmatcap_frag:mk,meshnormal_vert:gk,meshnormal_frag:yk,meshphong_vert:vk,meshphong_frag:xk,meshphysical_vert:_k,meshphysical_frag:Ak,meshtoon_vert:bk,meshtoon_frag:Sk,points_vert:Mk,points_frag:Ek,shadow_vert:Tk,shadow_frag:Ck,sprite_vert:Rk,sprite_frag:wk},lt={common:{diffuse:{value:new nt(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Zt},alphaMap:{value:null},alphaMapTransform:{value:new Zt},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Zt}},envmap:{envMap:{value:null},envMapRotation:{value:new Zt},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Zt}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Zt}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Zt},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Zt},normalScale:{value:new Fe(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Zt},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Zt}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Zt}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Zt}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new nt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new nt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Zt},alphaTest:{value:0},uvTransform:{value:new Zt}},sprite:{diffuse:{value:new nt(16777215)},opacity:{value:1},center:{value:new Fe(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Zt},alphaMap:{value:null},alphaMapTransform:{value:new Zt},alphaTest:{value:0}}},go={basic:{uniforms:ua([lt.common,lt.specularmap,lt.envmap,lt.aomap,lt.lightmap,lt.fog]),vertexShader:sn.meshbasic_vert,fragmentShader:sn.meshbasic_frag},lambert:{uniforms:ua([lt.common,lt.specularmap,lt.envmap,lt.aomap,lt.lightmap,lt.emissivemap,lt.bumpmap,lt.normalmap,lt.displacementmap,lt.fog,lt.lights,{emissive:{value:new nt(0)}}]),vertexShader:sn.meshlambert_vert,fragmentShader:sn.meshlambert_frag},phong:{uniforms:ua([lt.common,lt.specularmap,lt.envmap,lt.aomap,lt.lightmap,lt.emissivemap,lt.bumpmap,lt.normalmap,lt.displacementmap,lt.fog,lt.lights,{emissive:{value:new nt(0)},specular:{value:new nt(1118481)},shininess:{value:30}}]),vertexShader:sn.meshphong_vert,fragmentShader:sn.meshphong_frag},standard:{uniforms:ua([lt.common,lt.envmap,lt.aomap,lt.lightmap,lt.emissivemap,lt.bumpmap,lt.normalmap,lt.displacementmap,lt.roughnessmap,lt.metalnessmap,lt.fog,lt.lights,{emissive:{value:new nt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:sn.meshphysical_vert,fragmentShader:sn.meshphysical_frag},toon:{uniforms:ua([lt.common,lt.aomap,lt.lightmap,lt.emissivemap,lt.bumpmap,lt.normalmap,lt.displacementmap,lt.gradientmap,lt.fog,lt.lights,{emissive:{value:new nt(0)}}]),vertexShader:sn.meshtoon_vert,fragmentShader:sn.meshtoon_frag},matcap:{uniforms:ua([lt.common,lt.bumpmap,lt.normalmap,lt.displacementmap,lt.fog,{matcap:{value:null}}]),vertexShader:sn.meshmatcap_vert,fragmentShader:sn.meshmatcap_frag},points:{uniforms:ua([lt.points,lt.fog]),vertexShader:sn.points_vert,fragmentShader:sn.points_frag},dashed:{uniforms:ua([lt.common,lt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:sn.linedashed_vert,fragmentShader:sn.linedashed_frag},depth:{uniforms:ua([lt.common,lt.displacementmap]),vertexShader:sn.depth_vert,fragmentShader:sn.depth_frag},normal:{uniforms:ua([lt.common,lt.bumpmap,lt.normalmap,lt.displacementmap,{opacity:{value:1}}]),vertexShader:sn.meshnormal_vert,fragmentShader:sn.meshnormal_frag},sprite:{uniforms:ua([lt.sprite,lt.fog]),vertexShader:sn.sprite_vert,fragmentShader:sn.sprite_frag},background:{uniforms:{uvTransform:{value:new Zt},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:sn.background_vert,fragmentShader:sn.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new Zt}},vertexShader:sn.backgroundCube_vert,fragmentShader:sn.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:sn.cube_vert,fragmentShader:sn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:sn.equirect_vert,fragmentShader:sn.equirect_frag},distanceRGBA:{uniforms:ua([lt.common,lt.displacementmap,{referencePosition:{value:new Z},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:sn.distanceRGBA_vert,fragmentShader:sn.distanceRGBA_frag},shadow:{uniforms:ua([lt.lights,lt.fog,{color:{value:new nt(0)},opacity:{value:1}}]),vertexShader:sn.shadow_vert,fragmentShader:sn.shadow_frag}};go.physical={uniforms:ua([go.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Zt},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Zt},clearcoatNormalScale:{value:new Fe(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Zt},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Zt},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Zt},sheen:{value:0},sheenColor:{value:new nt(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Zt},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Zt},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Zt},transmissionSamplerSize:{value:new Fe},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Zt},attenuationDistance:{value:0},attenuationColor:{value:new nt(0)},specularColor:{value:new nt(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Zt},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Zt},anisotropyVector:{value:new Fe},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Zt}}]),vertexShader:sn.meshphysical_vert,fragmentShader:sn.meshphysical_frag};const ix={r:0,b:0,g:0},zf=new Pa,Bk=new Nt;function Dk(n,e,t,i,s,r,o){const u=new nt(0);let h=r===!0?0:1,p,m,y=null,x=0,_=null;function M(B){let D=B.isScene===!0?B.background:null;return D&&D.isTexture&&(D=(B.backgroundBlurriness>0?t:e).get(D)),D}function C(B){let D=!1;const P=M(B);P===null?S(u,h):P&&P.isColor&&(S(P,1),D=!0);const I=n.xr.getEnvironmentBlendMode();I==="additive"?i.buffers.color.setClear(0,0,0,1,o):I==="alpha-blend"&&i.buffers.color.setClear(0,0,0,0,o),(n.autoClear||D)&&(i.buffers.depth.setTest(!0),i.buffers.depth.setMask(!0),i.buffers.color.setMask(!0),n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil))}function E(B,D){const P=M(D);P&&(P.isCubeTexture||P.mapping===Rp)?(m===void 0&&(m=new Li(new gh(1,1,1),new Ao({name:"BackgroundCubeMaterial",uniforms:gp(go.backgroundCube.uniforms),vertexShader:go.backgroundCube.vertexShader,fragmentShader:go.backgroundCube.fragmentShader,side:ga,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),m.geometry.deleteAttribute("normal"),m.geometry.deleteAttribute("uv"),m.onBeforeRender=function(I,G,z){this.matrixWorld.copyPosition(z.matrixWorld)},Object.defineProperty(m.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),s.update(m)),zf.copy(D.backgroundRotation),zf.x*=-1,zf.y*=-1,zf.z*=-1,P.isCubeTexture&&P.isRenderTargetTexture===!1&&(zf.y*=-1,zf.z*=-1),m.material.uniforms.envMap.value=P,m.material.uniforms.flipEnvMap.value=P.isCubeTexture&&P.isRenderTargetTexture===!1?-1:1,m.material.uniforms.backgroundBlurriness.value=D.backgroundBlurriness,m.material.uniforms.backgroundIntensity.value=D.backgroundIntensity,m.material.uniforms.backgroundRotation.value.setFromMatrix4(Bk.makeRotationFromEuler(zf)),m.material.toneMapped=bn.getTransfer(P.colorSpace)!==kn,(y!==P||x!==P.version||_!==n.toneMapping)&&(m.material.needsUpdate=!0,y=P,x=P.version,_=n.toneMapping),m.layers.enableAll(),B.unshift(m,m.geometry,m.material,0,0,null)):P&&P.isTexture&&(p===void 0&&(p=new Li(new Np(2,2),new Ao({name:"BackgroundMaterial",uniforms:gp(go.background.uniforms),vertexShader:go.background.vertexShader,fragmentShader:go.background.fragmentShader,side:pl,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),p.geometry.deleteAttribute("normal"),Object.defineProperty(p.material,"map",{get:function(){return this.uniforms.t2D.value}}),s.update(p)),p.material.uniforms.t2D.value=P,p.material.uniforms.backgroundIntensity.value=D.backgroundIntensity,p.material.toneMapped=bn.getTransfer(P.colorSpace)!==kn,P.matrixAutoUpdate===!0&&P.updateMatrix(),p.material.uniforms.uvTransform.value.copy(P.matrix),(y!==P||x!==P.version||_!==n.toneMapping)&&(p.material.needsUpdate=!0,y=P,x=P.version,_=n.toneMapping),p.layers.enableAll(),B.unshift(p,p.geometry,p.material,0,0,null))}function S(B,D){B.getRGB(ix,sN(n)),i.buffers.color.setClear(ix.r,ix.g,ix.b,D,o)}function w(){m!==void 0&&(m.geometry.dispose(),m.material.dispose(),m=void 0),p!==void 0&&(p.geometry.dispose(),p.material.dispose(),p=void 0)}return{getClearColor:function(){return u},setClearColor:function(B,D=1){u.set(B),h=D,S(u,h)},getClearAlpha:function(){return h},setClearAlpha:function(B){h=B,S(u,h)},render:C,addToRenderList:E,dispose:w}}function Nk(n,e){const t=n.getParameter(n.MAX_VERTEX_ATTRIBS),i={},s=x(null);let r=s,o=!1;function u(O,W,ce,se,me){let fe=!1;const F=y(se,ce,W);r!==F&&(r=F,p(r.object)),fe=_(O,se,ce,me),fe&&M(O,se,ce,me),me!==null&&e.update(me,n.ELEMENT_ARRAY_BUFFER),(fe||o)&&(o=!1,D(O,W,ce,se),me!==null&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,e.get(me).buffer))}function h(){return n.createVertexArray()}function p(O){return n.bindVertexArray(O)}function m(O){return n.deleteVertexArray(O)}function y(O,W,ce){const se=ce.wireframe===!0;let me=i[O.id];me===void 0&&(me={},i[O.id]=me);let fe=me[W.id];fe===void 0&&(fe={},me[W.id]=fe);let F=fe[se];return F===void 0&&(F=x(h()),fe[se]=F),F}function x(O){const W=[],ce=[],se=[];for(let me=0;me<t;me++)W[me]=0,ce[me]=0,se[me]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:W,enabledAttributes:ce,attributeDivisors:se,object:O,attributes:{},index:null}}function _(O,W,ce,se){const me=r.attributes,fe=W.attributes;let F=0;const q=ce.getAttributes();for(const Y in q)if(q[Y].location>=0){const X=me[Y];let ie=fe[Y];if(ie===void 0&&(Y==="instanceMatrix"&&O.instanceMatrix&&(ie=O.instanceMatrix),Y==="instanceColor"&&O.instanceColor&&(ie=O.instanceColor)),X===void 0||X.attribute!==ie||ie&&X.data!==ie.data)return!0;F++}return r.attributesNum!==F||r.index!==se}function M(O,W,ce,se){const me={},fe=W.attributes;let F=0;const q=ce.getAttributes();for(const Y in q)if(q[Y].location>=0){let X=fe[Y];X===void 0&&(Y==="instanceMatrix"&&O.instanceMatrix&&(X=O.instanceMatrix),Y==="instanceColor"&&O.instanceColor&&(X=O.instanceColor));const ie={};ie.attribute=X,X&&X.data&&(ie.data=X.data),me[Y]=ie,F++}r.attributes=me,r.attributesNum=F,r.index=se}function C(){const O=r.newAttributes;for(let W=0,ce=O.length;W<ce;W++)O[W]=0}function E(O){S(O,0)}function S(O,W){const ce=r.newAttributes,se=r.enabledAttributes,me=r.attributeDivisors;ce[O]=1,se[O]===0&&(n.enableVertexAttribArray(O),se[O]=1),me[O]!==W&&(n.vertexAttribDivisor(O,W),me[O]=W)}function w(){const O=r.newAttributes,W=r.enabledAttributes;for(let ce=0,se=W.length;ce<se;ce++)W[ce]!==O[ce]&&(n.disableVertexAttribArray(ce),W[ce]=0)}function B(O,W,ce,se,me,fe,F){F===!0?n.vertexAttribIPointer(O,W,ce,me,fe):n.vertexAttribPointer(O,W,ce,se,me,fe)}function D(O,W,ce,se){C();const me=se.attributes,fe=ce.getAttributes(),F=W.defaultAttributeValues;for(const q in fe){const Y=fe[q];if(Y.location>=0){let ue=me[q];if(ue===void 0&&(q==="instanceMatrix"&&O.instanceMatrix&&(ue=O.instanceMatrix),q==="instanceColor"&&O.instanceColor&&(ue=O.instanceColor)),ue!==void 0){const X=ue.normalized,ie=ue.itemSize,xe=e.get(ue);if(xe===void 0)continue;const _e=xe.buffer,ne=xe.type,Ce=xe.bytesPerElement,Oe=ne===n.INT||ne===n.UNSIGNED_INT||ue.gpuType===F_;if(ue.isInterleavedBufferAttribute){const He=ue.data,Ye=He.stride,bt=ue.offset;if(He.isInstancedInterleavedBuffer){for(let it=0;it<Y.locationSize;it++)S(Y.location+it,He.meshPerAttribute);O.isInstancedMesh!==!0&&se._maxInstanceCount===void 0&&(se._maxInstanceCount=He.meshPerAttribute*He.count)}else for(let it=0;it<Y.locationSize;it++)E(Y.location+it);n.bindBuffer(n.ARRAY_BUFFER,_e);for(let it=0;it<Y.locationSize;it++)B(Y.location+it,ie/Y.locationSize,ne,X,Ye*Ce,(bt+ie/Y.locationSize*it)*Ce,Oe)}else{if(ue.isInstancedBufferAttribute){for(let He=0;He<Y.locationSize;He++)S(Y.location+He,ue.meshPerAttribute);O.isInstancedMesh!==!0&&se._maxInstanceCount===void 0&&(se._maxInstanceCount=ue.meshPerAttribute*ue.count)}else for(let He=0;He<Y.locationSize;He++)E(Y.location+He);n.bindBuffer(n.ARRAY_BUFFER,_e);for(let He=0;He<Y.locationSize;He++)B(Y.location+He,ie/Y.locationSize,ne,X,ie*Ce,ie/Y.locationSize*He*Ce,Oe)}}else if(F!==void 0){const X=F[q];if(X!==void 0)switch(X.length){case 2:n.vertexAttrib2fv(Y.location,X);break;case 3:n.vertexAttrib3fv(Y.location,X);break;case 4:n.vertexAttrib4fv(Y.location,X);break;default:n.vertexAttrib1fv(Y.location,X)}}}}w()}function P(){z();for(const O in i){const W=i[O];for(const ce in W){const se=W[ce];for(const me in se)m(se[me].object),delete se[me];delete W[ce]}delete i[O]}}function I(O){if(i[O.id]===void 0)return;const W=i[O.id];for(const ce in W){const se=W[ce];for(const me in se)m(se[me].object),delete se[me];delete W[ce]}delete i[O.id]}function G(O){for(const W in i){const ce=i[W];if(ce[O.id]===void 0)continue;const se=ce[O.id];for(const me in se)m(se[me].object),delete se[me];delete ce[O.id]}}function z(){U(),o=!0,r!==s&&(r=s,p(r.object))}function U(){s.geometry=null,s.program=null,s.wireframe=!1}return{setup:u,reset:z,resetDefaultState:U,dispose:P,releaseStatesOfGeometry:I,releaseStatesOfProgram:G,initAttributes:C,enableAttribute:E,disableUnusedAttributes:w}}function Uk(n,e,t){let i;function s(p){i=p}function r(p,m){n.drawArrays(i,p,m),t.update(m,i,1)}function o(p,m,y){y!==0&&(n.drawArraysInstanced(i,p,m,y),t.update(m,i,y))}function u(p,m,y){if(y===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(i,p,0,m,0,y);let _=0;for(let M=0;M<y;M++)_+=m[M];t.update(_,i,1)}function h(p,m,y,x){if(y===0)return;const _=e.get("WEBGL_multi_draw");if(_===null)for(let M=0;M<p.length;M++)o(p[M],m[M],x[M]);else{_.multiDrawArraysInstancedWEBGL(i,p,0,m,0,x,0,y);let M=0;for(let C=0;C<y;C++)M+=m[C]*x[C];t.update(M,i,1)}}this.setMode=s,this.render=r,this.renderInstances=o,this.renderMultiDraw=u,this.renderMultiDrawInstances=h}function Lk(n,e,t,i){let s;function r(){if(s!==void 0)return s;if(e.has("EXT_texture_filter_anisotropic")===!0){const G=e.get("EXT_texture_filter_anisotropic");s=n.getParameter(G.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else s=0;return s}function o(G){return!(G!==js&&i.convert(G)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_FORMAT))}function u(G){const z=G===wp&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(G!==Or&&i.convert(G)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_TYPE)&&G!==La&&!z)}function h(G){if(G==="highp"){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";G="mediump"}return G==="mediump"&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let p=t.precision!==void 0?t.precision:"highp";const m=h(p);m!==p&&(console.warn("THREE.WebGLRenderer:",p,"not supported, using",m,"instead."),p=m);const y=t.logarithmicDepthBuffer===!0,x=t.reverseDepthBuffer===!0&&e.has("EXT_clip_control"),_=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),M=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),C=n.getParameter(n.MAX_TEXTURE_SIZE),E=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),S=n.getParameter(n.MAX_VERTEX_ATTRIBS),w=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),B=n.getParameter(n.MAX_VARYING_VECTORS),D=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),P=M>0,I=n.getParameter(n.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:r,getMaxPrecision:h,textureFormatReadable:o,textureTypeReadable:u,precision:p,logarithmicDepthBuffer:y,reverseDepthBuffer:x,maxTextures:_,maxVertexTextures:M,maxTextureSize:C,maxCubemapSize:E,maxAttributes:S,maxVertexUniforms:w,maxVaryings:B,maxFragmentUniforms:D,vertexTextures:P,maxSamples:I}}function Ok(n){const e=this;let t=null,i=0,s=!1,r=!1;const o=new yu,u=new Zt,h={value:null,needsUpdate:!1};this.uniform=h,this.numPlanes=0,this.numIntersection=0,this.init=function(y,x){const _=y.length!==0||x||i!==0||s;return s=x,i=y.length,_},this.beginShadows=function(){r=!0,m(null)},this.endShadows=function(){r=!1},this.setGlobalState=function(y,x){t=m(y,x,0)},this.setState=function(y,x,_){const M=y.clippingPlanes,C=y.clipIntersection,E=y.clipShadows,S=n.get(y);if(!s||M===null||M.length===0||r&&!E)r?m(null):p();else{const w=r?0:i,B=w*4;let D=S.clippingState||null;h.value=D,D=m(M,x,B,_);for(let P=0;P!==B;++P)D[P]=t[P];S.clippingState=D,this.numIntersection=C?this.numPlanes:0,this.numPlanes+=w}};function p(){h.value!==t&&(h.value=t,h.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function m(y,x,_,M){const C=y!==null?y.length:0;let E=null;if(C!==0){if(E=h.value,M!==!0||E===null){const S=_+C*4,w=x.matrixWorldInverse;u.getNormalMatrix(w),(E===null||E.length<S)&&(E=new Float32Array(S));for(let B=0,D=_;B!==C;++B,D+=4)o.copy(y[B]).applyMatrix4(w,u),o.normal.toArray(E,D),E[D+3]=o.constant}h.value=E,h.needsUpdate=!0}return e.numPlanes=C,e.numIntersection=0,E}}function Pk(n){let e=new WeakMap;function t(o,u){return u===Qg?o.mapping=cc:u===Zg&&(o.mapping=Su),o}function i(o){if(o&&o.isTexture){const u=o.mapping;if(u===Qg||u===Zg)if(e.has(o)){const h=e.get(o).texture;return t(h,o.mapping)}else{const h=o.image;if(h&&h.height>0){const p=new oN(h.height);return p.fromEquirectangularTexture(n,o),e.set(o,p),o.addEventListener("dispose",s),t(p.texture,o.mapping)}else return null}}return o}function s(o){const u=o.target;u.removeEventListener("dispose",s);const h=e.get(u);h!==void 0&&(e.delete(u),h.dispose())}function r(){e=new WeakMap}return{get:i,dispose:r}}const Zd=4,aw=[.125,.215,.35,.446,.526,.582],qf=20,aS=new Du,rw=new nt;let rS=null,oS=0,lS=0,cS=!1;const jf=(1+Math.sqrt(5))/2,Fd=1/jf,ow=[new Z(-jf,Fd,0),new Z(jf,Fd,0),new Z(-Fd,0,jf),new Z(Fd,0,jf),new Z(0,jf,-Fd),new Z(0,jf,Fd),new Z(-1,1,-1),new Z(1,1,-1),new Z(-1,1,1),new Z(1,1,1)],Ik=new Z;class TM{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,i=.1,s=100,r={}){const{size:o=256,position:u=Ik}=r;rS=this._renderer.getRenderTarget(),oS=this._renderer.getActiveCubeFace(),lS=this._renderer.getActiveMipmapLevel(),cS=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(o);const h=this._allocateTargets();return h.depthBuffer=!0,this._sceneToCubeUV(e,i,s,h,u),t>0&&this._blur(h,0,0,t),this._applyPMREM(h),this._cleanup(h),h}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=uw(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=cw(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(rS,oS,lS),this._renderer.xr.enabled=cS,e.scissorTest=!1,sx(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===cc||e.mapping===Su?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),rS=this._renderer.getRenderTarget(),oS=this._renderer.getActiveCubeFace(),lS=this._renderer.getActiveMipmapLevel(),cS=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const i=t||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,i={magFilter:Ui,minFilter:Ui,generateMipmaps:!1,type:wp,format:js,colorSpace:Eu,depthBuffer:!1},s=lw(e,t,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=lw(e,t,i);const{_lodMax:r}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=Fk(r)),this._blurMaterial=zk(r,e,t)}return s}_compileMaterial(e){const t=new Li(this._lodPlanes[0],e);this._renderer.compile(t,aS)}_sceneToCubeUV(e,t,i,s,r){const h=new Ni(90,1,t,i),p=[1,-1,1,1,1,1],m=[1,1,1,-1,-1,-1],y=this._renderer,x=y.autoClear,_=y.toneMapping;y.getClearColor(rw),y.toneMapping=fl,y.autoClear=!1;const M=new ir({name:"PMREM.Background",side:ga,depthWrite:!1,depthTest:!1}),C=new Li(new gh,M);let E=!1;const S=e.background;S?S.isColor&&(M.color.copy(S),e.background=null,E=!0):(M.color.copy(rw),E=!0);for(let w=0;w<6;w++){const B=w%3;B===0?(h.up.set(0,p[w],0),h.position.set(r.x,r.y,r.z),h.lookAt(r.x+m[w],r.y,r.z)):B===1?(h.up.set(0,0,p[w]),h.position.set(r.x,r.y,r.z),h.lookAt(r.x,r.y+m[w],r.z)):(h.up.set(0,p[w],0),h.position.set(r.x,r.y,r.z),h.lookAt(r.x,r.y,r.z+m[w]));const D=this._cubeSize;sx(s,B*D,w>2?D:0,D,D),y.setRenderTarget(s),E&&y.render(C,h),y.render(e,h)}C.geometry.dispose(),C.material.dispose(),y.toneMapping=_,y.autoClear=x,e.background=S}_textureToCubeUV(e,t){const i=this._renderer,s=e.mapping===cc||e.mapping===Su;s?(this._cubemapMaterial===null&&(this._cubemapMaterial=uw()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=cw());const r=s?this._cubemapMaterial:this._equirectMaterial,o=new Li(this._lodPlanes[0],r),u=r.uniforms;u.envMap.value=e;const h=this._cubeSize;sx(t,0,0,3*h,2*h),i.setRenderTarget(t),i.render(o,aS)}_applyPMREM(e){const t=this._renderer,i=t.autoClear;t.autoClear=!1;const s=this._lodPlanes.length;for(let r=1;r<s;r++){const o=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]),u=ow[(s-r-1)%ow.length];this._blur(e,r-1,r,o,u)}t.autoClear=i}_blur(e,t,i,s,r){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,i,s,"latitudinal",r),this._halfBlur(o,e,i,i,s,"longitudinal",r)}_halfBlur(e,t,i,s,r,o,u){const h=this._renderer,p=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const m=3,y=new Li(this._lodPlanes[s],p),x=p.uniforms,_=this._sizeLods[i]-1,M=isFinite(r)?Math.PI/(2*_):2*Math.PI/(2*qf-1),C=r/M,E=isFinite(r)?1+Math.floor(m*C):qf;E>qf&&console.warn(`sigmaRadians, ${r}, is too large and will clip, as it requested ${E} samples when the maximum is set to ${qf}`);const S=[];let w=0;for(let G=0;G<qf;++G){const z=G/C,U=Math.exp(-z*z/2);S.push(U),G===0?w+=U:G<E&&(w+=2*U)}for(let G=0;G<S.length;G++)S[G]=S[G]/w;x.envMap.value=e.texture,x.samples.value=E,x.weights.value=S,x.latitudinal.value=o==="latitudinal",u&&(x.poleAxis.value=u);const{_lodMax:B}=this;x.dTheta.value=M,x.mipInt.value=B-i;const D=this._sizeLods[s],P=3*D*(s>B-Zd?s-B+Zd:0),I=4*(this._cubeSize-D);sx(t,P,I,3*D,2*D),h.setRenderTarget(t),h.render(y,aS)}}function Fk(n){const e=[],t=[],i=[];let s=n;const r=n-Zd+1+aw.length;for(let o=0;o<r;o++){const u=Math.pow(2,s);t.push(u);let h=1/u;o>n-Zd?h=aw[o-n+Zd-1]:o===0&&(h=0),i.push(h);const p=1/(u-2),m=-p,y=1+p,x=[m,m,y,m,y,y,m,m,y,y,m,y],_=6,M=6,C=3,E=2,S=1,w=new Float32Array(C*M*_),B=new Float32Array(E*M*_),D=new Float32Array(S*M*_);for(let I=0;I<_;I++){const G=I%3*2/3-1,z=I>2?0:-1,U=[G,z,0,G+2/3,z,0,G+2/3,z+1,0,G,z,0,G+2/3,z+1,0,G,z+1,0];w.set(U,C*M*I),B.set(x,E*M*I);const O=[I,I,I,I,I,I];D.set(O,S*M*I)}const P=new Kt;P.setAttribute("position",new Cn(w,C)),P.setAttribute("uv",new Cn(B,E)),P.setAttribute("faceIndex",new Cn(D,S)),e.push(P),s>Zd&&s--}return{lodPlanes:e,sizeLods:t,sigmas:i}}function lw(n,e,t){const i=new ml(n,e,t);return i.texture.mapping=Rp,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function sx(n,e,t,i,s){n.viewport.set(e,t,i,s),n.scissor.set(e,t,i,s)}function zk(n,e,t){const i=new Float32Array(qf),s=new Z(0,1,0);return new Ao({name:"SphericalGaussianBlur",defines:{n:qf,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:s}},vertexShader:vE(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:sc,depthTest:!1,depthWrite:!1})}function cw(){return new Ao({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:vE(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:sc,depthTest:!1,depthWrite:!1})}function uw(){return new Ao({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:vE(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:sc,depthTest:!1,depthWrite:!1})}function vE(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function Hk(n){let e=new WeakMap,t=null;function i(u){if(u&&u.isTexture){const h=u.mapping,p=h===Qg||h===Zg,m=h===cc||h===Su;if(p||m){let y=e.get(u);const x=y!==void 0?y.texture.pmremVersion:0;if(u.isRenderTargetTexture&&u.pmremVersion!==x)return t===null&&(t=new TM(n)),y=p?t.fromEquirectangular(u,y):t.fromCubemap(u,y),y.texture.pmremVersion=u.pmremVersion,e.set(u,y),y.texture;if(y!==void 0)return y.texture;{const _=u.image;return p&&_&&_.height>0||m&&_&&s(_)?(t===null&&(t=new TM(n)),y=p?t.fromEquirectangular(u):t.fromCubemap(u),y.texture.pmremVersion=u.pmremVersion,e.set(u,y),u.addEventListener("dispose",r),y.texture):null}}}return u}function s(u){let h=0;const p=6;for(let m=0;m<p;m++)u[m]!==void 0&&h++;return h===p}function r(u){const h=u.target;h.removeEventListener("dispose",r);const p=e.get(h);p!==void 0&&(e.delete(h),p.dispose())}function o(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:i,dispose:o}}function Gk(n){const e={};function t(i){if(e[i]!==void 0)return e[i];let s;switch(i){case"WEBGL_depth_texture":s=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":s=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":s=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":s=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:s=n.getExtension(i)}return e[i]=s,s}return{has:function(i){return t(i)!==null},init:function(){t("EXT_color_buffer_float"),t("WEBGL_clip_cull_distance"),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture"),t("WEBGL_render_shared_exponent")},get:function(i){const s=t(i);return s===null&&ep("THREE.WebGLRenderer: "+i+" extension not supported."),s}}}function Vk(n,e,t,i){const s={},r=new WeakMap;function o(y){const x=y.target;x.index!==null&&e.remove(x.index);for(const M in x.attributes)e.remove(x.attributes[M]);x.removeEventListener("dispose",o),delete s[x.id];const _=r.get(x);_&&(e.remove(_),r.delete(x)),i.releaseStatesOfGeometry(x),x.isInstancedBufferGeometry===!0&&delete x._maxInstanceCount,t.memory.geometries--}function u(y,x){return s[x.id]===!0||(x.addEventListener("dispose",o),s[x.id]=!0,t.memory.geometries++),x}function h(y){const x=y.attributes;for(const _ in x)e.update(x[_],n.ARRAY_BUFFER)}function p(y){const x=[],_=y.index,M=y.attributes.position;let C=0;if(_!==null){const w=_.array;C=_.version;for(let B=0,D=w.length;B<D;B+=3){const P=w[B+0],I=w[B+1],G=w[B+2];x.push(P,I,I,G,G,P)}}else if(M!==void 0){const w=M.array;C=M.version;for(let B=0,D=w.length/3-1;B<D;B+=3){const P=B+0,I=B+1,G=B+2;x.push(P,I,I,G,G,P)}}else return;const E=new(eN(x)?V1:G1)(x,1);E.version=C;const S=r.get(y);S&&e.remove(S),r.set(y,E)}function m(y){const x=r.get(y);if(x){const _=y.index;_!==null&&x.version<_.version&&p(y)}else p(y);return r.get(y)}return{get:u,update:h,getWireframeAttribute:m}}function kk(n,e,t){let i;function s(x){i=x}let r,o;function u(x){r=x.type,o=x.bytesPerElement}function h(x,_){n.drawElements(i,_,r,x*o),t.update(_,i,1)}function p(x,_,M){M!==0&&(n.drawElementsInstanced(i,_,r,x*o,M),t.update(_,i,M))}function m(x,_,M){if(M===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(i,_,0,r,x,0,M);let E=0;for(let S=0;S<M;S++)E+=_[S];t.update(E,i,1)}function y(x,_,M,C){if(M===0)return;const E=e.get("WEBGL_multi_draw");if(E===null)for(let S=0;S<x.length;S++)p(x[S]/o,_[S],C[S]);else{E.multiDrawElementsInstancedWEBGL(i,_,0,r,x,0,C,0,M);let S=0;for(let w=0;w<M;w++)S+=_[w]*C[w];t.update(S,i,1)}}this.setMode=s,this.setIndex=u,this.render=h,this.renderInstances=p,this.renderMultiDraw=m,this.renderMultiDrawInstances=y}function Xk(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function i(r,o,u){switch(t.calls++,o){case n.TRIANGLES:t.triangles+=u*(r/3);break;case n.LINES:t.lines+=u*(r/2);break;case n.LINE_STRIP:t.lines+=u*(r-1);break;case n.LINE_LOOP:t.lines+=u*r;break;case n.POINTS:t.points+=u*r;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function s(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:s,update:i}}function jk(n,e,t){const i=new WeakMap,s=new mn;function r(o,u,h){const p=o.morphTargetInfluences,m=u.morphAttributes.position||u.morphAttributes.normal||u.morphAttributes.color,y=m!==void 0?m.length:0;let x=i.get(u);if(x===void 0||x.count!==y){let O=function(){z.dispose(),i.delete(u),u.removeEventListener("dispose",O)};var _=O;x!==void 0&&x.texture.dispose();const M=u.morphAttributes.position!==void 0,C=u.morphAttributes.normal!==void 0,E=u.morphAttributes.color!==void 0,S=u.morphAttributes.position||[],w=u.morphAttributes.normal||[],B=u.morphAttributes.color||[];let D=0;M===!0&&(D=1),C===!0&&(D=2),E===!0&&(D=3);let P=u.attributes.position.count*D,I=1;P>e.maxTextureSize&&(I=Math.ceil(P/e.maxTextureSize),P=e.maxTextureSize);const G=new Float32Array(P*I*4*y),z=new j_(G,P,I,y);z.type=La,z.needsUpdate=!0;const U=D*4;for(let W=0;W<y;W++){const ce=S[W],se=w[W],me=B[W],fe=P*I*4*W;for(let F=0;F<ce.count;F++){const q=F*U;M===!0&&(s.fromBufferAttribute(ce,F),G[fe+q+0]=s.x,G[fe+q+1]=s.y,G[fe+q+2]=s.z,G[fe+q+3]=0),C===!0&&(s.fromBufferAttribute(se,F),G[fe+q+4]=s.x,G[fe+q+5]=s.y,G[fe+q+6]=s.z,G[fe+q+7]=0),E===!0&&(s.fromBufferAttribute(me,F),G[fe+q+8]=s.x,G[fe+q+9]=s.y,G[fe+q+10]=s.z,G[fe+q+11]=me.itemSize===4?s.w:1)}}x={count:y,texture:z,size:new Fe(P,I)},i.set(u,x),u.addEventListener("dispose",O)}if(o.isInstancedMesh===!0&&o.morphTexture!==null)h.getUniforms().setValue(n,"morphTexture",o.morphTexture,t);else{let M=0;for(let E=0;E<p.length;E++)M+=p[E];const C=u.morphTargetsRelative?1:1-M;h.getUniforms().setValue(n,"morphTargetBaseInfluence",C),h.getUniforms().setValue(n,"morphTargetInfluences",p)}h.getUniforms().setValue(n,"morphTargetsTexture",x.texture,t),h.getUniforms().setValue(n,"morphTargetsTextureSize",x.size)}return{update:r}}function Yk(n,e,t,i){let s=new WeakMap;function r(h){const p=i.render.frame,m=h.geometry,y=e.get(h,m);if(s.get(y)!==p&&(e.update(y),s.set(y,p)),h.isInstancedMesh&&(h.hasEventListener("dispose",u)===!1&&h.addEventListener("dispose",u),s.get(h)!==p&&(t.update(h.instanceMatrix,n.ARRAY_BUFFER),h.instanceColor!==null&&t.update(h.instanceColor,n.ARRAY_BUFFER),s.set(h,p))),h.isSkinnedMesh){const x=h.skeleton;s.get(x)!==p&&(x.update(),s.set(x,p))}return y}function o(){s=new WeakMap}function u(h){const p=h.target;p.removeEventListener("dispose",u),t.remove(p.instanceMatrix),p.instanceColor!==null&&t.remove(p.instanceColor)}return{update:r,dispose:o}}const tU=new oi,fw=new J1(1,1),nU=new j_,iU=new Y_,sU=new A0,hw=[],dw=[],pw=new Float32Array(16),mw=new Float32Array(9),gw=new Float32Array(4);function Lp(n,e,t){const i=n[0];if(i<=0||i>0)return n;const s=e*t;let r=hw[s];if(r===void 0&&(r=new Float32Array(s),hw[s]=r),e!==0){i.toArray(r,0);for(let o=1,u=0;o!==e;++o)u+=t,n[o].toArray(r,u)}return r}function ss(n,e){if(n.length!==e.length)return!1;for(let t=0,i=n.length;t<i;t++)if(n[t]!==e[t])return!1;return!0}function as(n,e){for(let t=0,i=e.length;t<i;t++)n[t]=e[t]}function pA(n,e){let t=dw[e];t===void 0&&(t=new Int32Array(e),dw[e]=t);for(let i=0;i!==e;++i)t[i]=n.allocateTextureUnit();return t}function qk(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function Wk(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(ss(t,e))return;n.uniform2fv(this.addr,e),as(t,e)}}function Jk(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(ss(t,e))return;n.uniform3fv(this.addr,e),as(t,e)}}function Kk(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(ss(t,e))return;n.uniform4fv(this.addr,e),as(t,e)}}function Qk(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(ss(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),as(t,e)}else{if(ss(t,i))return;gw.set(i),n.uniformMatrix2fv(this.addr,!1,gw),as(t,i)}}function Zk(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(ss(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),as(t,e)}else{if(ss(t,i))return;mw.set(i),n.uniformMatrix3fv(this.addr,!1,mw),as(t,i)}}function $k(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(ss(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),as(t,e)}else{if(ss(t,i))return;pw.set(i),n.uniformMatrix4fv(this.addr,!1,pw),as(t,i)}}function e7(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function t7(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(ss(t,e))return;n.uniform2iv(this.addr,e),as(t,e)}}function n7(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(ss(t,e))return;n.uniform3iv(this.addr,e),as(t,e)}}function i7(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(ss(t,e))return;n.uniform4iv(this.addr,e),as(t,e)}}function s7(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function a7(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(ss(t,e))return;n.uniform2uiv(this.addr,e),as(t,e)}}function r7(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(ss(t,e))return;n.uniform3uiv(this.addr,e),as(t,e)}}function o7(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(ss(t,e))return;n.uniform4uiv(this.addr,e),as(t,e)}}function l7(n,e,t){const i=this.cache,s=t.allocateTextureUnit();i[0]!==s&&(n.uniform1i(this.addr,s),i[0]=s);let r;this.type===n.SAMPLER_2D_SHADOW?(fw.compareFunction=I1,r=fw):r=tU,t.setTexture2D(e||r,s)}function c7(n,e,t){const i=this.cache,s=t.allocateTextureUnit();i[0]!==s&&(n.uniform1i(this.addr,s),i[0]=s),t.setTexture3D(e||iU,s)}function u7(n,e,t){const i=this.cache,s=t.allocateTextureUnit();i[0]!==s&&(n.uniform1i(this.addr,s),i[0]=s),t.setTextureCube(e||sU,s)}function f7(n,e,t){const i=this.cache,s=t.allocateTextureUnit();i[0]!==s&&(n.uniform1i(this.addr,s),i[0]=s),t.setTexture2DArray(e||nU,s)}function h7(n){switch(n){case 5126:return qk;case 35664:return Wk;case 35665:return Jk;case 35666:return Kk;case 35674:return Qk;case 35675:return Zk;case 35676:return $k;case 5124:case 35670:return e7;case 35667:case 35671:return t7;case 35668:case 35672:return n7;case 35669:case 35673:return i7;case 5125:return s7;case 36294:return a7;case 36295:return r7;case 36296:return o7;case 35678:case 36198:case 36298:case 36306:case 35682:return l7;case 35679:case 36299:case 36307:return c7;case 35680:case 36300:case 36308:case 36293:return u7;case 36289:case 36303:case 36311:case 36292:return f7}}function d7(n,e){n.uniform1fv(this.addr,e)}function p7(n,e){const t=Lp(e,this.size,2);n.uniform2fv(this.addr,t)}function m7(n,e){const t=Lp(e,this.size,3);n.uniform3fv(this.addr,t)}function g7(n,e){const t=Lp(e,this.size,4);n.uniform4fv(this.addr,t)}function y7(n,e){const t=Lp(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function v7(n,e){const t=Lp(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function x7(n,e){const t=Lp(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function _7(n,e){n.uniform1iv(this.addr,e)}function A7(n,e){n.uniform2iv(this.addr,e)}function b7(n,e){n.uniform3iv(this.addr,e)}function S7(n,e){n.uniform4iv(this.addr,e)}function M7(n,e){n.uniform1uiv(this.addr,e)}function E7(n,e){n.uniform2uiv(this.addr,e)}function T7(n,e){n.uniform3uiv(this.addr,e)}function C7(n,e){n.uniform4uiv(this.addr,e)}function R7(n,e,t){const i=this.cache,s=e.length,r=pA(t,s);ss(i,r)||(n.uniform1iv(this.addr,r),as(i,r));for(let o=0;o!==s;++o)t.setTexture2D(e[o]||tU,r[o])}function w7(n,e,t){const i=this.cache,s=e.length,r=pA(t,s);ss(i,r)||(n.uniform1iv(this.addr,r),as(i,r));for(let o=0;o!==s;++o)t.setTexture3D(e[o]||iU,r[o])}function B7(n,e,t){const i=this.cache,s=e.length,r=pA(t,s);ss(i,r)||(n.uniform1iv(this.addr,r),as(i,r));for(let o=0;o!==s;++o)t.setTextureCube(e[o]||sU,r[o])}function D7(n,e,t){const i=this.cache,s=e.length,r=pA(t,s);ss(i,r)||(n.uniform1iv(this.addr,r),as(i,r));for(let o=0;o!==s;++o)t.setTexture2DArray(e[o]||nU,r[o])}function N7(n){switch(n){case 5126:return d7;case 35664:return p7;case 35665:return m7;case 35666:return g7;case 35674:return y7;case 35675:return v7;case 35676:return x7;case 5124:case 35670:return _7;case 35667:case 35671:return A7;case 35668:case 35672:return b7;case 35669:case 35673:return S7;case 5125:return M7;case 36294:return E7;case 36295:return T7;case 36296:return C7;case 35678:case 36198:case 36298:case 36306:case 35682:return R7;case 35679:case 36299:case 36307:return w7;case 35680:case 36300:case 36308:case 36293:return B7;case 36289:case 36303:case 36311:case 36292:return D7}}class U7{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.type=t.type,this.setValue=h7(t.type)}}class L7{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=N7(t.type)}}class O7{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,i){const s=this.seq;for(let r=0,o=s.length;r!==o;++r){const u=s[r];u.setValue(e,t[u.id],i)}}}const uS=/(\w+)(\])?(\[|\.)?/g;function yw(n,e){n.seq.push(e),n.map[e.id]=e}function P7(n,e,t){const i=n.name,s=i.length;for(uS.lastIndex=0;;){const r=uS.exec(i),o=uS.lastIndex;let u=r[1];const h=r[2]==="]",p=r[3];if(h&&(u=u|0),p===void 0||p==="["&&o+2===s){yw(t,p===void 0?new U7(u,n,e):new L7(u,n,e));break}else{let y=t.map[u];y===void 0&&(y=new O7(u),yw(t,y)),t=y}}}class Sx{constructor(e,t){this.seq=[],this.map={};const i=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let s=0;s<i;++s){const r=e.getActiveUniform(t,s),o=e.getUniformLocation(t,r.name);P7(r,o,this)}}setValue(e,t,i,s){const r=this.map[t];r!==void 0&&r.setValue(e,i,s)}setOptional(e,t,i){const s=t[i];s!==void 0&&this.setValue(e,i,s)}static upload(e,t,i,s){for(let r=0,o=t.length;r!==o;++r){const u=t[r],h=i[u.id];h.needsUpdate!==!1&&u.setValue(e,h.value,s)}}static seqWithValue(e,t){const i=[];for(let s=0,r=e.length;s!==r;++s){const o=e[s];o.id in t&&i.push(o)}return i}}function vw(n,e,t){const i=n.createShader(e);return n.shaderSource(i,t),n.compileShader(i),i}const I7=37297;let F7=0;function z7(n,e){const t=n.split(`
`),i=[],s=Math.max(e-6,0),r=Math.min(e+6,t.length);for(let o=s;o<r;o++){const u=o+1;i.push(`${u===e?">":" "} ${u}: ${t[o]}`)}return i.join(`
`)}const xw=new Zt;function H7(n){bn._getMatrix(xw,bn.workingColorSpace,n);const e=`mat3( ${xw.elements.map(t=>t.toFixed(4))} )`;switch(bn.getTransfer(n)){case e0:return[e,"LinearTransferOETF"];case kn:return[e,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",n),[e,"LinearTransferOETF"]}}function _w(n,e,t){const i=n.getShaderParameter(e,n.COMPILE_STATUS),s=n.getShaderInfoLog(e).trim();if(i&&s==="")return"";const r=/ERROR: 0:(\d+)/.exec(s);if(r){const o=parseInt(r[1]);return t.toUpperCase()+`

`+s+`

`+z7(n.getShaderSource(e),o)}else return s}function G7(n,e){const t=H7(e);return[`vec4 ${n}( vec4 value ) {`,`	return ${t[1]}( vec4( value.rgb * ${t[0]}, value.a ) );`,"}"].join(`
`)}function V7(n,e){let t;switch(e){case U3:t="Linear";break;case L3:t="Reinhard";break;case O3:t="Cineon";break;case C1:t="ACESFilmic";break;case I3:t="AgX";break;case F3:t="Neutral";break;case P3:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}const ax=new Z;function k7(){bn.getLuminanceCoefficients(ax);const n=ax.x.toFixed(4),e=ax.y.toFixed(4),t=ax.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${n}, ${e}, ${t} );`,"	return dot( weights, rgb );","}"].join(`
`)}function X7(n){return[n.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",n.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(Tg).join(`
`)}function j7(n){const e=[];for(const t in n){const i=n[t];i!==!1&&e.push("#define "+t+" "+i)}return e.join(`
`)}function Y7(n,e){const t={},i=n.getProgramParameter(e,n.ACTIVE_ATTRIBUTES);for(let s=0;s<i;s++){const r=n.getActiveAttrib(e,s),o=r.name;let u=1;r.type===n.FLOAT_MAT2&&(u=2),r.type===n.FLOAT_MAT3&&(u=3),r.type===n.FLOAT_MAT4&&(u=4),t[o]={type:r.type,location:n.getAttribLocation(e,o),locationSize:u}}return t}function Tg(n){return n!==""}function Aw(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function bw(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const q7=/^[ \t]*#include +<([\w\d./]+)>/gm;function CM(n){return n.replace(q7,J7)}const W7=new Map;function J7(n,e){let t=sn[e];if(t===void 0){const i=W7.get(e);if(i!==void 0)t=sn[i],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,i);else throw new Error("Can not resolve #include <"+e+">")}return CM(t)}const K7=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function Sw(n){return n.replace(K7,Q7)}function Q7(n,e,t,i){let s="";for(let r=parseInt(e);r<parseInt(t);r++)s+=i.replace(/\[\s*i\s*\]/g,"[ "+r+" ]").replace(/UNROLLED_LOOP_INDEX/g,r);return s}function Mw(n){let e=`precision ${n.precision} float;
	precision ${n.precision} int;
	precision ${n.precision} sampler2D;
	precision ${n.precision} samplerCube;
	precision ${n.precision} sampler3D;
	precision ${n.precision} sampler2DArray;
	precision ${n.precision} sampler2DShadow;
	precision ${n.precision} samplerCubeShadow;
	precision ${n.precision} sampler2DArrayShadow;
	precision ${n.precision} isampler2D;
	precision ${n.precision} isampler3D;
	precision ${n.precision} isamplerCube;
	precision ${n.precision} isampler2DArray;
	precision ${n.precision} usampler2D;
	precision ${n.precision} usampler3D;
	precision ${n.precision} usamplerCube;
	precision ${n.precision} usampler2DArray;
	`;return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function Z7(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===O_?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===Ug?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===mo&&(e="SHADOWMAP_TYPE_VSM"),e}function $7(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case cc:case Su:e="ENVMAP_TYPE_CUBE";break;case Rp:e="ENVMAP_TYPE_CUBE_UV";break}return e}function eX(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case Su:e="ENVMAP_MODE_REFRACTION";break}return e}function tX(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case x0:e="ENVMAP_BLENDING_MULTIPLY";break;case D3:e="ENVMAP_BLENDING_MIX";break;case N3:e="ENVMAP_BLENDING_ADD";break}return e}function nX(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:i,maxMip:t}}function iX(n,e,t,i){const s=n.getContext(),r=t.defines;let o=t.vertexShader,u=t.fragmentShader;const h=Z7(t),p=$7(t),m=eX(t),y=tX(t),x=nX(t),_=X7(t),M=j7(r),C=s.createProgram();let E,S,w=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(E=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,M].filter(Tg).join(`
`),E.length>0&&(E+=`
`),S=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,M].filter(Tg).join(`
`),S.length>0&&(S+=`
`)):(E=[Mw(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,M,t.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",t.batching?"#define USE_BATCHING":"",t.batchingColor?"#define USE_BATCHING_COLOR":"",t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.instancingMorph?"#define USE_INSTANCING_MORPH":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+m:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+h:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Tg).join(`
`),S=[Mw(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,M,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+p:"",t.envMap?"#define "+m:"",t.envMap?"#define "+y:"",x?"#define CUBEUV_TEXEL_WIDTH "+x.texelWidth:"",x?"#define CUBEUV_TEXEL_HEIGHT "+x.texelHeight:"",x?"#define CUBEUV_MAX_MIP "+x.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.dispersion?"#define USE_DISPERSION":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor||t.batchingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+h:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==fl?"#define TONE_MAPPING":"",t.toneMapping!==fl?sn.tonemapping_pars_fragment:"",t.toneMapping!==fl?V7("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",sn.colorspace_pars_fragment,G7("linearToOutputTexel",t.outputColorSpace),k7(),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(Tg).join(`
`)),o=CM(o),o=Aw(o,t),o=bw(o,t),u=CM(u),u=Aw(u,t),u=bw(u,t),o=Sw(o),u=Sw(u),t.isRawShaderMaterial!==!0&&(w=`#version 300 es
`,E=[_,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+E,S=["#define varying in",t.glslVersion===xM?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===xM?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+S);const B=w+E+o,D=w+S+u,P=vw(s,s.VERTEX_SHADER,B),I=vw(s,s.FRAGMENT_SHADER,D);s.attachShader(C,P),s.attachShader(C,I),t.index0AttributeName!==void 0?s.bindAttribLocation(C,0,t.index0AttributeName):t.morphTargets===!0&&s.bindAttribLocation(C,0,"position"),s.linkProgram(C);function G(W){if(n.debug.checkShaderErrors){const ce=s.getProgramInfoLog(C).trim(),se=s.getShaderInfoLog(P).trim(),me=s.getShaderInfoLog(I).trim();let fe=!0,F=!0;if(s.getProgramParameter(C,s.LINK_STATUS)===!1)if(fe=!1,typeof n.debug.onShaderError=="function")n.debug.onShaderError(s,C,P,I);else{const q=_w(s,P,"vertex"),Y=_w(s,I,"fragment");console.error("THREE.WebGLProgram: Shader Error "+s.getError()+" - VALIDATE_STATUS "+s.getProgramParameter(C,s.VALIDATE_STATUS)+`

Material Name: `+W.name+`
Material Type: `+W.type+`

Program Info Log: `+ce+`
`+q+`
`+Y)}else ce!==""?console.warn("THREE.WebGLProgram: Program Info Log:",ce):(se===""||me==="")&&(F=!1);F&&(W.diagnostics={runnable:fe,programLog:ce,vertexShader:{log:se,prefix:E},fragmentShader:{log:me,prefix:S}})}s.deleteShader(P),s.deleteShader(I),z=new Sx(s,C),U=Y7(s,C)}let z;this.getUniforms=function(){return z===void 0&&G(this),z};let U;this.getAttributes=function(){return U===void 0&&G(this),U};let O=t.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return O===!1&&(O=s.getProgramParameter(C,I7)),O},this.destroy=function(){i.releaseStatesOfProgram(this),s.deleteProgram(C),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=F7++,this.cacheKey=e,this.usedTimes=1,this.program=C,this.vertexShader=P,this.fragmentShader=I,this}let sX=0;class aX{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,i=e.fragmentShader,s=this._getShaderStage(t),r=this._getShaderStage(i),o=this._getShaderCacheForMaterial(e);return o.has(s)===!1&&(o.add(s),s.usedTimes++),o.has(r)===!1&&(o.add(r),r.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const i of t)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let i=t.get(e);return i===void 0&&(i=new Set,t.set(e,i)),i}_getShaderStage(e){const t=this.shaderCache;let i=t.get(e);return i===void 0&&(i=new rX(e),t.set(e,i)),i}}class rX{constructor(e){this.id=sX++,this.code=e,this.usedTimes=0}}function oX(n,e,t,i,s,r,o){const u=new mp,h=new aX,p=new Set,m=[],y=s.logarithmicDepthBuffer,x=s.vertexTextures;let _=s.precision;const M={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function C(U){return p.add(U),U===0?"uv":`uv${U}`}function E(U,O,W,ce,se){const me=ce.fog,fe=se.geometry,F=U.isMeshStandardMaterial?ce.environment:null,q=(U.isMeshStandardMaterial?t:e).get(U.envMap||F),Y=q&&q.mapping===Rp?q.image.height:null,ue=M[U.type];U.precision!==null&&(_=s.getMaxPrecision(U.precision),_!==U.precision&&console.warn("THREE.WebGLProgram.getParameters:",U.precision,"not supported, using",_,"instead."));const X=fe.morphAttributes.position||fe.morphAttributes.normal||fe.morphAttributes.color,ie=X!==void 0?X.length:0;let xe=0;fe.morphAttributes.position!==void 0&&(xe=1),fe.morphAttributes.normal!==void 0&&(xe=2),fe.morphAttributes.color!==void 0&&(xe=3);let _e,ne,Ce,Oe;if(ue){const hn=go[ue];_e=hn.vertexShader,ne=hn.fragmentShader}else _e=U.vertexShader,ne=U.fragmentShader,h.update(U),Ce=h.getVertexShaderID(U),Oe=h.getFragmentShaderID(U);const He=n.getRenderTarget(),Ye=n.state.buffers.depth.getReversed(),bt=se.isInstancedMesh===!0,it=se.isBatchedMesh===!0,mt=!!U.map,Rt=!!U.matcap,St=!!q,K=!!U.aoMap,Je=!!U.lightMap,Xe=!!U.bumpMap,Ge=!!U.normalMap,Ue=!!U.displacementMap,at=!!U.emissiveMap,Ve=!!U.metalnessMap,et=!!U.roughnessMap,Ht=U.anisotropy>0,$=U.clearcoat>0,H=U.dispersion>0,ge=U.iridescence>0,Re=U.sheen>0,Be=U.transmission>0,we=Ht&&!!U.anisotropyMap,rt=$&&!!U.clearcoatMap,$e=$&&!!U.clearcoatNormalMap,dt=$&&!!U.clearcoatRoughnessMap,gt=ge&&!!U.iridescenceMap,Pe=ge&&!!U.iridescenceThicknessMap,tt=Re&&!!U.sheenColorMap,At=Re&&!!U.sheenRoughnessMap,Et=!!U.specularMap,Qe=!!U.specularColorMap,Ot=!!U.specularIntensityMap,oe=Be&&!!U.transmissionMap,st=Be&&!!U.thicknessMap,je=!!U.gradientMap,ht=!!U.alphaMap,qe=U.alphaTest>0,Ie=!!U.alphaHash,pt=!!U.extensions;let Pt=fl;U.toneMapped&&(He===null||He.isXRRenderTarget===!0)&&(Pt=n.toneMapping);const xn={shaderID:ue,shaderType:U.type,shaderName:U.name,vertexShader:_e,fragmentShader:ne,defines:U.defines,customVertexShaderID:Ce,customFragmentShaderID:Oe,isRawShaderMaterial:U.isRawShaderMaterial===!0,glslVersion:U.glslVersion,precision:_,batching:it,batchingColor:it&&se._colorsTexture!==null,instancing:bt,instancingColor:bt&&se.instanceColor!==null,instancingMorph:bt&&se.morphTexture!==null,supportsVertexTextures:x,outputColorSpace:He===null?n.outputColorSpace:He.isXRRenderTarget===!0?He.texture.colorSpace:Eu,alphaToCoverage:!!U.alphaToCoverage,map:mt,matcap:Rt,envMap:St,envMapMode:St&&q.mapping,envMapCubeUVHeight:Y,aoMap:K,lightMap:Je,bumpMap:Xe,normalMap:Ge,displacementMap:x&&Ue,emissiveMap:at,normalMapObjectSpace:Ge&&U.normalMapType===Y3,normalMapTangentSpace:Ge&&U.normalMapType===Ru,metalnessMap:Ve,roughnessMap:et,anisotropy:Ht,anisotropyMap:we,clearcoat:$,clearcoatMap:rt,clearcoatNormalMap:$e,clearcoatRoughnessMap:dt,dispersion:H,iridescence:ge,iridescenceMap:gt,iridescenceThicknessMap:Pe,sheen:Re,sheenColorMap:tt,sheenRoughnessMap:At,specularMap:Et,specularColorMap:Qe,specularIntensityMap:Ot,transmission:Be,transmissionMap:oe,thicknessMap:st,gradientMap:je,opaque:U.transparent===!1&&U.blending===ah&&U.alphaToCoverage===!1,alphaMap:ht,alphaTest:qe,alphaHash:Ie,combine:U.combine,mapUv:mt&&C(U.map.channel),aoMapUv:K&&C(U.aoMap.channel),lightMapUv:Je&&C(U.lightMap.channel),bumpMapUv:Xe&&C(U.bumpMap.channel),normalMapUv:Ge&&C(U.normalMap.channel),displacementMapUv:Ue&&C(U.displacementMap.channel),emissiveMapUv:at&&C(U.emissiveMap.channel),metalnessMapUv:Ve&&C(U.metalnessMap.channel),roughnessMapUv:et&&C(U.roughnessMap.channel),anisotropyMapUv:we&&C(U.anisotropyMap.channel),clearcoatMapUv:rt&&C(U.clearcoatMap.channel),clearcoatNormalMapUv:$e&&C(U.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:dt&&C(U.clearcoatRoughnessMap.channel),iridescenceMapUv:gt&&C(U.iridescenceMap.channel),iridescenceThicknessMapUv:Pe&&C(U.iridescenceThicknessMap.channel),sheenColorMapUv:tt&&C(U.sheenColorMap.channel),sheenRoughnessMapUv:At&&C(U.sheenRoughnessMap.channel),specularMapUv:Et&&C(U.specularMap.channel),specularColorMapUv:Qe&&C(U.specularColorMap.channel),specularIntensityMapUv:Ot&&C(U.specularIntensityMap.channel),transmissionMapUv:oe&&C(U.transmissionMap.channel),thicknessMapUv:st&&C(U.thicknessMap.channel),alphaMapUv:ht&&C(U.alphaMap.channel),vertexTangents:!!fe.attributes.tangent&&(Ge||Ht),vertexColors:U.vertexColors,vertexAlphas:U.vertexColors===!0&&!!fe.attributes.color&&fe.attributes.color.itemSize===4,pointsUvs:se.isPoints===!0&&!!fe.attributes.uv&&(mt||ht),fog:!!me,useFog:U.fog===!0,fogExp2:!!me&&me.isFogExp2,flatShading:U.flatShading===!0,sizeAttenuation:U.sizeAttenuation===!0,logarithmicDepthBuffer:y,reverseDepthBuffer:Ye,skinning:se.isSkinnedMesh===!0,morphTargets:fe.morphAttributes.position!==void 0,morphNormals:fe.morphAttributes.normal!==void 0,morphColors:fe.morphAttributes.color!==void 0,morphTargetsCount:ie,morphTextureStride:xe,numDirLights:O.directional.length,numPointLights:O.point.length,numSpotLights:O.spot.length,numSpotLightMaps:O.spotLightMap.length,numRectAreaLights:O.rectArea.length,numHemiLights:O.hemi.length,numDirLightShadows:O.directionalShadowMap.length,numPointLightShadows:O.pointShadowMap.length,numSpotLightShadows:O.spotShadowMap.length,numSpotLightShadowsWithMaps:O.numSpotLightShadowsWithMaps,numLightProbes:O.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:U.dithering,shadowMapEnabled:n.shadowMap.enabled&&W.length>0,shadowMapType:n.shadowMap.type,toneMapping:Pt,decodeVideoTexture:mt&&U.map.isVideoTexture===!0&&bn.getTransfer(U.map.colorSpace)===kn,decodeVideoTextureEmissive:at&&U.emissiveMap.isVideoTexture===!0&&bn.getTransfer(U.emissiveMap.colorSpace)===kn,premultipliedAlpha:U.premultipliedAlpha,doubleSided:U.side===Nr,flipSided:U.side===ga,useDepthPacking:U.depthPacking>=0,depthPacking:U.depthPacking||0,index0AttributeName:U.index0AttributeName,extensionClipCullDistance:pt&&U.extensions.clipCullDistance===!0&&i.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(pt&&U.extensions.multiDraw===!0||it)&&i.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:i.has("KHR_parallel_shader_compile"),customProgramCacheKey:U.customProgramCacheKey()};return xn.vertexUv1s=p.has(1),xn.vertexUv2s=p.has(2),xn.vertexUv3s=p.has(3),p.clear(),xn}function S(U){const O=[];if(U.shaderID?O.push(U.shaderID):(O.push(U.customVertexShaderID),O.push(U.customFragmentShaderID)),U.defines!==void 0)for(const W in U.defines)O.push(W),O.push(U.defines[W]);return U.isRawShaderMaterial===!1&&(w(O,U),B(O,U),O.push(n.outputColorSpace)),O.push(U.customProgramCacheKey),O.join()}function w(U,O){U.push(O.precision),U.push(O.outputColorSpace),U.push(O.envMapMode),U.push(O.envMapCubeUVHeight),U.push(O.mapUv),U.push(O.alphaMapUv),U.push(O.lightMapUv),U.push(O.aoMapUv),U.push(O.bumpMapUv),U.push(O.normalMapUv),U.push(O.displacementMapUv),U.push(O.emissiveMapUv),U.push(O.metalnessMapUv),U.push(O.roughnessMapUv),U.push(O.anisotropyMapUv),U.push(O.clearcoatMapUv),U.push(O.clearcoatNormalMapUv),U.push(O.clearcoatRoughnessMapUv),U.push(O.iridescenceMapUv),U.push(O.iridescenceThicknessMapUv),U.push(O.sheenColorMapUv),U.push(O.sheenRoughnessMapUv),U.push(O.specularMapUv),U.push(O.specularColorMapUv),U.push(O.specularIntensityMapUv),U.push(O.transmissionMapUv),U.push(O.thicknessMapUv),U.push(O.combine),U.push(O.fogExp2),U.push(O.sizeAttenuation),U.push(O.morphTargetsCount),U.push(O.morphAttributeCount),U.push(O.numDirLights),U.push(O.numPointLights),U.push(O.numSpotLights),U.push(O.numSpotLightMaps),U.push(O.numHemiLights),U.push(O.numRectAreaLights),U.push(O.numDirLightShadows),U.push(O.numPointLightShadows),U.push(O.numSpotLightShadows),U.push(O.numSpotLightShadowsWithMaps),U.push(O.numLightProbes),U.push(O.shadowMapType),U.push(O.toneMapping),U.push(O.numClippingPlanes),U.push(O.numClipIntersection),U.push(O.depthPacking)}function B(U,O){u.disableAll(),O.supportsVertexTextures&&u.enable(0),O.instancing&&u.enable(1),O.instancingColor&&u.enable(2),O.instancingMorph&&u.enable(3),O.matcap&&u.enable(4),O.envMap&&u.enable(5),O.normalMapObjectSpace&&u.enable(6),O.normalMapTangentSpace&&u.enable(7),O.clearcoat&&u.enable(8),O.iridescence&&u.enable(9),O.alphaTest&&u.enable(10),O.vertexColors&&u.enable(11),O.vertexAlphas&&u.enable(12),O.vertexUv1s&&u.enable(13),O.vertexUv2s&&u.enable(14),O.vertexUv3s&&u.enable(15),O.vertexTangents&&u.enable(16),O.anisotropy&&u.enable(17),O.alphaHash&&u.enable(18),O.batching&&u.enable(19),O.dispersion&&u.enable(20),O.batchingColor&&u.enable(21),U.push(u.mask),u.disableAll(),O.fog&&u.enable(0),O.useFog&&u.enable(1),O.flatShading&&u.enable(2),O.logarithmicDepthBuffer&&u.enable(3),O.reverseDepthBuffer&&u.enable(4),O.skinning&&u.enable(5),O.morphTargets&&u.enable(6),O.morphNormals&&u.enable(7),O.morphColors&&u.enable(8),O.premultipliedAlpha&&u.enable(9),O.shadowMapEnabled&&u.enable(10),O.doubleSided&&u.enable(11),O.flipSided&&u.enable(12),O.useDepthPacking&&u.enable(13),O.dithering&&u.enable(14),O.transmission&&u.enable(15),O.sheen&&u.enable(16),O.opaque&&u.enable(17),O.pointsUvs&&u.enable(18),O.decodeVideoTexture&&u.enable(19),O.decodeVideoTextureEmissive&&u.enable(20),O.alphaToCoverage&&u.enable(21),U.push(u.mask)}function D(U){const O=M[U.type];let W;if(O){const ce=go[O];W=aN.clone(ce.uniforms)}else W=U.uniforms;return W}function P(U,O){let W;for(let ce=0,se=m.length;ce<se;ce++){const me=m[ce];if(me.cacheKey===O){W=me,++W.usedTimes;break}}return W===void 0&&(W=new iX(n,O,U,r),m.push(W)),W}function I(U){if(--U.usedTimes===0){const O=m.indexOf(U);m[O]=m[m.length-1],m.pop(),U.destroy()}}function G(U){h.remove(U)}function z(){h.dispose()}return{getParameters:E,getProgramCacheKey:S,getUniforms:D,acquireProgram:P,releaseProgram:I,releaseShaderCache:G,programs:m,dispose:z}}function lX(){let n=new WeakMap;function e(o){return n.has(o)}function t(o){let u=n.get(o);return u===void 0&&(u={},n.set(o,u)),u}function i(o){n.delete(o)}function s(o,u,h){n.get(o)[u]=h}function r(){n=new WeakMap}return{has:e,get:t,remove:i,update:s,dispose:r}}function cX(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function Ew(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function Tw(){const n=[];let e=0;const t=[],i=[],s=[];function r(){e=0,t.length=0,i.length=0,s.length=0}function o(y,x,_,M,C,E){let S=n[e];return S===void 0?(S={id:y.id,object:y,geometry:x,material:_,groupOrder:M,renderOrder:y.renderOrder,z:C,group:E},n[e]=S):(S.id=y.id,S.object=y,S.geometry=x,S.material=_,S.groupOrder=M,S.renderOrder=y.renderOrder,S.z=C,S.group=E),e++,S}function u(y,x,_,M,C,E){const S=o(y,x,_,M,C,E);_.transmission>0?i.push(S):_.transparent===!0?s.push(S):t.push(S)}function h(y,x,_,M,C,E){const S=o(y,x,_,M,C,E);_.transmission>0?i.unshift(S):_.transparent===!0?s.unshift(S):t.unshift(S)}function p(y,x){t.length>1&&t.sort(y||cX),i.length>1&&i.sort(x||Ew),s.length>1&&s.sort(x||Ew)}function m(){for(let y=e,x=n.length;y<x;y++){const _=n[y];if(_.id===null)break;_.id=null,_.object=null,_.geometry=null,_.material=null,_.group=null}}return{opaque:t,transmissive:i,transparent:s,init:r,push:u,unshift:h,finish:m,sort:p}}function uX(){let n=new WeakMap;function e(i,s){const r=n.get(i);let o;return r===void 0?(o=new Tw,n.set(i,[o])):s>=r.length?(o=new Tw,r.push(o)):o=r[s],o}function t(){n=new WeakMap}return{get:e,dispose:t}}function fX(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new Z,color:new nt};break;case"SpotLight":t={position:new Z,direction:new Z,color:new nt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new Z,color:new nt,distance:0,decay:0};break;case"HemisphereLight":t={direction:new Z,skyColor:new nt,groundColor:new nt};break;case"RectAreaLight":t={color:new nt,position:new Z,halfWidth:new Z,halfHeight:new Z};break}return n[e.id]=t,t}}}function hX(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Fe};break;case"SpotLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Fe};break;case"PointLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Fe,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let dX=0;function pX(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function mX(n){const e=new fX,t=hX(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let p=0;p<9;p++)i.probe.push(new Z);const s=new Z,r=new Nt,o=new Nt;function u(p){let m=0,y=0,x=0;for(let U=0;U<9;U++)i.probe[U].set(0,0,0);let _=0,M=0,C=0,E=0,S=0,w=0,B=0,D=0,P=0,I=0,G=0;p.sort(pX);for(let U=0,O=p.length;U<O;U++){const W=p[U],ce=W.color,se=W.intensity,me=W.distance,fe=W.shadow&&W.shadow.map?W.shadow.map.texture:null;if(W.isAmbientLight)m+=ce.r*se,y+=ce.g*se,x+=ce.b*se;else if(W.isLightProbe){for(let F=0;F<9;F++)i.probe[F].addScaledVector(W.sh.coefficients[F],se);G++}else if(W.isDirectionalLight){const F=e.get(W);if(F.color.copy(W.color).multiplyScalar(W.intensity),W.castShadow){const q=W.shadow,Y=t.get(W);Y.shadowIntensity=q.intensity,Y.shadowBias=q.bias,Y.shadowNormalBias=q.normalBias,Y.shadowRadius=q.radius,Y.shadowMapSize=q.mapSize,i.directionalShadow[_]=Y,i.directionalShadowMap[_]=fe,i.directionalShadowMatrix[_]=W.shadow.matrix,w++}i.directional[_]=F,_++}else if(W.isSpotLight){const F=e.get(W);F.position.setFromMatrixPosition(W.matrixWorld),F.color.copy(ce).multiplyScalar(se),F.distance=me,F.coneCos=Math.cos(W.angle),F.penumbraCos=Math.cos(W.angle*(1-W.penumbra)),F.decay=W.decay,i.spot[C]=F;const q=W.shadow;if(W.map&&(i.spotLightMap[P]=W.map,P++,q.updateMatrices(W),W.castShadow&&I++),i.spotLightMatrix[C]=q.matrix,W.castShadow){const Y=t.get(W);Y.shadowIntensity=q.intensity,Y.shadowBias=q.bias,Y.shadowNormalBias=q.normalBias,Y.shadowRadius=q.radius,Y.shadowMapSize=q.mapSize,i.spotShadow[C]=Y,i.spotShadowMap[C]=fe,D++}C++}else if(W.isRectAreaLight){const F=e.get(W);F.color.copy(ce).multiplyScalar(se),F.halfWidth.set(W.width*.5,0,0),F.halfHeight.set(0,W.height*.5,0),i.rectArea[E]=F,E++}else if(W.isPointLight){const F=e.get(W);if(F.color.copy(W.color).multiplyScalar(W.intensity),F.distance=W.distance,F.decay=W.decay,W.castShadow){const q=W.shadow,Y=t.get(W);Y.shadowIntensity=q.intensity,Y.shadowBias=q.bias,Y.shadowNormalBias=q.normalBias,Y.shadowRadius=q.radius,Y.shadowMapSize=q.mapSize,Y.shadowCameraNear=q.camera.near,Y.shadowCameraFar=q.camera.far,i.pointShadow[M]=Y,i.pointShadowMap[M]=fe,i.pointShadowMatrix[M]=W.shadow.matrix,B++}i.point[M]=F,M++}else if(W.isHemisphereLight){const F=e.get(W);F.skyColor.copy(W.color).multiplyScalar(se),F.groundColor.copy(W.groundColor).multiplyScalar(se),i.hemi[S]=F,S++}}E>0&&(n.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=lt.LTC_FLOAT_1,i.rectAreaLTC2=lt.LTC_FLOAT_2):(i.rectAreaLTC1=lt.LTC_HALF_1,i.rectAreaLTC2=lt.LTC_HALF_2)),i.ambient[0]=m,i.ambient[1]=y,i.ambient[2]=x;const z=i.hash;(z.directionalLength!==_||z.pointLength!==M||z.spotLength!==C||z.rectAreaLength!==E||z.hemiLength!==S||z.numDirectionalShadows!==w||z.numPointShadows!==B||z.numSpotShadows!==D||z.numSpotMaps!==P||z.numLightProbes!==G)&&(i.directional.length=_,i.spot.length=C,i.rectArea.length=E,i.point.length=M,i.hemi.length=S,i.directionalShadow.length=w,i.directionalShadowMap.length=w,i.pointShadow.length=B,i.pointShadowMap.length=B,i.spotShadow.length=D,i.spotShadowMap.length=D,i.directionalShadowMatrix.length=w,i.pointShadowMatrix.length=B,i.spotLightMatrix.length=D+P-I,i.spotLightMap.length=P,i.numSpotLightShadowsWithMaps=I,i.numLightProbes=G,z.directionalLength=_,z.pointLength=M,z.spotLength=C,z.rectAreaLength=E,z.hemiLength=S,z.numDirectionalShadows=w,z.numPointShadows=B,z.numSpotShadows=D,z.numSpotMaps=P,z.numLightProbes=G,i.version=dX++)}function h(p,m){let y=0,x=0,_=0,M=0,C=0;const E=m.matrixWorldInverse;for(let S=0,w=p.length;S<w;S++){const B=p[S];if(B.isDirectionalLight){const D=i.directional[y];D.direction.setFromMatrixPosition(B.matrixWorld),s.setFromMatrixPosition(B.target.matrixWorld),D.direction.sub(s),D.direction.transformDirection(E),y++}else if(B.isSpotLight){const D=i.spot[_];D.position.setFromMatrixPosition(B.matrixWorld),D.position.applyMatrix4(E),D.direction.setFromMatrixPosition(B.matrixWorld),s.setFromMatrixPosition(B.target.matrixWorld),D.direction.sub(s),D.direction.transformDirection(E),_++}else if(B.isRectAreaLight){const D=i.rectArea[M];D.position.setFromMatrixPosition(B.matrixWorld),D.position.applyMatrix4(E),o.identity(),r.copy(B.matrixWorld),r.premultiply(E),o.extractRotation(r),D.halfWidth.set(B.width*.5,0,0),D.halfHeight.set(0,B.height*.5,0),D.halfWidth.applyMatrix4(o),D.halfHeight.applyMatrix4(o),M++}else if(B.isPointLight){const D=i.point[x];D.position.setFromMatrixPosition(B.matrixWorld),D.position.applyMatrix4(E),x++}else if(B.isHemisphereLight){const D=i.hemi[C];D.direction.setFromMatrixPosition(B.matrixWorld),D.direction.transformDirection(E),C++}}}return{setup:u,setupView:h,state:i}}function Cw(n){const e=new mX(n),t=[],i=[];function s(m){p.camera=m,t.length=0,i.length=0}function r(m){t.push(m)}function o(m){i.push(m)}function u(){e.setup(t)}function h(m){e.setupView(t,m)}const p={lightsArray:t,shadowsArray:i,camera:null,lights:e,transmissionRenderTarget:{}};return{init:s,state:p,setupLights:u,setupLightsView:h,pushLight:r,pushShadow:o}}function gX(n){let e=new WeakMap;function t(s,r=0){const o=e.get(s);let u;return o===void 0?(u=new Cw(n),e.set(s,[u])):r>=o.length?(u=new Cw(n),o.push(u)):u=o[r],u}function i(){e=new WeakMap}return{get:t,dispose:i}}const yX=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,vX=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function xX(n,e,t){let i=new Dp;const s=new Fe,r=new Fe,o=new mn,u=new nE({depthPacking:j3}),h=new iE,p={},m=t.maxTextureSize,y={[pl]:ga,[ga]:pl,[Nr]:Nr},x=new Ao({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Fe},radius:{value:4}},vertexShader:yX,fragmentShader:vX}),_=x.clone();_.defines.HORIZONTAL_PASS=1;const M=new Kt;M.setAttribute("position",new Cn(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const C=new Li(M,x),E=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=O_;let S=this.type;this.render=function(I,G,z){if(E.enabled===!1||E.autoUpdate===!1&&E.needsUpdate===!1||I.length===0)return;const U=n.getRenderTarget(),O=n.getActiveCubeFace(),W=n.getActiveMipmapLevel(),ce=n.state;ce.setBlending(sc),ce.buffers.color.setClear(1,1,1,1),ce.buffers.depth.setTest(!0),ce.setScissorTest(!1);const se=S!==mo&&this.type===mo,me=S===mo&&this.type!==mo;for(let fe=0,F=I.length;fe<F;fe++){const q=I[fe],Y=q.shadow;if(Y===void 0){console.warn("THREE.WebGLShadowMap:",q,"has no shadow.");continue}if(Y.autoUpdate===!1&&Y.needsUpdate===!1)continue;s.copy(Y.mapSize);const ue=Y.getFrameExtents();if(s.multiply(ue),r.copy(Y.mapSize),(s.x>m||s.y>m)&&(s.x>m&&(r.x=Math.floor(m/ue.x),s.x=r.x*ue.x,Y.mapSize.x=r.x),s.y>m&&(r.y=Math.floor(m/ue.y),s.y=r.y*ue.y,Y.mapSize.y=r.y)),Y.map===null||se===!0||me===!0){const ie=this.type!==mo?{minFilter:ms,magFilter:ms}:{};Y.map!==null&&Y.map.dispose(),Y.map=new ml(s.x,s.y,ie),Y.map.texture.name=q.name+".shadowMap",Y.camera.updateProjectionMatrix()}n.setRenderTarget(Y.map),n.clear();const X=Y.getViewportCount();for(let ie=0;ie<X;ie++){const xe=Y.getViewport(ie);o.set(r.x*xe.x,r.y*xe.y,r.x*xe.z,r.y*xe.w),ce.viewport(o),Y.updateMatrices(q,ie),i=Y.getFrustum(),D(G,z,Y.camera,q,this.type)}Y.isPointLightShadow!==!0&&this.type===mo&&w(Y,z),Y.needsUpdate=!1}S=this.type,E.needsUpdate=!1,n.setRenderTarget(U,O,W)};function w(I,G){const z=e.update(C);x.defines.VSM_SAMPLES!==I.blurSamples&&(x.defines.VSM_SAMPLES=I.blurSamples,_.defines.VSM_SAMPLES=I.blurSamples,x.needsUpdate=!0,_.needsUpdate=!0),I.mapPass===null&&(I.mapPass=new ml(s.x,s.y)),x.uniforms.shadow_pass.value=I.map.texture,x.uniforms.resolution.value=I.mapSize,x.uniforms.radius.value=I.radius,n.setRenderTarget(I.mapPass),n.clear(),n.renderBufferDirect(G,null,z,x,C,null),_.uniforms.shadow_pass.value=I.mapPass.texture,_.uniforms.resolution.value=I.mapSize,_.uniforms.radius.value=I.radius,n.setRenderTarget(I.map),n.clear(),n.renderBufferDirect(G,null,z,_,C,null)}function B(I,G,z,U){let O=null;const W=z.isPointLight===!0?I.customDistanceMaterial:I.customDepthMaterial;if(W!==void 0)O=W;else if(O=z.isPointLight===!0?h:u,n.localClippingEnabled&&G.clipShadows===!0&&Array.isArray(G.clippingPlanes)&&G.clippingPlanes.length!==0||G.displacementMap&&G.displacementScale!==0||G.alphaMap&&G.alphaTest>0||G.map&&G.alphaTest>0||G.alphaToCoverage===!0){const ce=O.uuid,se=G.uuid;let me=p[ce];me===void 0&&(me={},p[ce]=me);let fe=me[se];fe===void 0&&(fe=O.clone(),me[se]=fe,G.addEventListener("dispose",P)),O=fe}if(O.visible=G.visible,O.wireframe=G.wireframe,U===mo?O.side=G.shadowSide!==null?G.shadowSide:G.side:O.side=G.shadowSide!==null?G.shadowSide:y[G.side],O.alphaMap=G.alphaMap,O.alphaTest=G.alphaToCoverage===!0?.5:G.alphaTest,O.map=G.map,O.clipShadows=G.clipShadows,O.clippingPlanes=G.clippingPlanes,O.clipIntersection=G.clipIntersection,O.displacementMap=G.displacementMap,O.displacementScale=G.displacementScale,O.displacementBias=G.displacementBias,O.wireframeLinewidth=G.wireframeLinewidth,O.linewidth=G.linewidth,z.isPointLight===!0&&O.isMeshDistanceMaterial===!0){const ce=n.properties.get(O);ce.light=z}return O}function D(I,G,z,U,O){if(I.visible===!1)return;if(I.layers.test(G.layers)&&(I.isMesh||I.isLine||I.isPoints)&&(I.castShadow||I.receiveShadow&&O===mo)&&(!I.frustumCulled||i.intersectsObject(I))){I.modelViewMatrix.multiplyMatrices(z.matrixWorldInverse,I.matrixWorld);const se=e.update(I),me=I.material;if(Array.isArray(me)){const fe=se.groups;for(let F=0,q=fe.length;F<q;F++){const Y=fe[F],ue=me[Y.materialIndex];if(ue&&ue.visible){const X=B(I,ue,U,O);I.onBeforeShadow(n,I,G,z,se,X,Y),n.renderBufferDirect(z,null,se,X,I,Y),I.onAfterShadow(n,I,G,z,se,X,Y)}}}else if(me.visible){const fe=B(I,me,U,O);I.onBeforeShadow(n,I,G,z,se,fe,null),n.renderBufferDirect(z,null,se,fe,I,null),I.onAfterShadow(n,I,G,z,se,fe,null)}}const ce=I.children;for(let se=0,me=ce.length;se<me;se++)D(ce[se],G,z,U,O)}function P(I){I.target.removeEventListener("dispose",P);for(const z in p){const U=p[z],O=I.target.uuid;O in U&&(U[O].dispose(),delete U[O])}}}const _X={[Ox]:Px,[Ix]:Hx,[Fx]:Gx,[lh]:zx,[Px]:Ox,[Hx]:Ix,[Gx]:Fx,[zx]:lh};function AX(n,e){function t(){let oe=!1;const st=new mn;let je=null;const ht=new mn(0,0,0,0);return{setMask:function(qe){je!==qe&&!oe&&(n.colorMask(qe,qe,qe,qe),je=qe)},setLocked:function(qe){oe=qe},setClear:function(qe,Ie,pt,Pt,xn){xn===!0&&(qe*=Pt,Ie*=Pt,pt*=Pt),st.set(qe,Ie,pt,Pt),ht.equals(st)===!1&&(n.clearColor(qe,Ie,pt,Pt),ht.copy(st))},reset:function(){oe=!1,je=null,ht.set(-1,0,0,0)}}}function i(){let oe=!1,st=!1,je=null,ht=null,qe=null;return{setReversed:function(Ie){if(st!==Ie){const pt=e.get("EXT_clip_control");Ie?pt.clipControlEXT(pt.LOWER_LEFT_EXT,pt.ZERO_TO_ONE_EXT):pt.clipControlEXT(pt.LOWER_LEFT_EXT,pt.NEGATIVE_ONE_TO_ONE_EXT),st=Ie;const Pt=qe;qe=null,this.setClear(Pt)}},getReversed:function(){return st},setTest:function(Ie){Ie?He(n.DEPTH_TEST):Ye(n.DEPTH_TEST)},setMask:function(Ie){je!==Ie&&!oe&&(n.depthMask(Ie),je=Ie)},setFunc:function(Ie){if(st&&(Ie=_X[Ie]),ht!==Ie){switch(Ie){case Ox:n.depthFunc(n.NEVER);break;case Px:n.depthFunc(n.ALWAYS);break;case Ix:n.depthFunc(n.LESS);break;case lh:n.depthFunc(n.LEQUAL);break;case Fx:n.depthFunc(n.EQUAL);break;case zx:n.depthFunc(n.GEQUAL);break;case Hx:n.depthFunc(n.GREATER);break;case Gx:n.depthFunc(n.NOTEQUAL);break;default:n.depthFunc(n.LEQUAL)}ht=Ie}},setLocked:function(Ie){oe=Ie},setClear:function(Ie){qe!==Ie&&(st&&(Ie=1-Ie),n.clearDepth(Ie),qe=Ie)},reset:function(){oe=!1,je=null,ht=null,qe=null,st=!1}}}function s(){let oe=!1,st=null,je=null,ht=null,qe=null,Ie=null,pt=null,Pt=null,xn=null;return{setTest:function(hn){oe||(hn?He(n.STENCIL_TEST):Ye(n.STENCIL_TEST))},setMask:function(hn){st!==hn&&!oe&&(n.stencilMask(hn),st=hn)},setFunc:function(hn,Bs,Mi){(je!==hn||ht!==Bs||qe!==Mi)&&(n.stencilFunc(hn,Bs,Mi),je=hn,ht=Bs,qe=Mi)},setOp:function(hn,Bs,Mi){(Ie!==hn||pt!==Bs||Pt!==Mi)&&(n.stencilOp(hn,Bs,Mi),Ie=hn,pt=Bs,Pt=Mi)},setLocked:function(hn){oe=hn},setClear:function(hn){xn!==hn&&(n.clearStencil(hn),xn=hn)},reset:function(){oe=!1,st=null,je=null,ht=null,qe=null,Ie=null,pt=null,Pt=null,xn=null}}}const r=new t,o=new i,u=new s,h=new WeakMap,p=new WeakMap;let m={},y={},x=new WeakMap,_=[],M=null,C=!1,E=null,S=null,w=null,B=null,D=null,P=null,I=null,G=new nt(0,0,0),z=0,U=!1,O=null,W=null,ce=null,se=null,me=null;const fe=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let F=!1,q=0;const Y=n.getParameter(n.VERSION);Y.indexOf("WebGL")!==-1?(q=parseFloat(/^WebGL (\d)/.exec(Y)[1]),F=q>=1):Y.indexOf("OpenGL ES")!==-1&&(q=parseFloat(/^OpenGL ES (\d)/.exec(Y)[1]),F=q>=2);let ue=null,X={};const ie=n.getParameter(n.SCISSOR_BOX),xe=n.getParameter(n.VIEWPORT),_e=new mn().fromArray(ie),ne=new mn().fromArray(xe);function Ce(oe,st,je,ht){const qe=new Uint8Array(4),Ie=n.createTexture();n.bindTexture(oe,Ie),n.texParameteri(oe,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(oe,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let pt=0;pt<je;pt++)oe===n.TEXTURE_3D||oe===n.TEXTURE_2D_ARRAY?n.texImage3D(st,0,n.RGBA,1,1,ht,0,n.RGBA,n.UNSIGNED_BYTE,qe):n.texImage2D(st+pt,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,qe);return Ie}const Oe={};Oe[n.TEXTURE_2D]=Ce(n.TEXTURE_2D,n.TEXTURE_2D,1),Oe[n.TEXTURE_CUBE_MAP]=Ce(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),Oe[n.TEXTURE_2D_ARRAY]=Ce(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),Oe[n.TEXTURE_3D]=Ce(n.TEXTURE_3D,n.TEXTURE_3D,1,1),r.setClear(0,0,0,1),o.setClear(1),u.setClear(0),He(n.DEPTH_TEST),o.setFunc(lh),Xe(!1),Ge(dM),He(n.CULL_FACE),K(sc);function He(oe){m[oe]!==!0&&(n.enable(oe),m[oe]=!0)}function Ye(oe){m[oe]!==!1&&(n.disable(oe),m[oe]=!1)}function bt(oe,st){return y[oe]!==st?(n.bindFramebuffer(oe,st),y[oe]=st,oe===n.DRAW_FRAMEBUFFER&&(y[n.FRAMEBUFFER]=st),oe===n.FRAMEBUFFER&&(y[n.DRAW_FRAMEBUFFER]=st),!0):!1}function it(oe,st){let je=_,ht=!1;if(oe){je=x.get(st),je===void 0&&(je=[],x.set(st,je));const qe=oe.textures;if(je.length!==qe.length||je[0]!==n.COLOR_ATTACHMENT0){for(let Ie=0,pt=qe.length;Ie<pt;Ie++)je[Ie]=n.COLOR_ATTACHMENT0+Ie;je.length=qe.length,ht=!0}}else je[0]!==n.BACK&&(je[0]=n.BACK,ht=!0);ht&&n.drawBuffers(je)}function mt(oe){return M!==oe?(n.useProgram(oe),M=oe,!0):!1}const Rt={[vu]:n.FUNC_ADD,[p3]:n.FUNC_SUBTRACT,[m3]:n.FUNC_REVERSE_SUBTRACT};Rt[g3]=n.MIN,Rt[y3]=n.MAX;const St={[v3]:n.ZERO,[x3]:n.ONE,[_3]:n.SRC_COLOR,[Ux]:n.SRC_ALPHA,[T3]:n.SRC_ALPHA_SATURATE,[M3]:n.DST_COLOR,[b3]:n.DST_ALPHA,[A3]:n.ONE_MINUS_SRC_COLOR,[Lx]:n.ONE_MINUS_SRC_ALPHA,[E3]:n.ONE_MINUS_DST_COLOR,[S3]:n.ONE_MINUS_DST_ALPHA,[C3]:n.CONSTANT_COLOR,[R3]:n.ONE_MINUS_CONSTANT_COLOR,[w3]:n.CONSTANT_ALPHA,[B3]:n.ONE_MINUS_CONSTANT_ALPHA};function K(oe,st,je,ht,qe,Ie,pt,Pt,xn,hn){if(oe===sc){C===!0&&(Ye(n.BLEND),C=!1);return}if(C===!1&&(He(n.BLEND),C=!0),oe!==d3){if(oe!==E||hn!==U){if((S!==vu||D!==vu)&&(n.blendEquation(n.FUNC_ADD),S=vu,D=vu),hn)switch(oe){case ah:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case pM:n.blendFunc(n.ONE,n.ONE);break;case mM:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case gM:n.blendFuncSeparate(n.ZERO,n.SRC_COLOR,n.ZERO,n.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",oe);break}else switch(oe){case ah:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case pM:n.blendFunc(n.SRC_ALPHA,n.ONE);break;case mM:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case gM:n.blendFunc(n.ZERO,n.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",oe);break}w=null,B=null,P=null,I=null,G.set(0,0,0),z=0,E=oe,U=hn}return}qe=qe||st,Ie=Ie||je,pt=pt||ht,(st!==S||qe!==D)&&(n.blendEquationSeparate(Rt[st],Rt[qe]),S=st,D=qe),(je!==w||ht!==B||Ie!==P||pt!==I)&&(n.blendFuncSeparate(St[je],St[ht],St[Ie],St[pt]),w=je,B=ht,P=Ie,I=pt),(Pt.equals(G)===!1||xn!==z)&&(n.blendColor(Pt.r,Pt.g,Pt.b,xn),G.copy(Pt),z=xn),E=oe,U=!1}function Je(oe,st){oe.side===Nr?Ye(n.CULL_FACE):He(n.CULL_FACE);let je=oe.side===ga;st&&(je=!je),Xe(je),oe.blending===ah&&oe.transparent===!1?K(sc):K(oe.blending,oe.blendEquation,oe.blendSrc,oe.blendDst,oe.blendEquationAlpha,oe.blendSrcAlpha,oe.blendDstAlpha,oe.blendColor,oe.blendAlpha,oe.premultipliedAlpha),o.setFunc(oe.depthFunc),o.setTest(oe.depthTest),o.setMask(oe.depthWrite),r.setMask(oe.colorWrite);const ht=oe.stencilWrite;u.setTest(ht),ht&&(u.setMask(oe.stencilWriteMask),u.setFunc(oe.stencilFunc,oe.stencilRef,oe.stencilFuncMask),u.setOp(oe.stencilFail,oe.stencilZFail,oe.stencilZPass)),at(oe.polygonOffset,oe.polygonOffsetFactor,oe.polygonOffsetUnits),oe.alphaToCoverage===!0?He(n.SAMPLE_ALPHA_TO_COVERAGE):Ye(n.SAMPLE_ALPHA_TO_COVERAGE)}function Xe(oe){O!==oe&&(oe?n.frontFace(n.CW):n.frontFace(n.CCW),O=oe)}function Ge(oe){oe!==u3?(He(n.CULL_FACE),oe!==W&&(oe===dM?n.cullFace(n.BACK):oe===f3?n.cullFace(n.FRONT):n.cullFace(n.FRONT_AND_BACK))):Ye(n.CULL_FACE),W=oe}function Ue(oe){oe!==ce&&(F&&n.lineWidth(oe),ce=oe)}function at(oe,st,je){oe?(He(n.POLYGON_OFFSET_FILL),(se!==st||me!==je)&&(n.polygonOffset(st,je),se=st,me=je)):Ye(n.POLYGON_OFFSET_FILL)}function Ve(oe){oe?He(n.SCISSOR_TEST):Ye(n.SCISSOR_TEST)}function et(oe){oe===void 0&&(oe=n.TEXTURE0+fe-1),ue!==oe&&(n.activeTexture(oe),ue=oe)}function Ht(oe,st,je){je===void 0&&(ue===null?je=n.TEXTURE0+fe-1:je=ue);let ht=X[je];ht===void 0&&(ht={type:void 0,texture:void 0},X[je]=ht),(ht.type!==oe||ht.texture!==st)&&(ue!==je&&(n.activeTexture(je),ue=je),n.bindTexture(oe,st||Oe[oe]),ht.type=oe,ht.texture=st)}function $(){const oe=X[ue];oe!==void 0&&oe.type!==void 0&&(n.bindTexture(oe.type,null),oe.type=void 0,oe.texture=void 0)}function H(){try{n.compressedTexImage2D(...arguments)}catch(oe){console.error("THREE.WebGLState:",oe)}}function ge(){try{n.compressedTexImage3D(...arguments)}catch(oe){console.error("THREE.WebGLState:",oe)}}function Re(){try{n.texSubImage2D(...arguments)}catch(oe){console.error("THREE.WebGLState:",oe)}}function Be(){try{n.texSubImage3D(...arguments)}catch(oe){console.error("THREE.WebGLState:",oe)}}function we(){try{n.compressedTexSubImage2D(...arguments)}catch(oe){console.error("THREE.WebGLState:",oe)}}function rt(){try{n.compressedTexSubImage3D(...arguments)}catch(oe){console.error("THREE.WebGLState:",oe)}}function $e(){try{n.texStorage2D(...arguments)}catch(oe){console.error("THREE.WebGLState:",oe)}}function dt(){try{n.texStorage3D(...arguments)}catch(oe){console.error("THREE.WebGLState:",oe)}}function gt(){try{n.texImage2D(...arguments)}catch(oe){console.error("THREE.WebGLState:",oe)}}function Pe(){try{n.texImage3D(...arguments)}catch(oe){console.error("THREE.WebGLState:",oe)}}function tt(oe){_e.equals(oe)===!1&&(n.scissor(oe.x,oe.y,oe.z,oe.w),_e.copy(oe))}function At(oe){ne.equals(oe)===!1&&(n.viewport(oe.x,oe.y,oe.z,oe.w),ne.copy(oe))}function Et(oe,st){let je=p.get(st);je===void 0&&(je=new WeakMap,p.set(st,je));let ht=je.get(oe);ht===void 0&&(ht=n.getUniformBlockIndex(st,oe.name),je.set(oe,ht))}function Qe(oe,st){const ht=p.get(st).get(oe);h.get(st)!==ht&&(n.uniformBlockBinding(st,ht,oe.__bindingPointIndex),h.set(st,ht))}function Ot(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.blendColor(0,0,0,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),o.setReversed(!1),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),m={},ue=null,X={},y={},x=new WeakMap,_=[],M=null,C=!1,E=null,S=null,w=null,B=null,D=null,P=null,I=null,G=new nt(0,0,0),z=0,U=!1,O=null,W=null,ce=null,se=null,me=null,_e.set(0,0,n.canvas.width,n.canvas.height),ne.set(0,0,n.canvas.width,n.canvas.height),r.reset(),o.reset(),u.reset()}return{buffers:{color:r,depth:o,stencil:u},enable:He,disable:Ye,bindFramebuffer:bt,drawBuffers:it,useProgram:mt,setBlending:K,setMaterial:Je,setFlipSided:Xe,setCullFace:Ge,setLineWidth:Ue,setPolygonOffset:at,setScissorTest:Ve,activeTexture:et,bindTexture:Ht,unbindTexture:$,compressedTexImage2D:H,compressedTexImage3D:ge,texImage2D:gt,texImage3D:Pe,updateUBOMapping:Et,uniformBlockBinding:Qe,texStorage2D:$e,texStorage3D:dt,texSubImage2D:Re,texSubImage3D:Be,compressedTexSubImage2D:we,compressedTexSubImage3D:rt,scissor:tt,viewport:At,reset:Ot}}function bX(n,e,t,i,s,r,o){const u=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,h=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),p=new Fe,m=new WeakMap;let y;const x=new WeakMap;let _=!1;try{_=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function M($,H){return _?new OffscreenCanvas($,H):i0("canvas")}function C($,H,ge){let Re=1;const Be=Ht($);if((Be.width>ge||Be.height>ge)&&(Re=ge/Math.max(Be.width,Be.height)),Re<1)if(typeof HTMLImageElement<"u"&&$ instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&$ instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&$ instanceof ImageBitmap||typeof VideoFrame<"u"&&$ instanceof VideoFrame){const we=Math.floor(Re*Be.width),rt=Math.floor(Re*Be.height);y===void 0&&(y=M(we,rt));const $e=H?M(we,rt):y;return $e.width=we,$e.height=rt,$e.getContext("2d").drawImage($,0,0,we,rt),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Be.width+"x"+Be.height+") to ("+we+"x"+rt+")."),$e}else return"data"in $&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Be.width+"x"+Be.height+")."),$;return $}function E($){return $.generateMipmaps}function S($){n.generateMipmap($)}function w($){return $.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:$.isWebGL3DRenderTarget?n.TEXTURE_3D:$.isWebGLArrayRenderTarget||$.isCompressedArrayTexture?n.TEXTURE_2D_ARRAY:n.TEXTURE_2D}function B($,H,ge,Re,Be=!1){if($!==null){if(n[$]!==void 0)return n[$];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+$+"'")}let we=H;if(H===n.RED&&(ge===n.FLOAT&&(we=n.R32F),ge===n.HALF_FLOAT&&(we=n.R16F),ge===n.UNSIGNED_BYTE&&(we=n.R8)),H===n.RED_INTEGER&&(ge===n.UNSIGNED_BYTE&&(we=n.R8UI),ge===n.UNSIGNED_SHORT&&(we=n.R16UI),ge===n.UNSIGNED_INT&&(we=n.R32UI),ge===n.BYTE&&(we=n.R8I),ge===n.SHORT&&(we=n.R16I),ge===n.INT&&(we=n.R32I)),H===n.RG&&(ge===n.FLOAT&&(we=n.RG32F),ge===n.HALF_FLOAT&&(we=n.RG16F),ge===n.UNSIGNED_BYTE&&(we=n.RG8)),H===n.RG_INTEGER&&(ge===n.UNSIGNED_BYTE&&(we=n.RG8UI),ge===n.UNSIGNED_SHORT&&(we=n.RG16UI),ge===n.UNSIGNED_INT&&(we=n.RG32UI),ge===n.BYTE&&(we=n.RG8I),ge===n.SHORT&&(we=n.RG16I),ge===n.INT&&(we=n.RG32I)),H===n.RGB_INTEGER&&(ge===n.UNSIGNED_BYTE&&(we=n.RGB8UI),ge===n.UNSIGNED_SHORT&&(we=n.RGB16UI),ge===n.UNSIGNED_INT&&(we=n.RGB32UI),ge===n.BYTE&&(we=n.RGB8I),ge===n.SHORT&&(we=n.RGB16I),ge===n.INT&&(we=n.RGB32I)),H===n.RGBA_INTEGER&&(ge===n.UNSIGNED_BYTE&&(we=n.RGBA8UI),ge===n.UNSIGNED_SHORT&&(we=n.RGBA16UI),ge===n.UNSIGNED_INT&&(we=n.RGBA32UI),ge===n.BYTE&&(we=n.RGBA8I),ge===n.SHORT&&(we=n.RGBA16I),ge===n.INT&&(we=n.RGBA32I)),H===n.RGB&&ge===n.UNSIGNED_INT_5_9_9_9_REV&&(we=n.RGB9_E5),H===n.RGBA){const rt=Be?e0:bn.getTransfer(Re);ge===n.FLOAT&&(we=n.RGBA32F),ge===n.HALF_FLOAT&&(we=n.RGBA16F),ge===n.UNSIGNED_BYTE&&(we=rt===kn?n.SRGB8_ALPHA8:n.RGBA8),ge===n.UNSIGNED_SHORT_4_4_4_4&&(we=n.RGBA4),ge===n.UNSIGNED_SHORT_5_5_5_1&&(we=n.RGB5_A1)}return(we===n.R16F||we===n.R32F||we===n.RG16F||we===n.RG32F||we===n.RGBA16F||we===n.RGBA32F)&&e.get("EXT_color_buffer_float"),we}function D($,H){let ge;return $?H===null||H===uc||H===cp?ge=n.DEPTH24_STENCIL8:H===La?ge=n.DEPTH32F_STENCIL8:H===lp&&(ge=n.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):H===null||H===uc||H===cp?ge=n.DEPTH_COMPONENT24:H===La?ge=n.DEPTH_COMPONENT32F:H===lp&&(ge=n.DEPTH_COMPONENT16),ge}function P($,H){return E($)===!0||$.isFramebufferTexture&&$.minFilter!==ms&&$.minFilter!==Ui?Math.log2(Math.max(H.width,H.height))+1:$.mipmaps!==void 0&&$.mipmaps.length>0?$.mipmaps.length:$.isCompressedTexture&&Array.isArray($.image)?H.mipmaps.length:1}function I($){const H=$.target;H.removeEventListener("dispose",I),z(H),H.isVideoTexture&&m.delete(H)}function G($){const H=$.target;H.removeEventListener("dispose",G),O(H)}function z($){const H=i.get($);if(H.__webglInit===void 0)return;const ge=$.source,Re=x.get(ge);if(Re){const Be=Re[H.__cacheKey];Be.usedTimes--,Be.usedTimes===0&&U($),Object.keys(Re).length===0&&x.delete(ge)}i.remove($)}function U($){const H=i.get($);n.deleteTexture(H.__webglTexture);const ge=$.source,Re=x.get(ge);delete Re[H.__cacheKey],o.memory.textures--}function O($){const H=i.get($);if($.depthTexture&&($.depthTexture.dispose(),i.remove($.depthTexture)),$.isWebGLCubeRenderTarget)for(let Re=0;Re<6;Re++){if(Array.isArray(H.__webglFramebuffer[Re]))for(let Be=0;Be<H.__webglFramebuffer[Re].length;Be++)n.deleteFramebuffer(H.__webglFramebuffer[Re][Be]);else n.deleteFramebuffer(H.__webglFramebuffer[Re]);H.__webglDepthbuffer&&n.deleteRenderbuffer(H.__webglDepthbuffer[Re])}else{if(Array.isArray(H.__webglFramebuffer))for(let Re=0;Re<H.__webglFramebuffer.length;Re++)n.deleteFramebuffer(H.__webglFramebuffer[Re]);else n.deleteFramebuffer(H.__webglFramebuffer);if(H.__webglDepthbuffer&&n.deleteRenderbuffer(H.__webglDepthbuffer),H.__webglMultisampledFramebuffer&&n.deleteFramebuffer(H.__webglMultisampledFramebuffer),H.__webglColorRenderbuffer)for(let Re=0;Re<H.__webglColorRenderbuffer.length;Re++)H.__webglColorRenderbuffer[Re]&&n.deleteRenderbuffer(H.__webglColorRenderbuffer[Re]);H.__webglDepthRenderbuffer&&n.deleteRenderbuffer(H.__webglDepthRenderbuffer)}const ge=$.textures;for(let Re=0,Be=ge.length;Re<Be;Re++){const we=i.get(ge[Re]);we.__webglTexture&&(n.deleteTexture(we.__webglTexture),o.memory.textures--),i.remove(ge[Re])}i.remove($)}let W=0;function ce(){W=0}function se(){const $=W;return $>=s.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+$+" texture units while this GPU supports only "+s.maxTextures),W+=1,$}function me($){const H=[];return H.push($.wrapS),H.push($.wrapT),H.push($.wrapR||0),H.push($.magFilter),H.push($.minFilter),H.push($.anisotropy),H.push($.internalFormat),H.push($.format),H.push($.type),H.push($.generateMipmaps),H.push($.premultiplyAlpha),H.push($.flipY),H.push($.unpackAlignment),H.push($.colorSpace),H.join()}function fe($,H){const ge=i.get($);if($.isVideoTexture&&Ve($),$.isRenderTargetTexture===!1&&$.version>0&&ge.__version!==$.version){const Re=$.image;if(Re===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Re.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{Oe(ge,$,H);return}}t.bindTexture(n.TEXTURE_2D,ge.__webglTexture,n.TEXTURE0+H)}function F($,H){const ge=i.get($);if($.version>0&&ge.__version!==$.version){Oe(ge,$,H);return}t.bindTexture(n.TEXTURE_2D_ARRAY,ge.__webglTexture,n.TEXTURE0+H)}function q($,H){const ge=i.get($);if($.version>0&&ge.__version!==$.version){Oe(ge,$,H);return}t.bindTexture(n.TEXTURE_3D,ge.__webglTexture,n.TEXTURE0+H)}function Y($,H){const ge=i.get($);if($.version>0&&ge.__version!==$.version){He(ge,$,H);return}t.bindTexture(n.TEXTURE_CUBE_MAP,ge.__webglTexture,n.TEXTURE0+H)}const ue={[Mu]:n.REPEAT,[nr]:n.CLAMP_TO_EDGE,[op]:n.MIRRORED_REPEAT},X={[ms]:n.NEAREST,[I_]:n.NEAREST_MIPMAP_NEAREST,[Qf]:n.NEAREST_MIPMAP_LINEAR,[Ui]:n.LINEAR,[$d]:n.LINEAR_MIPMAP_NEAREST,[Ur]:n.LINEAR_MIPMAP_LINEAR},ie={[q3]:n.NEVER,[$3]:n.ALWAYS,[W3]:n.LESS,[I1]:n.LEQUAL,[J3]:n.EQUAL,[Z3]:n.GEQUAL,[K3]:n.GREATER,[Q3]:n.NOTEQUAL};function xe($,H){if(H.type===La&&e.has("OES_texture_float_linear")===!1&&(H.magFilter===Ui||H.magFilter===$d||H.magFilter===Qf||H.magFilter===Ur||H.minFilter===Ui||H.minFilter===$d||H.minFilter===Qf||H.minFilter===Ur)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),n.texParameteri($,n.TEXTURE_WRAP_S,ue[H.wrapS]),n.texParameteri($,n.TEXTURE_WRAP_T,ue[H.wrapT]),($===n.TEXTURE_3D||$===n.TEXTURE_2D_ARRAY)&&n.texParameteri($,n.TEXTURE_WRAP_R,ue[H.wrapR]),n.texParameteri($,n.TEXTURE_MAG_FILTER,X[H.magFilter]),n.texParameteri($,n.TEXTURE_MIN_FILTER,X[H.minFilter]),H.compareFunction&&(n.texParameteri($,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri($,n.TEXTURE_COMPARE_FUNC,ie[H.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(H.magFilter===ms||H.minFilter!==Qf&&H.minFilter!==Ur||H.type===La&&e.has("OES_texture_float_linear")===!1)return;if(H.anisotropy>1||i.get(H).__currentAnisotropy){const ge=e.get("EXT_texture_filter_anisotropic");n.texParameterf($,ge.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(H.anisotropy,s.getMaxAnisotropy())),i.get(H).__currentAnisotropy=H.anisotropy}}}function _e($,H){let ge=!1;$.__webglInit===void 0&&($.__webglInit=!0,H.addEventListener("dispose",I));const Re=H.source;let Be=x.get(Re);Be===void 0&&(Be={},x.set(Re,Be));const we=me(H);if(we!==$.__cacheKey){Be[we]===void 0&&(Be[we]={texture:n.createTexture(),usedTimes:0},o.memory.textures++,ge=!0),Be[we].usedTimes++;const rt=Be[$.__cacheKey];rt!==void 0&&(Be[$.__cacheKey].usedTimes--,rt.usedTimes===0&&U(H)),$.__cacheKey=we,$.__webglTexture=Be[we].texture}return ge}function ne($,H,ge){return Math.floor(Math.floor($/ge)/H)}function Ce($,H,ge,Re){const we=$.updateRanges;if(we.length===0)t.texSubImage2D(n.TEXTURE_2D,0,0,0,H.width,H.height,ge,Re,H.data);else{we.sort((Pe,tt)=>Pe.start-tt.start);let rt=0;for(let Pe=1;Pe<we.length;Pe++){const tt=we[rt],At=we[Pe],Et=tt.start+tt.count,Qe=ne(At.start,H.width,4),Ot=ne(tt.start,H.width,4);At.start<=Et+1&&Qe===Ot&&ne(At.start+At.count-1,H.width,4)===Qe?tt.count=Math.max(tt.count,At.start+At.count-tt.start):(++rt,we[rt]=At)}we.length=rt+1;const $e=n.getParameter(n.UNPACK_ROW_LENGTH),dt=n.getParameter(n.UNPACK_SKIP_PIXELS),gt=n.getParameter(n.UNPACK_SKIP_ROWS);n.pixelStorei(n.UNPACK_ROW_LENGTH,H.width);for(let Pe=0,tt=we.length;Pe<tt;Pe++){const At=we[Pe],Et=Math.floor(At.start/4),Qe=Math.ceil(At.count/4),Ot=Et%H.width,oe=Math.floor(Et/H.width),st=Qe,je=1;n.pixelStorei(n.UNPACK_SKIP_PIXELS,Ot),n.pixelStorei(n.UNPACK_SKIP_ROWS,oe),t.texSubImage2D(n.TEXTURE_2D,0,Ot,oe,st,je,ge,Re,H.data)}$.clearUpdateRanges(),n.pixelStorei(n.UNPACK_ROW_LENGTH,$e),n.pixelStorei(n.UNPACK_SKIP_PIXELS,dt),n.pixelStorei(n.UNPACK_SKIP_ROWS,gt)}}function Oe($,H,ge){let Re=n.TEXTURE_2D;(H.isDataArrayTexture||H.isCompressedArrayTexture)&&(Re=n.TEXTURE_2D_ARRAY),H.isData3DTexture&&(Re=n.TEXTURE_3D);const Be=_e($,H),we=H.source;t.bindTexture(Re,$.__webglTexture,n.TEXTURE0+ge);const rt=i.get(we);if(we.version!==rt.__version||Be===!0){t.activeTexture(n.TEXTURE0+ge);const $e=bn.getPrimaries(bn.workingColorSpace),dt=H.colorSpace===$l?null:bn.getPrimaries(H.colorSpace),gt=H.colorSpace===$l||$e===dt?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,H.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,H.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,H.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,gt);let Pe=C(H.image,!1,s.maxTextureSize);Pe=et(H,Pe);const tt=r.convert(H.format,H.colorSpace),At=r.convert(H.type);let Et=B(H.internalFormat,tt,At,H.colorSpace,H.isVideoTexture);xe(Re,H);let Qe;const Ot=H.mipmaps,oe=H.isVideoTexture!==!0,st=rt.__version===void 0||Be===!0,je=we.dataReady,ht=P(H,Pe);if(H.isDepthTexture)Et=D(H.format===fp,H.type),st&&(oe?t.texStorage2D(n.TEXTURE_2D,1,Et,Pe.width,Pe.height):t.texImage2D(n.TEXTURE_2D,0,Et,Pe.width,Pe.height,0,tt,At,null));else if(H.isDataTexture)if(Ot.length>0){oe&&st&&t.texStorage2D(n.TEXTURE_2D,ht,Et,Ot[0].width,Ot[0].height);for(let qe=0,Ie=Ot.length;qe<Ie;qe++)Qe=Ot[qe],oe?je&&t.texSubImage2D(n.TEXTURE_2D,qe,0,0,Qe.width,Qe.height,tt,At,Qe.data):t.texImage2D(n.TEXTURE_2D,qe,Et,Qe.width,Qe.height,0,tt,At,Qe.data);H.generateMipmaps=!1}else oe?(st&&t.texStorage2D(n.TEXTURE_2D,ht,Et,Pe.width,Pe.height),je&&Ce(H,Pe,tt,At)):t.texImage2D(n.TEXTURE_2D,0,Et,Pe.width,Pe.height,0,tt,At,Pe.data);else if(H.isCompressedTexture)if(H.isCompressedArrayTexture){oe&&st&&t.texStorage3D(n.TEXTURE_2D_ARRAY,ht,Et,Ot[0].width,Ot[0].height,Pe.depth);for(let qe=0,Ie=Ot.length;qe<Ie;qe++)if(Qe=Ot[qe],H.format!==js)if(tt!==null)if(oe){if(je)if(H.layerUpdates.size>0){const pt=EM(Qe.width,Qe.height,H.format,H.type);for(const Pt of H.layerUpdates){const xn=Qe.data.subarray(Pt*pt/Qe.data.BYTES_PER_ELEMENT,(Pt+1)*pt/Qe.data.BYTES_PER_ELEMENT);t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,qe,0,0,Pt,Qe.width,Qe.height,1,tt,xn)}H.clearLayerUpdates()}else t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,qe,0,0,0,Qe.width,Qe.height,Pe.depth,tt,Qe.data)}else t.compressedTexImage3D(n.TEXTURE_2D_ARRAY,qe,Et,Qe.width,Qe.height,Pe.depth,0,Qe.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else oe?je&&t.texSubImage3D(n.TEXTURE_2D_ARRAY,qe,0,0,0,Qe.width,Qe.height,Pe.depth,tt,At,Qe.data):t.texImage3D(n.TEXTURE_2D_ARRAY,qe,Et,Qe.width,Qe.height,Pe.depth,0,tt,At,Qe.data)}else{oe&&st&&t.texStorage2D(n.TEXTURE_2D,ht,Et,Ot[0].width,Ot[0].height);for(let qe=0,Ie=Ot.length;qe<Ie;qe++)Qe=Ot[qe],H.format!==js?tt!==null?oe?je&&t.compressedTexSubImage2D(n.TEXTURE_2D,qe,0,0,Qe.width,Qe.height,tt,Qe.data):t.compressedTexImage2D(n.TEXTURE_2D,qe,Et,Qe.width,Qe.height,0,Qe.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):oe?je&&t.texSubImage2D(n.TEXTURE_2D,qe,0,0,Qe.width,Qe.height,tt,At,Qe.data):t.texImage2D(n.TEXTURE_2D,qe,Et,Qe.width,Qe.height,0,tt,At,Qe.data)}else if(H.isDataArrayTexture)if(oe){if(st&&t.texStorage3D(n.TEXTURE_2D_ARRAY,ht,Et,Pe.width,Pe.height,Pe.depth),je)if(H.layerUpdates.size>0){const qe=EM(Pe.width,Pe.height,H.format,H.type);for(const Ie of H.layerUpdates){const pt=Pe.data.subarray(Ie*qe/Pe.data.BYTES_PER_ELEMENT,(Ie+1)*qe/Pe.data.BYTES_PER_ELEMENT);t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,Ie,Pe.width,Pe.height,1,tt,At,pt)}H.clearLayerUpdates()}else t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,Pe.width,Pe.height,Pe.depth,tt,At,Pe.data)}else t.texImage3D(n.TEXTURE_2D_ARRAY,0,Et,Pe.width,Pe.height,Pe.depth,0,tt,At,Pe.data);else if(H.isData3DTexture)oe?(st&&t.texStorage3D(n.TEXTURE_3D,ht,Et,Pe.width,Pe.height,Pe.depth),je&&t.texSubImage3D(n.TEXTURE_3D,0,0,0,0,Pe.width,Pe.height,Pe.depth,tt,At,Pe.data)):t.texImage3D(n.TEXTURE_3D,0,Et,Pe.width,Pe.height,Pe.depth,0,tt,At,Pe.data);else if(H.isFramebufferTexture){if(st)if(oe)t.texStorage2D(n.TEXTURE_2D,ht,Et,Pe.width,Pe.height);else{let qe=Pe.width,Ie=Pe.height;for(let pt=0;pt<ht;pt++)t.texImage2D(n.TEXTURE_2D,pt,Et,qe,Ie,0,tt,At,null),qe>>=1,Ie>>=1}}else if(Ot.length>0){if(oe&&st){const qe=Ht(Ot[0]);t.texStorage2D(n.TEXTURE_2D,ht,Et,qe.width,qe.height)}for(let qe=0,Ie=Ot.length;qe<Ie;qe++)Qe=Ot[qe],oe?je&&t.texSubImage2D(n.TEXTURE_2D,qe,0,0,tt,At,Qe):t.texImage2D(n.TEXTURE_2D,qe,Et,tt,At,Qe);H.generateMipmaps=!1}else if(oe){if(st){const qe=Ht(Pe);t.texStorage2D(n.TEXTURE_2D,ht,Et,qe.width,qe.height)}je&&t.texSubImage2D(n.TEXTURE_2D,0,0,0,tt,At,Pe)}else t.texImage2D(n.TEXTURE_2D,0,Et,tt,At,Pe);E(H)&&S(Re),rt.__version=we.version,H.onUpdate&&H.onUpdate(H)}$.__version=H.version}function He($,H,ge){if(H.image.length!==6)return;const Re=_e($,H),Be=H.source;t.bindTexture(n.TEXTURE_CUBE_MAP,$.__webglTexture,n.TEXTURE0+ge);const we=i.get(Be);if(Be.version!==we.__version||Re===!0){t.activeTexture(n.TEXTURE0+ge);const rt=bn.getPrimaries(bn.workingColorSpace),$e=H.colorSpace===$l?null:bn.getPrimaries(H.colorSpace),dt=H.colorSpace===$l||rt===$e?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,H.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,H.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,H.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,dt);const gt=H.isCompressedTexture||H.image[0].isCompressedTexture,Pe=H.image[0]&&H.image[0].isDataTexture,tt=[];for(let Ie=0;Ie<6;Ie++)!gt&&!Pe?tt[Ie]=C(H.image[Ie],!0,s.maxCubemapSize):tt[Ie]=Pe?H.image[Ie].image:H.image[Ie],tt[Ie]=et(H,tt[Ie]);const At=tt[0],Et=r.convert(H.format,H.colorSpace),Qe=r.convert(H.type),Ot=B(H.internalFormat,Et,Qe,H.colorSpace),oe=H.isVideoTexture!==!0,st=we.__version===void 0||Re===!0,je=Be.dataReady;let ht=P(H,At);xe(n.TEXTURE_CUBE_MAP,H);let qe;if(gt){oe&&st&&t.texStorage2D(n.TEXTURE_CUBE_MAP,ht,Ot,At.width,At.height);for(let Ie=0;Ie<6;Ie++){qe=tt[Ie].mipmaps;for(let pt=0;pt<qe.length;pt++){const Pt=qe[pt];H.format!==js?Et!==null?oe?je&&t.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ie,pt,0,0,Pt.width,Pt.height,Et,Pt.data):t.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ie,pt,Ot,Pt.width,Pt.height,0,Pt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):oe?je&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ie,pt,0,0,Pt.width,Pt.height,Et,Qe,Pt.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ie,pt,Ot,Pt.width,Pt.height,0,Et,Qe,Pt.data)}}}else{if(qe=H.mipmaps,oe&&st){qe.length>0&&ht++;const Ie=Ht(tt[0]);t.texStorage2D(n.TEXTURE_CUBE_MAP,ht,Ot,Ie.width,Ie.height)}for(let Ie=0;Ie<6;Ie++)if(Pe){oe?je&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ie,0,0,0,tt[Ie].width,tt[Ie].height,Et,Qe,tt[Ie].data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ie,0,Ot,tt[Ie].width,tt[Ie].height,0,Et,Qe,tt[Ie].data);for(let pt=0;pt<qe.length;pt++){const xn=qe[pt].image[Ie].image;oe?je&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ie,pt+1,0,0,xn.width,xn.height,Et,Qe,xn.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ie,pt+1,Ot,xn.width,xn.height,0,Et,Qe,xn.data)}}else{oe?je&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ie,0,0,0,Et,Qe,tt[Ie]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ie,0,Ot,Et,Qe,tt[Ie]);for(let pt=0;pt<qe.length;pt++){const Pt=qe[pt];oe?je&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ie,pt+1,0,0,Et,Qe,Pt.image[Ie]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ie,pt+1,Ot,Et,Qe,Pt.image[Ie])}}}E(H)&&S(n.TEXTURE_CUBE_MAP),we.__version=Be.version,H.onUpdate&&H.onUpdate(H)}$.__version=H.version}function Ye($,H,ge,Re,Be,we){const rt=r.convert(ge.format,ge.colorSpace),$e=r.convert(ge.type),dt=B(ge.internalFormat,rt,$e,ge.colorSpace),gt=i.get(H),Pe=i.get(ge);if(Pe.__renderTarget=H,!gt.__hasExternalTextures){const tt=Math.max(1,H.width>>we),At=Math.max(1,H.height>>we);Be===n.TEXTURE_3D||Be===n.TEXTURE_2D_ARRAY?t.texImage3D(Be,we,dt,tt,At,H.depth,0,rt,$e,null):t.texImage2D(Be,we,dt,tt,At,0,rt,$e,null)}t.bindFramebuffer(n.FRAMEBUFFER,$),at(H)?u.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,Re,Be,Pe.__webglTexture,0,Ue(H)):(Be===n.TEXTURE_2D||Be>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&Be<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,Re,Be,Pe.__webglTexture,we),t.bindFramebuffer(n.FRAMEBUFFER,null)}function bt($,H,ge){if(n.bindRenderbuffer(n.RENDERBUFFER,$),H.depthBuffer){const Re=H.depthTexture,Be=Re&&Re.isDepthTexture?Re.type:null,we=D(H.stencilBuffer,Be),rt=H.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,$e=Ue(H);at(H)?u.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,$e,we,H.width,H.height):ge?n.renderbufferStorageMultisample(n.RENDERBUFFER,$e,we,H.width,H.height):n.renderbufferStorage(n.RENDERBUFFER,we,H.width,H.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,rt,n.RENDERBUFFER,$)}else{const Re=H.textures;for(let Be=0;Be<Re.length;Be++){const we=Re[Be],rt=r.convert(we.format,we.colorSpace),$e=r.convert(we.type),dt=B(we.internalFormat,rt,$e,we.colorSpace),gt=Ue(H);ge&&at(H)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,gt,dt,H.width,H.height):at(H)?u.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,gt,dt,H.width,H.height):n.renderbufferStorage(n.RENDERBUFFER,dt,H.width,H.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function it($,H){if(H&&H.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(n.FRAMEBUFFER,$),!(H.depthTexture&&H.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const Re=i.get(H.depthTexture);Re.__renderTarget=H,(!Re.__webglTexture||H.depthTexture.image.width!==H.width||H.depthTexture.image.height!==H.height)&&(H.depthTexture.image.width=H.width,H.depthTexture.image.height=H.height,H.depthTexture.needsUpdate=!0),fe(H.depthTexture,0);const Be=Re.__webglTexture,we=Ue(H);if(H.depthTexture.format===up)at(H)?u.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Be,0,we):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Be,0);else if(H.depthTexture.format===fp)at(H)?u.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Be,0,we):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Be,0);else throw new Error("Unknown depthTexture format")}function mt($){const H=i.get($),ge=$.isWebGLCubeRenderTarget===!0;if(H.__boundDepthTexture!==$.depthTexture){const Re=$.depthTexture;if(H.__depthDisposeCallback&&H.__depthDisposeCallback(),Re){const Be=()=>{delete H.__boundDepthTexture,delete H.__depthDisposeCallback,Re.removeEventListener("dispose",Be)};Re.addEventListener("dispose",Be),H.__depthDisposeCallback=Be}H.__boundDepthTexture=Re}if($.depthTexture&&!H.__autoAllocateDepthBuffer){if(ge)throw new Error("target.depthTexture not supported in Cube render targets");const Re=$.texture.mipmaps;Re&&Re.length>0?it(H.__webglFramebuffer[0],$):it(H.__webglFramebuffer,$)}else if(ge){H.__webglDepthbuffer=[];for(let Re=0;Re<6;Re++)if(t.bindFramebuffer(n.FRAMEBUFFER,H.__webglFramebuffer[Re]),H.__webglDepthbuffer[Re]===void 0)H.__webglDepthbuffer[Re]=n.createRenderbuffer(),bt(H.__webglDepthbuffer[Re],$,!1);else{const Be=$.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,we=H.__webglDepthbuffer[Re];n.bindRenderbuffer(n.RENDERBUFFER,we),n.framebufferRenderbuffer(n.FRAMEBUFFER,Be,n.RENDERBUFFER,we)}}else{const Re=$.texture.mipmaps;if(Re&&Re.length>0?t.bindFramebuffer(n.FRAMEBUFFER,H.__webglFramebuffer[0]):t.bindFramebuffer(n.FRAMEBUFFER,H.__webglFramebuffer),H.__webglDepthbuffer===void 0)H.__webglDepthbuffer=n.createRenderbuffer(),bt(H.__webglDepthbuffer,$,!1);else{const Be=$.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,we=H.__webglDepthbuffer;n.bindRenderbuffer(n.RENDERBUFFER,we),n.framebufferRenderbuffer(n.FRAMEBUFFER,Be,n.RENDERBUFFER,we)}}t.bindFramebuffer(n.FRAMEBUFFER,null)}function Rt($,H,ge){const Re=i.get($);H!==void 0&&Ye(Re.__webglFramebuffer,$,$.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,0),ge!==void 0&&mt($)}function St($){const H=$.texture,ge=i.get($),Re=i.get(H);$.addEventListener("dispose",G);const Be=$.textures,we=$.isWebGLCubeRenderTarget===!0,rt=Be.length>1;if(rt||(Re.__webglTexture===void 0&&(Re.__webglTexture=n.createTexture()),Re.__version=H.version,o.memory.textures++),we){ge.__webglFramebuffer=[];for(let $e=0;$e<6;$e++)if(H.mipmaps&&H.mipmaps.length>0){ge.__webglFramebuffer[$e]=[];for(let dt=0;dt<H.mipmaps.length;dt++)ge.__webglFramebuffer[$e][dt]=n.createFramebuffer()}else ge.__webglFramebuffer[$e]=n.createFramebuffer()}else{if(H.mipmaps&&H.mipmaps.length>0){ge.__webglFramebuffer=[];for(let $e=0;$e<H.mipmaps.length;$e++)ge.__webglFramebuffer[$e]=n.createFramebuffer()}else ge.__webglFramebuffer=n.createFramebuffer();if(rt)for(let $e=0,dt=Be.length;$e<dt;$e++){const gt=i.get(Be[$e]);gt.__webglTexture===void 0&&(gt.__webglTexture=n.createTexture(),o.memory.textures++)}if($.samples>0&&at($)===!1){ge.__webglMultisampledFramebuffer=n.createFramebuffer(),ge.__webglColorRenderbuffer=[],t.bindFramebuffer(n.FRAMEBUFFER,ge.__webglMultisampledFramebuffer);for(let $e=0;$e<Be.length;$e++){const dt=Be[$e];ge.__webglColorRenderbuffer[$e]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,ge.__webglColorRenderbuffer[$e]);const gt=r.convert(dt.format,dt.colorSpace),Pe=r.convert(dt.type),tt=B(dt.internalFormat,gt,Pe,dt.colorSpace,$.isXRRenderTarget===!0),At=Ue($);n.renderbufferStorageMultisample(n.RENDERBUFFER,At,tt,$.width,$.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+$e,n.RENDERBUFFER,ge.__webglColorRenderbuffer[$e])}n.bindRenderbuffer(n.RENDERBUFFER,null),$.depthBuffer&&(ge.__webglDepthRenderbuffer=n.createRenderbuffer(),bt(ge.__webglDepthRenderbuffer,$,!0)),t.bindFramebuffer(n.FRAMEBUFFER,null)}}if(we){t.bindTexture(n.TEXTURE_CUBE_MAP,Re.__webglTexture),xe(n.TEXTURE_CUBE_MAP,H);for(let $e=0;$e<6;$e++)if(H.mipmaps&&H.mipmaps.length>0)for(let dt=0;dt<H.mipmaps.length;dt++)Ye(ge.__webglFramebuffer[$e][dt],$,H,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+$e,dt);else Ye(ge.__webglFramebuffer[$e],$,H,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+$e,0);E(H)&&S(n.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(rt){for(let $e=0,dt=Be.length;$e<dt;$e++){const gt=Be[$e],Pe=i.get(gt);t.bindTexture(n.TEXTURE_2D,Pe.__webglTexture),xe(n.TEXTURE_2D,gt),Ye(ge.__webglFramebuffer,$,gt,n.COLOR_ATTACHMENT0+$e,n.TEXTURE_2D,0),E(gt)&&S(n.TEXTURE_2D)}t.unbindTexture()}else{let $e=n.TEXTURE_2D;if(($.isWebGL3DRenderTarget||$.isWebGLArrayRenderTarget)&&($e=$.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY),t.bindTexture($e,Re.__webglTexture),xe($e,H),H.mipmaps&&H.mipmaps.length>0)for(let dt=0;dt<H.mipmaps.length;dt++)Ye(ge.__webglFramebuffer[dt],$,H,n.COLOR_ATTACHMENT0,$e,dt);else Ye(ge.__webglFramebuffer,$,H,n.COLOR_ATTACHMENT0,$e,0);E(H)&&S($e),t.unbindTexture()}$.depthBuffer&&mt($)}function K($){const H=$.textures;for(let ge=0,Re=H.length;ge<Re;ge++){const Be=H[ge];if(E(Be)){const we=w($),rt=i.get(Be).__webglTexture;t.bindTexture(we,rt),S(we),t.unbindTexture()}}}const Je=[],Xe=[];function Ge($){if($.samples>0){if(at($)===!1){const H=$.textures,ge=$.width,Re=$.height;let Be=n.COLOR_BUFFER_BIT;const we=$.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,rt=i.get($),$e=H.length>1;if($e)for(let gt=0;gt<H.length;gt++)t.bindFramebuffer(n.FRAMEBUFFER,rt.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+gt,n.RENDERBUFFER,null),t.bindFramebuffer(n.FRAMEBUFFER,rt.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+gt,n.TEXTURE_2D,null,0);t.bindFramebuffer(n.READ_FRAMEBUFFER,rt.__webglMultisampledFramebuffer);const dt=$.texture.mipmaps;dt&&dt.length>0?t.bindFramebuffer(n.DRAW_FRAMEBUFFER,rt.__webglFramebuffer[0]):t.bindFramebuffer(n.DRAW_FRAMEBUFFER,rt.__webglFramebuffer);for(let gt=0;gt<H.length;gt++){if($.resolveDepthBuffer&&($.depthBuffer&&(Be|=n.DEPTH_BUFFER_BIT),$.stencilBuffer&&$.resolveStencilBuffer&&(Be|=n.STENCIL_BUFFER_BIT)),$e){n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,rt.__webglColorRenderbuffer[gt]);const Pe=i.get(H[gt]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,Pe,0)}n.blitFramebuffer(0,0,ge,Re,0,0,ge,Re,Be,n.NEAREST),h===!0&&(Je.length=0,Xe.length=0,Je.push(n.COLOR_ATTACHMENT0+gt),$.depthBuffer&&$.resolveDepthBuffer===!1&&(Je.push(we),Xe.push(we),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,Xe)),n.invalidateFramebuffer(n.READ_FRAMEBUFFER,Je))}if(t.bindFramebuffer(n.READ_FRAMEBUFFER,null),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),$e)for(let gt=0;gt<H.length;gt++){t.bindFramebuffer(n.FRAMEBUFFER,rt.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+gt,n.RENDERBUFFER,rt.__webglColorRenderbuffer[gt]);const Pe=i.get(H[gt]).__webglTexture;t.bindFramebuffer(n.FRAMEBUFFER,rt.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+gt,n.TEXTURE_2D,Pe,0)}t.bindFramebuffer(n.DRAW_FRAMEBUFFER,rt.__webglMultisampledFramebuffer)}else if($.depthBuffer&&$.resolveDepthBuffer===!1&&h){const H=$.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT;n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[H])}}}function Ue($){return Math.min(s.maxSamples,$.samples)}function at($){const H=i.get($);return $.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&H.__useRenderToTexture!==!1}function Ve($){const H=o.render.frame;m.get($)!==H&&(m.set($,H),$.update())}function et($,H){const ge=$.colorSpace,Re=$.format,Be=$.type;return $.isCompressedTexture===!0||$.isVideoTexture===!0||ge!==Eu&&ge!==$l&&(bn.getTransfer(ge)===kn?(Re!==js||Be!==Or)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",ge)),H}function Ht($){return typeof HTMLImageElement<"u"&&$ instanceof HTMLImageElement?(p.width=$.naturalWidth||$.width,p.height=$.naturalHeight||$.height):typeof VideoFrame<"u"&&$ instanceof VideoFrame?(p.width=$.displayWidth,p.height=$.displayHeight):(p.width=$.width,p.height=$.height),p}this.allocateTextureUnit=se,this.resetTextureUnits=ce,this.setTexture2D=fe,this.setTexture2DArray=F,this.setTexture3D=q,this.setTextureCube=Y,this.rebindTextures=Rt,this.setupRenderTarget=St,this.updateRenderTargetMipmap=K,this.updateMultisampleRenderTarget=Ge,this.setupDepthRenderbuffer=mt,this.setupFrameBufferTexture=Ye,this.useMultisampledRTT=at}function aU(n,e){function t(i,s=$l){let r;const o=bn.getTransfer(s);if(i===Or)return n.UNSIGNED_BYTE;if(i===z_)return n.UNSIGNED_SHORT_4_4_4_4;if(i===H_)return n.UNSIGNED_SHORT_5_5_5_1;if(i===B1)return n.UNSIGNED_INT_5_9_9_9_REV;if(i===R1)return n.BYTE;if(i===w1)return n.SHORT;if(i===lp)return n.UNSIGNED_SHORT;if(i===F_)return n.INT;if(i===uc)return n.UNSIGNED_INT;if(i===La)return n.FLOAT;if(i===wp)return n.HALF_FLOAT;if(i===D1)return n.ALPHA;if(i===N1)return n.RGB;if(i===js)return n.RGBA;if(i===up)return n.DEPTH_COMPONENT;if(i===fp)return n.DEPTH_STENCIL;if(i===G_)return n.RED;if(i===_0)return n.RED_INTEGER;if(i===U1)return n.RG;if(i===V_)return n.RG_INTEGER;if(i===k_)return n.RGBA_INTEGER;if(i===Lg||i===Og||i===Pg||i===Ig)if(o===kn)if(r=e.get("WEBGL_compressed_texture_s3tc_srgb"),r!==null){if(i===Lg)return r.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(i===Og)return r.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(i===Pg)return r.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(i===Ig)return r.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(r=e.get("WEBGL_compressed_texture_s3tc"),r!==null){if(i===Lg)return r.COMPRESSED_RGB_S3TC_DXT1_EXT;if(i===Og)return r.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(i===Pg)return r.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(i===Ig)return r.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(i===Vx||i===kx||i===Xx||i===jx)if(r=e.get("WEBGL_compressed_texture_pvrtc"),r!==null){if(i===Vx)return r.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(i===kx)return r.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(i===Xx)return r.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(i===jx)return r.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(i===Yx||i===qx||i===Wx)if(r=e.get("WEBGL_compressed_texture_etc"),r!==null){if(i===Yx||i===qx)return o===kn?r.COMPRESSED_SRGB8_ETC2:r.COMPRESSED_RGB8_ETC2;if(i===Wx)return o===kn?r.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:r.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(i===Jx||i===Kx||i===Qx||i===Zx||i===$x||i===e_||i===t_||i===n_||i===i_||i===s_||i===a_||i===r_||i===o_||i===l_)if(r=e.get("WEBGL_compressed_texture_astc"),r!==null){if(i===Jx)return o===kn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:r.COMPRESSED_RGBA_ASTC_4x4_KHR;if(i===Kx)return o===kn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:r.COMPRESSED_RGBA_ASTC_5x4_KHR;if(i===Qx)return o===kn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:r.COMPRESSED_RGBA_ASTC_5x5_KHR;if(i===Zx)return o===kn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:r.COMPRESSED_RGBA_ASTC_6x5_KHR;if(i===$x)return o===kn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:r.COMPRESSED_RGBA_ASTC_6x6_KHR;if(i===e_)return o===kn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:r.COMPRESSED_RGBA_ASTC_8x5_KHR;if(i===t_)return o===kn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:r.COMPRESSED_RGBA_ASTC_8x6_KHR;if(i===n_)return o===kn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:r.COMPRESSED_RGBA_ASTC_8x8_KHR;if(i===i_)return o===kn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:r.COMPRESSED_RGBA_ASTC_10x5_KHR;if(i===s_)return o===kn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:r.COMPRESSED_RGBA_ASTC_10x6_KHR;if(i===a_)return o===kn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:r.COMPRESSED_RGBA_ASTC_10x8_KHR;if(i===r_)return o===kn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:r.COMPRESSED_RGBA_ASTC_10x10_KHR;if(i===o_)return o===kn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:r.COMPRESSED_RGBA_ASTC_12x10_KHR;if(i===l_)return o===kn?r.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:r.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(i===Fg||i===c_||i===u_)if(r=e.get("EXT_texture_compression_bptc"),r!==null){if(i===Fg)return o===kn?r.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:r.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(i===c_)return r.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(i===u_)return r.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(i===L1||i===f_||i===h_||i===d_)if(r=e.get("EXT_texture_compression_rgtc"),r!==null){if(i===Fg)return r.COMPRESSED_RED_RGTC1_EXT;if(i===f_)return r.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(i===h_)return r.COMPRESSED_RED_GREEN_RGTC2_EXT;if(i===d_)return r.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return i===cp?n.UNSIGNED_INT_24_8:n[i]!==void 0?n[i]:null}return{convert:t}}const SX=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,MX=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class EX{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t,i){if(this.texture===null){const s=new oi,r=e.properties.get(s);r.__webglTexture=t.texture,(t.depthNear!==i.depthNear||t.depthFar!==i.depthFar)&&(this.depthNear=t.depthNear,this.depthFar=t.depthFar),this.texture=s}}getMesh(e){if(this.texture!==null&&this.mesh===null){const t=e.cameras[0].viewport,i=new Ao({vertexShader:SX,fragmentShader:MX,uniforms:{depthColor:{value:this.texture},depthWidth:{value:t.z},depthHeight:{value:t.w}}});this.mesh=new Li(new Np(20,20),i)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class TX extends vl{constructor(e,t){super();const i=this;let s=null,r=1,o=null,u="local-floor",h=1,p=null,m=null,y=null,x=null,_=null,M=null;const C=new EX,E=t.getContextAttributes();let S=null,w=null;const B=[],D=[],P=new Fe;let I=null;const G=new Ni;G.viewport=new mn;const z=new Ni;z.viewport=new mn;const U=[G,z],O=new YN;let W=null,ce=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(ne){let Ce=B[ne];return Ce===void 0&&(Ce=new bx,B[ne]=Ce),Ce.getTargetRaySpace()},this.getControllerGrip=function(ne){let Ce=B[ne];return Ce===void 0&&(Ce=new bx,B[ne]=Ce),Ce.getGripSpace()},this.getHand=function(ne){let Ce=B[ne];return Ce===void 0&&(Ce=new bx,B[ne]=Ce),Ce.getHandSpace()};function se(ne){const Ce=D.indexOf(ne.inputSource);if(Ce===-1)return;const Oe=B[Ce];Oe!==void 0&&(Oe.update(ne.inputSource,ne.frame,p||o),Oe.dispatchEvent({type:ne.type,data:ne.inputSource}))}function me(){s.removeEventListener("select",se),s.removeEventListener("selectstart",se),s.removeEventListener("selectend",se),s.removeEventListener("squeeze",se),s.removeEventListener("squeezestart",se),s.removeEventListener("squeezeend",se),s.removeEventListener("end",me),s.removeEventListener("inputsourceschange",fe);for(let ne=0;ne<B.length;ne++){const Ce=D[ne];Ce!==null&&(D[ne]=null,B[ne].disconnect(Ce))}W=null,ce=null,C.reset(),e.setRenderTarget(S),_=null,x=null,y=null,s=null,w=null,_e.stop(),i.isPresenting=!1,e.setPixelRatio(I),e.setSize(P.width,P.height,!1),i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(ne){r=ne,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(ne){u=ne,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return p||o},this.setReferenceSpace=function(ne){p=ne},this.getBaseLayer=function(){return x!==null?x:_},this.getBinding=function(){return y},this.getFrame=function(){return M},this.getSession=function(){return s},this.setSession=async function(ne){if(s=ne,s!==null){if(S=e.getRenderTarget(),s.addEventListener("select",se),s.addEventListener("selectstart",se),s.addEventListener("selectend",se),s.addEventListener("squeeze",se),s.addEventListener("squeezestart",se),s.addEventListener("squeezeend",se),s.addEventListener("end",me),s.addEventListener("inputsourceschange",fe),E.xrCompatible!==!0&&await t.makeXRCompatible(),I=e.getPixelRatio(),e.getSize(P),typeof XRWebGLBinding<"u"&&"createProjectionLayer"in XRWebGLBinding.prototype){let Oe=null,He=null,Ye=null;E.depth&&(Ye=E.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,Oe=E.stencil?fp:up,He=E.stencil?cp:uc);const bt={colorFormat:t.RGBA8,depthFormat:Ye,scaleFactor:r};y=new XRWebGLBinding(s,t),x=y.createProjectionLayer(bt),s.updateRenderState({layers:[x]}),e.setPixelRatio(1),e.setSize(x.textureWidth,x.textureHeight,!1),w=new ml(x.textureWidth,x.textureHeight,{format:js,type:Or,depthTexture:new J1(x.textureWidth,x.textureHeight,He,void 0,void 0,void 0,void 0,void 0,void 0,Oe),stencilBuffer:E.stencil,colorSpace:e.outputColorSpace,samples:E.antialias?4:0,resolveDepthBuffer:x.ignoreDepthValues===!1,resolveStencilBuffer:x.ignoreDepthValues===!1})}else{const Oe={antialias:E.antialias,alpha:!0,depth:E.depth,stencil:E.stencil,framebufferScaleFactor:r};_=new XRWebGLLayer(s,t,Oe),s.updateRenderState({baseLayer:_}),e.setPixelRatio(1),e.setSize(_.framebufferWidth,_.framebufferHeight,!1),w=new ml(_.framebufferWidth,_.framebufferHeight,{format:js,type:Or,colorSpace:e.outputColorSpace,stencilBuffer:E.stencil,resolveDepthBuffer:_.ignoreDepthValues===!1,resolveStencilBuffer:_.ignoreDepthValues===!1})}w.isXRRenderTarget=!0,this.setFoveation(h),p=null,o=await s.requestReferenceSpace(u),_e.setContext(s),_e.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(s!==null)return s.environmentBlendMode},this.getDepthTexture=function(){return C.getDepthTexture()};function fe(ne){for(let Ce=0;Ce<ne.removed.length;Ce++){const Oe=ne.removed[Ce],He=D.indexOf(Oe);He>=0&&(D[He]=null,B[He].disconnect(Oe))}for(let Ce=0;Ce<ne.added.length;Ce++){const Oe=ne.added[Ce];let He=D.indexOf(Oe);if(He===-1){for(let bt=0;bt<B.length;bt++)if(bt>=D.length){D.push(Oe),He=bt;break}else if(D[bt]===null){D[bt]=Oe,He=bt;break}if(He===-1)break}const Ye=B[He];Ye&&Ye.connect(Oe)}}const F=new Z,q=new Z;function Y(ne,Ce,Oe){F.setFromMatrixPosition(Ce.matrixWorld),q.setFromMatrixPosition(Oe.matrixWorld);const He=F.distanceTo(q),Ye=Ce.projectionMatrix.elements,bt=Oe.projectionMatrix.elements,it=Ye[14]/(Ye[10]-1),mt=Ye[14]/(Ye[10]+1),Rt=(Ye[9]+1)/Ye[5],St=(Ye[9]-1)/Ye[5],K=(Ye[8]-1)/Ye[0],Je=(bt[8]+1)/bt[0],Xe=it*K,Ge=it*Je,Ue=He/(-K+Je),at=Ue*-K;if(Ce.matrixWorld.decompose(ne.position,ne.quaternion,ne.scale),ne.translateX(at),ne.translateZ(Ue),ne.matrixWorld.compose(ne.position,ne.quaternion,ne.scale),ne.matrixWorldInverse.copy(ne.matrixWorld).invert(),Ye[10]===-1)ne.projectionMatrix.copy(Ce.projectionMatrix),ne.projectionMatrixInverse.copy(Ce.projectionMatrixInverse);else{const Ve=it+Ue,et=mt+Ue,Ht=Xe-at,$=Ge+(He-at),H=Rt*mt/et*Ve,ge=St*mt/et*Ve;ne.projectionMatrix.makePerspective(Ht,$,H,ge,Ve,et),ne.projectionMatrixInverse.copy(ne.projectionMatrix).invert()}}function ue(ne,Ce){Ce===null?ne.matrixWorld.copy(ne.matrix):ne.matrixWorld.multiplyMatrices(Ce.matrixWorld,ne.matrix),ne.matrixWorldInverse.copy(ne.matrixWorld).invert()}this.updateCamera=function(ne){if(s===null)return;let Ce=ne.near,Oe=ne.far;C.texture!==null&&(C.depthNear>0&&(Ce=C.depthNear),C.depthFar>0&&(Oe=C.depthFar)),O.near=z.near=G.near=Ce,O.far=z.far=G.far=Oe,(W!==O.near||ce!==O.far)&&(s.updateRenderState({depthNear:O.near,depthFar:O.far}),W=O.near,ce=O.far),G.layers.mask=ne.layers.mask|2,z.layers.mask=ne.layers.mask|4,O.layers.mask=G.layers.mask|z.layers.mask;const He=ne.parent,Ye=O.cameras;ue(O,He);for(let bt=0;bt<Ye.length;bt++)ue(Ye[bt],He);Ye.length===2?Y(O,G,z):O.projectionMatrix.copy(G.projectionMatrix),X(ne,O,He)};function X(ne,Ce,Oe){Oe===null?ne.matrix.copy(Ce.matrixWorld):(ne.matrix.copy(Oe.matrixWorld),ne.matrix.invert(),ne.matrix.multiply(Ce.matrixWorld)),ne.matrix.decompose(ne.position,ne.quaternion,ne.scale),ne.updateMatrixWorld(!0),ne.projectionMatrix.copy(Ce.projectionMatrix),ne.projectionMatrixInverse.copy(Ce.projectionMatrixInverse),ne.isPerspectiveCamera&&(ne.fov=pp*2*Math.atan(1/ne.projectionMatrix.elements[5]),ne.zoom=1)}this.getCamera=function(){return O},this.getFoveation=function(){if(!(x===null&&_===null))return h},this.setFoveation=function(ne){h=ne,x!==null&&(x.fixedFoveation=ne),_!==null&&_.fixedFoveation!==void 0&&(_.fixedFoveation=ne)},this.hasDepthSensing=function(){return C.texture!==null},this.getDepthSensingMesh=function(){return C.getMesh(O)};let ie=null;function xe(ne,Ce){if(m=Ce.getViewerPose(p||o),M=Ce,m!==null){const Oe=m.views;_!==null&&(e.setRenderTargetFramebuffer(w,_.framebuffer),e.setRenderTarget(w));let He=!1;Oe.length!==O.cameras.length&&(O.cameras.length=0,He=!0);for(let it=0;it<Oe.length;it++){const mt=Oe[it];let Rt=null;if(_!==null)Rt=_.getViewport(mt);else{const K=y.getViewSubImage(x,mt);Rt=K.viewport,it===0&&(e.setRenderTargetTextures(w,K.colorTexture,K.depthStencilTexture),e.setRenderTarget(w))}let St=U[it];St===void 0&&(St=new Ni,St.layers.enable(it),St.viewport=new mn,U[it]=St),St.matrix.fromArray(mt.transform.matrix),St.matrix.decompose(St.position,St.quaternion,St.scale),St.projectionMatrix.fromArray(mt.projectionMatrix),St.projectionMatrixInverse.copy(St.projectionMatrix).invert(),St.viewport.set(Rt.x,Rt.y,Rt.width,Rt.height),it===0&&(O.matrix.copy(St.matrix),O.matrix.decompose(O.position,O.quaternion,O.scale)),He===!0&&O.cameras.push(St)}const Ye=s.enabledFeatures;if(Ye&&Ye.includes("depth-sensing")&&s.depthUsage=="gpu-optimized"&&y){const it=y.getDepthInformation(Oe[0]);it&&it.isValid&&it.texture&&C.init(e,it,s.renderState)}}for(let Oe=0;Oe<B.length;Oe++){const He=D[Oe],Ye=B[Oe];He!==null&&Ye!==void 0&&Ye.update(He,Ce,p||o)}ie&&ie(ne,Ce),Ce.detectedPlanes&&i.dispatchEvent({type:"planesdetected",data:Ce}),M=null}const _e=new eU;_e.setAnimationLoop(xe),this.setAnimationLoop=function(ne){ie=ne},this.dispose=function(){}}}const Hf=new Pa,CX=new Nt;function RX(n,e){function t(E,S){E.matrixAutoUpdate===!0&&E.updateMatrix(),S.value.copy(E.matrix)}function i(E,S){S.color.getRGB(E.fogColor.value,sN(n)),S.isFog?(E.fogNear.value=S.near,E.fogFar.value=S.far):S.isFogExp2&&(E.fogDensity.value=S.density)}function s(E,S,w,B,D){S.isMeshBasicMaterial||S.isMeshLambertMaterial?r(E,S):S.isMeshToonMaterial?(r(E,S),y(E,S)):S.isMeshPhongMaterial?(r(E,S),m(E,S)):S.isMeshStandardMaterial?(r(E,S),x(E,S),S.isMeshPhysicalMaterial&&_(E,S,D)):S.isMeshMatcapMaterial?(r(E,S),M(E,S)):S.isMeshDepthMaterial?r(E,S):S.isMeshDistanceMaterial?(r(E,S),C(E,S)):S.isMeshNormalMaterial?r(E,S):S.isLineBasicMaterial?(o(E,S),S.isLineDashedMaterial&&u(E,S)):S.isPointsMaterial?h(E,S,w,B):S.isSpriteMaterial?p(E,S):S.isShadowMaterial?(E.color.value.copy(S.color),E.opacity.value=S.opacity):S.isShaderMaterial&&(S.uniformsNeedUpdate=!1)}function r(E,S){E.opacity.value=S.opacity,S.color&&E.diffuse.value.copy(S.color),S.emissive&&E.emissive.value.copy(S.emissive).multiplyScalar(S.emissiveIntensity),S.map&&(E.map.value=S.map,t(S.map,E.mapTransform)),S.alphaMap&&(E.alphaMap.value=S.alphaMap,t(S.alphaMap,E.alphaMapTransform)),S.bumpMap&&(E.bumpMap.value=S.bumpMap,t(S.bumpMap,E.bumpMapTransform),E.bumpScale.value=S.bumpScale,S.side===ga&&(E.bumpScale.value*=-1)),S.normalMap&&(E.normalMap.value=S.normalMap,t(S.normalMap,E.normalMapTransform),E.normalScale.value.copy(S.normalScale),S.side===ga&&E.normalScale.value.negate()),S.displacementMap&&(E.displacementMap.value=S.displacementMap,t(S.displacementMap,E.displacementMapTransform),E.displacementScale.value=S.displacementScale,E.displacementBias.value=S.displacementBias),S.emissiveMap&&(E.emissiveMap.value=S.emissiveMap,t(S.emissiveMap,E.emissiveMapTransform)),S.specularMap&&(E.specularMap.value=S.specularMap,t(S.specularMap,E.specularMapTransform)),S.alphaTest>0&&(E.alphaTest.value=S.alphaTest);const w=e.get(S),B=w.envMap,D=w.envMapRotation;B&&(E.envMap.value=B,Hf.copy(D),Hf.x*=-1,Hf.y*=-1,Hf.z*=-1,B.isCubeTexture&&B.isRenderTargetTexture===!1&&(Hf.y*=-1,Hf.z*=-1),E.envMapRotation.value.setFromMatrix4(CX.makeRotationFromEuler(Hf)),E.flipEnvMap.value=B.isCubeTexture&&B.isRenderTargetTexture===!1?-1:1,E.reflectivity.value=S.reflectivity,E.ior.value=S.ior,E.refractionRatio.value=S.refractionRatio),S.lightMap&&(E.lightMap.value=S.lightMap,E.lightMapIntensity.value=S.lightMapIntensity,t(S.lightMap,E.lightMapTransform)),S.aoMap&&(E.aoMap.value=S.aoMap,E.aoMapIntensity.value=S.aoMapIntensity,t(S.aoMap,E.aoMapTransform))}function o(E,S){E.diffuse.value.copy(S.color),E.opacity.value=S.opacity,S.map&&(E.map.value=S.map,t(S.map,E.mapTransform))}function u(E,S){E.dashSize.value=S.dashSize,E.totalSize.value=S.dashSize+S.gapSize,E.scale.value=S.scale}function h(E,S,w,B){E.diffuse.value.copy(S.color),E.opacity.value=S.opacity,E.size.value=S.size*w,E.scale.value=B*.5,S.map&&(E.map.value=S.map,t(S.map,E.uvTransform)),S.alphaMap&&(E.alphaMap.value=S.alphaMap,t(S.alphaMap,E.alphaMapTransform)),S.alphaTest>0&&(E.alphaTest.value=S.alphaTest)}function p(E,S){E.diffuse.value.copy(S.color),E.opacity.value=S.opacity,E.rotation.value=S.rotation,S.map&&(E.map.value=S.map,t(S.map,E.mapTransform)),S.alphaMap&&(E.alphaMap.value=S.alphaMap,t(S.alphaMap,E.alphaMapTransform)),S.alphaTest>0&&(E.alphaTest.value=S.alphaTest)}function m(E,S){E.specular.value.copy(S.specular),E.shininess.value=Math.max(S.shininess,1e-4)}function y(E,S){S.gradientMap&&(E.gradientMap.value=S.gradientMap)}function x(E,S){E.metalness.value=S.metalness,S.metalnessMap&&(E.metalnessMap.value=S.metalnessMap,t(S.metalnessMap,E.metalnessMapTransform)),E.roughness.value=S.roughness,S.roughnessMap&&(E.roughnessMap.value=S.roughnessMap,t(S.roughnessMap,E.roughnessMapTransform)),S.envMap&&(E.envMapIntensity.value=S.envMapIntensity)}function _(E,S,w){E.ior.value=S.ior,S.sheen>0&&(E.sheenColor.value.copy(S.sheenColor).multiplyScalar(S.sheen),E.sheenRoughness.value=S.sheenRoughness,S.sheenColorMap&&(E.sheenColorMap.value=S.sheenColorMap,t(S.sheenColorMap,E.sheenColorMapTransform)),S.sheenRoughnessMap&&(E.sheenRoughnessMap.value=S.sheenRoughnessMap,t(S.sheenRoughnessMap,E.sheenRoughnessMapTransform))),S.clearcoat>0&&(E.clearcoat.value=S.clearcoat,E.clearcoatRoughness.value=S.clearcoatRoughness,S.clearcoatMap&&(E.clearcoatMap.value=S.clearcoatMap,t(S.clearcoatMap,E.clearcoatMapTransform)),S.clearcoatRoughnessMap&&(E.clearcoatRoughnessMap.value=S.clearcoatRoughnessMap,t(S.clearcoatRoughnessMap,E.clearcoatRoughnessMapTransform)),S.clearcoatNormalMap&&(E.clearcoatNormalMap.value=S.clearcoatNormalMap,t(S.clearcoatNormalMap,E.clearcoatNormalMapTransform),E.clearcoatNormalScale.value.copy(S.clearcoatNormalScale),S.side===ga&&E.clearcoatNormalScale.value.negate())),S.dispersion>0&&(E.dispersion.value=S.dispersion),S.iridescence>0&&(E.iridescence.value=S.iridescence,E.iridescenceIOR.value=S.iridescenceIOR,E.iridescenceThicknessMinimum.value=S.iridescenceThicknessRange[0],E.iridescenceThicknessMaximum.value=S.iridescenceThicknessRange[1],S.iridescenceMap&&(E.iridescenceMap.value=S.iridescenceMap,t(S.iridescenceMap,E.iridescenceMapTransform)),S.iridescenceThicknessMap&&(E.iridescenceThicknessMap.value=S.iridescenceThicknessMap,t(S.iridescenceThicknessMap,E.iridescenceThicknessMapTransform))),S.transmission>0&&(E.transmission.value=S.transmission,E.transmissionSamplerMap.value=w.texture,E.transmissionSamplerSize.value.set(w.width,w.height),S.transmissionMap&&(E.transmissionMap.value=S.transmissionMap,t(S.transmissionMap,E.transmissionMapTransform)),E.thickness.value=S.thickness,S.thicknessMap&&(E.thicknessMap.value=S.thicknessMap,t(S.thicknessMap,E.thicknessMapTransform)),E.attenuationDistance.value=S.attenuationDistance,E.attenuationColor.value.copy(S.attenuationColor)),S.anisotropy>0&&(E.anisotropyVector.value.set(S.anisotropy*Math.cos(S.anisotropyRotation),S.anisotropy*Math.sin(S.anisotropyRotation)),S.anisotropyMap&&(E.anisotropyMap.value=S.anisotropyMap,t(S.anisotropyMap,E.anisotropyMapTransform))),E.specularIntensity.value=S.specularIntensity,E.specularColor.value.copy(S.specularColor),S.specularColorMap&&(E.specularColorMap.value=S.specularColorMap,t(S.specularColorMap,E.specularColorMapTransform)),S.specularIntensityMap&&(E.specularIntensityMap.value=S.specularIntensityMap,t(S.specularIntensityMap,E.specularIntensityMapTransform))}function M(E,S){S.matcap&&(E.matcap.value=S.matcap)}function C(E,S){const w=e.get(S).light;E.referencePosition.value.setFromMatrixPosition(w.matrixWorld),E.nearDistance.value=w.shadow.camera.near,E.farDistance.value=w.shadow.camera.far}return{refreshFogUniforms:i,refreshMaterialUniforms:s}}function wX(n,e,t,i){let s={},r={},o=[];const u=n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS);function h(w,B){const D=B.program;i.uniformBlockBinding(w,D)}function p(w,B){let D=s[w.id];D===void 0&&(M(w),D=m(w),s[w.id]=D,w.addEventListener("dispose",E));const P=B.program;i.updateUBOMapping(w,P);const I=e.render.frame;r[w.id]!==I&&(x(w),r[w.id]=I)}function m(w){const B=y();w.__bindingPointIndex=B;const D=n.createBuffer(),P=w.__size,I=w.usage;return n.bindBuffer(n.UNIFORM_BUFFER,D),n.bufferData(n.UNIFORM_BUFFER,P,I),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,B,D),D}function y(){for(let w=0;w<u;w++)if(o.indexOf(w)===-1)return o.push(w),w;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function x(w){const B=s[w.id],D=w.uniforms,P=w.__cache;n.bindBuffer(n.UNIFORM_BUFFER,B);for(let I=0,G=D.length;I<G;I++){const z=Array.isArray(D[I])?D[I]:[D[I]];for(let U=0,O=z.length;U<O;U++){const W=z[U];if(_(W,I,U,P)===!0){const ce=W.__offset,se=Array.isArray(W.value)?W.value:[W.value];let me=0;for(let fe=0;fe<se.length;fe++){const F=se[fe],q=C(F);typeof F=="number"||typeof F=="boolean"?(W.__data[0]=F,n.bufferSubData(n.UNIFORM_BUFFER,ce+me,W.__data)):F.isMatrix3?(W.__data[0]=F.elements[0],W.__data[1]=F.elements[1],W.__data[2]=F.elements[2],W.__data[3]=0,W.__data[4]=F.elements[3],W.__data[5]=F.elements[4],W.__data[6]=F.elements[5],W.__data[7]=0,W.__data[8]=F.elements[6],W.__data[9]=F.elements[7],W.__data[10]=F.elements[8],W.__data[11]=0):(F.toArray(W.__data,me),me+=q.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,ce,W.__data)}}}n.bindBuffer(n.UNIFORM_BUFFER,null)}function _(w,B,D,P){const I=w.value,G=B+"_"+D;if(P[G]===void 0)return typeof I=="number"||typeof I=="boolean"?P[G]=I:P[G]=I.clone(),!0;{const z=P[G];if(typeof I=="number"||typeof I=="boolean"){if(z!==I)return P[G]=I,!0}else if(z.equals(I)===!1)return z.copy(I),!0}return!1}function M(w){const B=w.uniforms;let D=0;const P=16;for(let G=0,z=B.length;G<z;G++){const U=Array.isArray(B[G])?B[G]:[B[G]];for(let O=0,W=U.length;O<W;O++){const ce=U[O],se=Array.isArray(ce.value)?ce.value:[ce.value];for(let me=0,fe=se.length;me<fe;me++){const F=se[me],q=C(F),Y=D%P,ue=Y%q.boundary,X=Y+ue;D+=ue,X!==0&&P-X<q.storage&&(D+=P-X),ce.__data=new Float32Array(q.storage/Float32Array.BYTES_PER_ELEMENT),ce.__offset=D,D+=q.storage}}}const I=D%P;return I>0&&(D+=P-I),w.__size=D,w.__cache={},this}function C(w){const B={boundary:0,storage:0};return typeof w=="number"||typeof w=="boolean"?(B.boundary=4,B.storage=4):w.isVector2?(B.boundary=8,B.storage=8):w.isVector3||w.isColor?(B.boundary=16,B.storage=12):w.isVector4?(B.boundary=16,B.storage=16):w.isMatrix3?(B.boundary=48,B.storage=48):w.isMatrix4?(B.boundary=64,B.storage=64):w.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",w),B}function E(w){const B=w.target;B.removeEventListener("dispose",E);const D=o.indexOf(B.__bindingPointIndex);o.splice(D,1),n.deleteBuffer(s[B.id]),delete s[B.id],delete r[B.id]}function S(){for(const w in s)n.deleteBuffer(s[w]);o=[],s={},r={}}return{bind:h,update:p,dispose:S}}class rU{constructor(e={}){const{canvas:t=tN(),context:i=null,depth:s=!0,stencil:r=!1,alpha:o=!1,antialias:u=!1,premultipliedAlpha:h=!0,preserveDrawingBuffer:p=!1,powerPreference:m="default",failIfMajorPerformanceCaveat:y=!1,reverseDepthBuffer:x=!1}=e;this.isWebGLRenderer=!0;let _;if(i!==null){if(typeof WebGLRenderingContext<"u"&&i instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");_=i.getContextAttributes().alpha}else _=o;const M=new Uint32Array(4),C=new Int32Array(4);let E=null,S=null;const w=[],B=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=fl,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const D=this;let P=!1;this._outputColorSpace=Xs;let I=0,G=0,z=null,U=-1,O=null;const W=new mn,ce=new mn;let se=null;const me=new nt(0);let fe=0,F=t.width,q=t.height,Y=1,ue=null,X=null;const ie=new mn(0,0,F,q),xe=new mn(0,0,F,q);let _e=!1;const ne=new Dp;let Ce=!1,Oe=!1;const He=new Nt,Ye=new Nt,bt=new Z,it=new mn,mt={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let Rt=!1;function St(){return z===null?Y:1}let K=i;function Je(k,le){return t.getContext(k,le)}try{const k={alpha:!0,depth:s,stencil:r,antialias:u,premultipliedAlpha:h,preserveDrawingBuffer:p,powerPreference:m,failIfMajorPerformanceCaveat:y};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${v0}`),t.addEventListener("webglcontextlost",ht,!1),t.addEventListener("webglcontextrestored",qe,!1),t.addEventListener("webglcontextcreationerror",Ie,!1),K===null){const le="webgl2";if(K=Je(le,k),K===null)throw Je(le)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(k){throw console.error("THREE.WebGLRenderer: "+k.message),k}let Xe,Ge,Ue,at,Ve,et,Ht,$,H,ge,Re,Be,we,rt,$e,dt,gt,Pe,tt,At,Et,Qe,Ot,oe;function st(){Xe=new Gk(K),Xe.init(),Qe=new aU(K,Xe),Ge=new Lk(K,Xe,e,Qe),Ue=new AX(K,Xe),Ge.reverseDepthBuffer&&x&&Ue.buffers.depth.setReversed(!0),at=new Xk(K),Ve=new lX,et=new bX(K,Xe,Ue,Ve,Ge,Qe,at),Ht=new Pk(D),$=new Hk(D),H=new K8(K),Ot=new Nk(K,H),ge=new Vk(K,H,at,Ot),Re=new Yk(K,ge,H,at),tt=new jk(K,Ge,et),dt=new Ok(Ve),Be=new oX(D,Ht,$,Xe,Ge,Ot,dt),we=new RX(D,Ve),rt=new uX,$e=new gX(Xe),Pe=new Dk(D,Ht,$,Ue,Re,_,h),gt=new xX(D,Re,Ge),oe=new wX(K,at,Ge,Ue),At=new Uk(K,Xe,at),Et=new kk(K,Xe,at),at.programs=Be.programs,D.capabilities=Ge,D.extensions=Xe,D.properties=Ve,D.renderLists=rt,D.shadowMap=gt,D.state=Ue,D.info=at}st();const je=new TX(D,K);this.xr=je,this.getContext=function(){return K},this.getContextAttributes=function(){return K.getContextAttributes()},this.forceContextLoss=function(){const k=Xe.get("WEBGL_lose_context");k&&k.loseContext()},this.forceContextRestore=function(){const k=Xe.get("WEBGL_lose_context");k&&k.restoreContext()},this.getPixelRatio=function(){return Y},this.setPixelRatio=function(k){k!==void 0&&(Y=k,this.setSize(F,q,!1))},this.getSize=function(k){return k.set(F,q)},this.setSize=function(k,le,Se=!0){if(je.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}F=k,q=le,t.width=Math.floor(k*Y),t.height=Math.floor(le*Y),Se===!0&&(t.style.width=k+"px",t.style.height=le+"px"),this.setViewport(0,0,k,le)},this.getDrawingBufferSize=function(k){return k.set(F*Y,q*Y).floor()},this.setDrawingBufferSize=function(k,le,Se){F=k,q=le,Y=Se,t.width=Math.floor(k*Se),t.height=Math.floor(le*Se),this.setViewport(0,0,k,le)},this.getCurrentViewport=function(k){return k.copy(W)},this.getViewport=function(k){return k.copy(ie)},this.setViewport=function(k,le,Se,Me){k.isVector4?ie.set(k.x,k.y,k.z,k.w):ie.set(k,le,Se,Me),Ue.viewport(W.copy(ie).multiplyScalar(Y).round())},this.getScissor=function(k){return k.copy(xe)},this.setScissor=function(k,le,Se,Me){k.isVector4?xe.set(k.x,k.y,k.z,k.w):xe.set(k,le,Se,Me),Ue.scissor(ce.copy(xe).multiplyScalar(Y).round())},this.getScissorTest=function(){return _e},this.setScissorTest=function(k){Ue.setScissorTest(_e=k)},this.setOpaqueSort=function(k){ue=k},this.setTransparentSort=function(k){X=k},this.getClearColor=function(k){return k.copy(Pe.getClearColor())},this.setClearColor=function(){Pe.setClearColor(...arguments)},this.getClearAlpha=function(){return Pe.getClearAlpha()},this.setClearAlpha=function(){Pe.setClearAlpha(...arguments)},this.clear=function(k=!0,le=!0,Se=!0){let Me=0;if(k){let de=!1;if(z!==null){const ke=z.texture.format;de=ke===k_||ke===V_||ke===_0}if(de){const ke=z.texture.type,Ze=ke===Or||ke===uc||ke===lp||ke===cp||ke===z_||ke===H_,ct=Pe.getClearColor(),ut=Pe.getClearAlpha(),Ut=ct.r,wt=ct.g,Mt=ct.b;Ze?(M[0]=Ut,M[1]=wt,M[2]=Mt,M[3]=ut,K.clearBufferuiv(K.COLOR,0,M)):(C[0]=Ut,C[1]=wt,C[2]=Mt,C[3]=ut,K.clearBufferiv(K.COLOR,0,C))}else Me|=K.COLOR_BUFFER_BIT}le&&(Me|=K.DEPTH_BUFFER_BIT),Se&&(Me|=K.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),K.clear(Me)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",ht,!1),t.removeEventListener("webglcontextrestored",qe,!1),t.removeEventListener("webglcontextcreationerror",Ie,!1),Pe.dispose(),rt.dispose(),$e.dispose(),Ve.dispose(),Ht.dispose(),$.dispose(),Re.dispose(),Ot.dispose(),oe.dispose(),Be.dispose(),je.dispose(),je.removeEventListener("sessionstart",gi),je.removeEventListener("sessionend",Ei),rs.stop()};function ht(k){k.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),P=!0}function qe(){console.log("THREE.WebGLRenderer: Context Restored."),P=!1;const k=at.autoReset,le=gt.enabled,Se=gt.autoUpdate,Me=gt.needsUpdate,de=gt.type;st(),at.autoReset=k,gt.enabled=le,gt.autoUpdate=Se,gt.needsUpdate=Me,gt.type=de}function Ie(k){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",k.statusMessage)}function pt(k){const le=k.target;le.removeEventListener("dispose",pt),Pt(le)}function Pt(k){xn(k),Ve.remove(k)}function xn(k){const le=Ve.get(k).programs;le!==void 0&&(le.forEach(function(Se){Be.releaseProgram(Se)}),k.isShaderMaterial&&Be.releaseShaderCache(k))}this.renderBufferDirect=function(k,le,Se,Me,de,ke){le===null&&(le=mt);const Ze=de.isMesh&&de.matrixWorld.determinant()<0,ct=Mo(k,le,Se,Me,de);Ue.setMaterial(Me,Ze);let ut=Se.index,Ut=1;if(Me.wireframe===!0){if(ut=ge.getWireframeAttribute(Se),ut===void 0)return;Ut=2}const wt=Se.drawRange,Mt=Se.attributes.position;let $t=wt.start*Ut,Sn=(wt.start+wt.count)*Ut;ke!==null&&($t=Math.max($t,ke.start*Ut),Sn=Math.min(Sn,(ke.start+ke.count)*Ut)),ut!==null?($t=Math.max($t,0),Sn=Math.min(Sn,ut.count)):Mt!=null&&($t=Math.max($t,0),Sn=Math.min(Sn,Mt.count));const In=Sn-$t;if(In<0||In===1/0)return;Ot.setup(de,Me,ct,Se,ut);let rn,cn=At;if(ut!==null&&(rn=H.get(ut),cn=Et,cn.setIndex(rn)),de.isMesh)Me.wireframe===!0?(Ue.setLineWidth(Me.wireframeLinewidth*St()),cn.setMode(K.LINES)):cn.setMode(K.TRIANGLES);else if(de.isLine){let Bt=Me.linewidth;Bt===void 0&&(Bt=1),Ue.setLineWidth(Bt*St()),de.isLineSegments?cn.setMode(K.LINES):de.isLineLoop?cn.setMode(K.LINE_LOOP):cn.setMode(K.LINE_STRIP)}else de.isPoints?cn.setMode(K.POINTS):de.isSprite&&cn.setMode(K.TRIANGLES);if(de.isBatchedMesh)if(de._multiDrawInstances!==null)ep("THREE.WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),cn.renderMultiDrawInstances(de._multiDrawStarts,de._multiDrawCounts,de._multiDrawCount,de._multiDrawInstances);else if(Xe.get("WEBGL_multi_draw"))cn.renderMultiDraw(de._multiDrawStarts,de._multiDrawCounts,de._multiDrawCount);else{const Bt=de._multiDrawStarts,$n=de._multiDrawCounts,yn=de._multiDrawCount,ji=ut?H.get(ut).bytesPerElement:1,rr=Ve.get(Me).currentProgram.getUniforms();for(let Fn=0;Fn<yn;Fn++)rr.setValue(K,"_gl_DrawID",Fn),cn.render(Bt[Fn]/ji,$n[Fn])}else if(de.isInstancedMesh)cn.renderInstances($t,In,de.count);else if(Se.isInstancedBufferGeometry){const Bt=Se._maxInstanceCount!==void 0?Se._maxInstanceCount:1/0,$n=Math.min(Se.instanceCount,Bt);cn.renderInstances($t,In,$n)}else cn.render($t,In)};function hn(k,le,Se){k.transparent===!0&&k.side===Nr&&k.forceSinglePass===!1?(k.side=ga,k.needsUpdate=!0,Ln(k,le,Se),k.side=pl,k.needsUpdate=!0,Ln(k,le,Se),k.side=Nr):Ln(k,le,Se)}this.compile=function(k,le,Se=null){Se===null&&(Se=k),S=$e.get(Se),S.init(le),B.push(S),Se.traverseVisible(function(de){de.isLight&&de.layers.test(le.layers)&&(S.pushLight(de),de.castShadow&&S.pushShadow(de))}),k!==Se&&k.traverseVisible(function(de){de.isLight&&de.layers.test(le.layers)&&(S.pushLight(de),de.castShadow&&S.pushShadow(de))}),S.setupLights();const Me=new Set;return k.traverse(function(de){if(!(de.isMesh||de.isPoints||de.isLine||de.isSprite))return;const ke=de.material;if(ke)if(Array.isArray(ke))for(let Ze=0;Ze<ke.length;Ze++){const ct=ke[Ze];hn(ct,Se,de),Me.add(ct)}else hn(ke,Se,de),Me.add(ke)}),S=B.pop(),Me},this.compileAsync=function(k,le,Se=null){const Me=this.compile(k,le,Se);return new Promise(de=>{function ke(){if(Me.forEach(function(Ze){Ve.get(Ze).currentProgram.isReady()&&Me.delete(Ze)}),Me.size===0){de(k);return}setTimeout(ke,10)}Xe.get("KHR_parallel_shader_compile")!==null?ke():setTimeout(ke,10)})};let Bs=null;function Mi(k){Bs&&Bs(k)}function gi(){rs.stop()}function Ei(){rs.start()}const rs=new eU;rs.setAnimationLoop(Mi),typeof self<"u"&&rs.setContext(self),this.setAnimationLoop=function(k){Bs=k,je.setAnimationLoop(k),k===null?rs.stop():rs.start()},je.addEventListener("sessionstart",gi),je.addEventListener("sessionend",Ei),this.render=function(k,le){if(le!==void 0&&le.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(P===!0)return;if(k.matrixWorldAutoUpdate===!0&&k.updateMatrixWorld(),le.parent===null&&le.matrixWorldAutoUpdate===!0&&le.updateMatrixWorld(),je.enabled===!0&&je.isPresenting===!0&&(je.cameraAutoUpdate===!0&&je.updateCamera(le),le=je.getCamera()),k.isScene===!0&&k.onBeforeRender(D,k,le,z),S=$e.get(k,B.length),S.init(le),B.push(S),Ye.multiplyMatrices(le.projectionMatrix,le.matrixWorldInverse),ne.setFromProjectionMatrix(Ye),Oe=this.localClippingEnabled,Ce=dt.init(this.clippingPlanes,Oe),E=rt.get(k,w.length),E.init(),w.push(E),je.enabled===!0&&je.isPresenting===!0){const ke=D.xr.getDepthSensingMesh();ke!==null&&Ds(ke,le,-1/0,D.sortObjects)}Ds(k,le,0,D.sortObjects),E.finish(),D.sortObjects===!0&&E.sort(ue,X),Rt=je.enabled===!1||je.isPresenting===!1||je.hasDepthSensing()===!1,Rt&&Pe.addToRenderList(E,k),this.info.render.frame++,Ce===!0&&dt.beginShadows();const Se=S.state.shadowsArray;gt.render(Se,k,le),Ce===!0&&dt.endShadows(),this.info.autoReset===!0&&this.info.reset();const Me=E.opaque,de=E.transmissive;if(S.setupLights(),le.isArrayCamera){const ke=le.cameras;if(de.length>0)for(let Ze=0,ct=ke.length;Ze<ct;Ze++){const ut=ke[Ze];Ia(Me,de,k,ut)}Rt&&Pe.render(k);for(let Ze=0,ct=ke.length;Ze<ct;Ze++){const ut=ke[Ze];Nu(E,k,ut,ut.viewport)}}else de.length>0&&Ia(Me,de,k,le),Rt&&Pe.render(k),Nu(E,k,le);z!==null&&G===0&&(et.updateMultisampleRenderTarget(z),et.updateRenderTargetMipmap(z)),k.isScene===!0&&k.onAfterRender(D,k,le),Ot.resetDefaultState(),U=-1,O=null,B.pop(),B.length>0?(S=B[B.length-1],Ce===!0&&dt.setGlobalState(D.clippingPlanes,S.state.camera)):S=null,w.pop(),w.length>0?E=w[w.length-1]:E=null};function Ds(k,le,Se,Me){if(k.visible===!1)return;if(k.layers.test(le.layers)){if(k.isGroup)Se=k.renderOrder;else if(k.isLOD)k.autoUpdate===!0&&k.update(le);else if(k.isLight)S.pushLight(k),k.castShadow&&S.pushShadow(k);else if(k.isSprite){if(!k.frustumCulled||ne.intersectsSprite(k)){Me&&it.setFromMatrixPosition(k.matrixWorld).applyMatrix4(Ye);const Ze=Re.update(k),ct=k.material;ct.visible&&E.push(k,Ze,ct,Se,it.z,null)}}else if((k.isMesh||k.isLine||k.isPoints)&&(!k.frustumCulled||ne.intersectsObject(k))){const Ze=Re.update(k),ct=k.material;if(Me&&(k.boundingSphere!==void 0?(k.boundingSphere===null&&k.computeBoundingSphere(),it.copy(k.boundingSphere.center)):(Ze.boundingSphere===null&&Ze.computeBoundingSphere(),it.copy(Ze.boundingSphere.center)),it.applyMatrix4(k.matrixWorld).applyMatrix4(Ye)),Array.isArray(ct)){const ut=Ze.groups;for(let Ut=0,wt=ut.length;Ut<wt;Ut++){const Mt=ut[Ut],$t=ct[Mt.materialIndex];$t&&$t.visible&&E.push(k,Ze,$t,Se,it.z,Mt)}}else ct.visible&&E.push(k,Ze,ct,Se,it.z,null)}}const ke=k.children;for(let Ze=0,ct=ke.length;Ze<ct;Ze++)Ds(ke[Ze],le,Se,Me)}function Nu(k,le,Se,Me){const de=k.opaque,ke=k.transmissive,Ze=k.transparent;S.setupLightsView(Se),Ce===!0&&dt.setGlobalState(D.clippingPlanes,Se),Me&&Ue.viewport(W.copy(Me)),de.length>0&&ys(de,le,Se),ke.length>0&&ys(ke,le,Se),Ze.length>0&&ys(Ze,le,Se),Ue.buffers.depth.setTest(!0),Ue.buffers.depth.setMask(!0),Ue.buffers.color.setMask(!0),Ue.setPolygonOffset(!1)}function Ia(k,le,Se,Me){if((Se.isScene===!0?Se.overrideMaterial:null)!==null)return;S.state.transmissionRenderTarget[Me.id]===void 0&&(S.state.transmissionRenderTarget[Me.id]=new ml(1,1,{generateMipmaps:!0,type:Xe.has("EXT_color_buffer_half_float")||Xe.has("EXT_color_buffer_float")?wp:Or,minFilter:Ur,samples:4,stencilBuffer:r,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:bn.workingColorSpace}));const ke=S.state.transmissionRenderTarget[Me.id],Ze=Me.viewport||W;ke.setSize(Ze.z*D.transmissionResolutionScale,Ze.w*D.transmissionResolutionScale);const ct=D.getRenderTarget();D.setRenderTarget(ke),D.getClearColor(me),fe=D.getClearAlpha(),fe<1&&D.setClearColor(16777215,.5),D.clear(),Rt&&Pe.render(Se);const ut=D.toneMapping;D.toneMapping=fl;const Ut=Me.viewport;if(Me.viewport!==void 0&&(Me.viewport=void 0),S.setupLightsView(Me),Ce===!0&&dt.setGlobalState(D.clippingPlanes,Me),ys(k,Se,Me),et.updateMultisampleRenderTarget(ke),et.updateRenderTargetMipmap(ke),Xe.has("WEBGL_multisampled_render_to_texture")===!1){let wt=!1;for(let Mt=0,$t=le.length;Mt<$t;Mt++){const Sn=le[Mt],In=Sn.object,rn=Sn.geometry,cn=Sn.material,Bt=Sn.group;if(cn.side===Nr&&In.layers.test(Me.layers)){const $n=cn.side;cn.side=ga,cn.needsUpdate=!0,Fa(In,Se,Me,rn,cn,Bt),cn.side=$n,cn.needsUpdate=!0,wt=!0}}wt===!0&&(et.updateMultisampleRenderTarget(ke),et.updateRenderTargetMipmap(ke))}D.setRenderTarget(ct),D.setClearColor(me,fe),Ut!==void 0&&(Me.viewport=Ut),D.toneMapping=ut}function ys(k,le,Se){const Me=le.isScene===!0?le.overrideMaterial:null;for(let de=0,ke=k.length;de<ke;de++){const Ze=k[de],ct=Ze.object,ut=Ze.geometry,Ut=Ze.group;let wt=Ze.material;wt.allowOverride===!0&&Me!==null&&(wt=Me),ct.layers.test(Se.layers)&&Fa(ct,le,Se,ut,wt,Ut)}}function Fa(k,le,Se,Me,de,ke){k.onBeforeRender(D,le,Se,Me,de,ke),k.modelViewMatrix.multiplyMatrices(Se.matrixWorldInverse,k.matrixWorld),k.normalMatrix.getNormalMatrix(k.modelViewMatrix),de.onBeforeRender(D,le,Se,Me,k,ke),de.transparent===!0&&de.side===Nr&&de.forceSinglePass===!1?(de.side=ga,de.needsUpdate=!0,D.renderBufferDirect(Se,le,Me,de,k,ke),de.side=pl,de.needsUpdate=!0,D.renderBufferDirect(Se,le,Me,de,k,ke),de.side=Nr):D.renderBufferDirect(Se,le,Me,de,k,ke),k.onAfterRender(D,le,Se,Me,de,ke)}function Ln(k,le,Se){le.isScene!==!0&&(le=mt);const Me=Ve.get(k),de=S.state.lights,ke=S.state.shadowsArray,Ze=de.state.version,ct=Be.getParameters(k,de.state,ke,le,Se),ut=Be.getProgramCacheKey(ct);let Ut=Me.programs;Me.environment=k.isMeshStandardMaterial?le.environment:null,Me.fog=le.fog,Me.envMap=(k.isMeshStandardMaterial?$:Ht).get(k.envMap||Me.environment),Me.envMapRotation=Me.environment!==null&&k.envMap===null?le.environmentRotation:k.envMapRotation,Ut===void 0&&(k.addEventListener("dispose",pt),Ut=new Map,Me.programs=Ut);let wt=Ut.get(ut);if(wt!==void 0){if(Me.currentProgram===wt&&Me.lightsStateVersion===Ze)return Ha(k,ct),wt}else ct.uniforms=Be.getUniforms(k),k.onBeforeCompile(ct,D),wt=Be.acquireProgram(ct,ut),Ut.set(ut,wt),Me.uniforms=ct.uniforms;const Mt=Me.uniforms;return(!k.isShaderMaterial&&!k.isRawShaderMaterial||k.clipping===!0)&&(Mt.clippingPlanes=dt.uniform),Ha(k,ct),Me.needsLights=yi(k),Me.lightsStateVersion=Ze,Me.needsLights&&(Mt.ambientLightColor.value=de.state.ambient,Mt.lightProbe.value=de.state.probe,Mt.directionalLights.value=de.state.directional,Mt.directionalLightShadows.value=de.state.directionalShadow,Mt.spotLights.value=de.state.spot,Mt.spotLightShadows.value=de.state.spotShadow,Mt.rectAreaLights.value=de.state.rectArea,Mt.ltc_1.value=de.state.rectAreaLTC1,Mt.ltc_2.value=de.state.rectAreaLTC2,Mt.pointLights.value=de.state.point,Mt.pointLightShadows.value=de.state.pointShadow,Mt.hemisphereLights.value=de.state.hemi,Mt.directionalShadowMap.value=de.state.directionalShadowMap,Mt.directionalShadowMatrix.value=de.state.directionalShadowMatrix,Mt.spotShadowMap.value=de.state.spotShadowMap,Mt.spotLightMatrix.value=de.state.spotLightMatrix,Mt.spotLightMap.value=de.state.spotLightMap,Mt.pointShadowMap.value=de.state.pointShadowMap,Mt.pointShadowMatrix.value=de.state.pointShadowMatrix),Me.currentProgram=wt,Me.uniformsList=null,wt}function za(k){if(k.uniformsList===null){const le=k.currentProgram.getUniforms();k.uniformsList=Sx.seqWithValue(le.seq,k.uniforms)}return k.uniformsList}function Ha(k,le){const Se=Ve.get(k);Se.outputColorSpace=le.outputColorSpace,Se.batching=le.batching,Se.batchingColor=le.batchingColor,Se.instancing=le.instancing,Se.instancingColor=le.instancingColor,Se.instancingMorph=le.instancingMorph,Se.skinning=le.skinning,Se.morphTargets=le.morphTargets,Se.morphNormals=le.morphNormals,Se.morphColors=le.morphColors,Se.morphTargetsCount=le.morphTargetsCount,Se.numClippingPlanes=le.numClippingPlanes,Se.numIntersection=le.numClipIntersection,Se.vertexAlphas=le.vertexAlphas,Se.vertexTangents=le.vertexTangents,Se.toneMapping=le.toneMapping}function Mo(k,le,Se,Me,de){le.isScene!==!0&&(le=mt),et.resetTextureUnits();const ke=le.fog,Ze=Me.isMeshStandardMaterial?le.environment:null,ct=z===null?D.outputColorSpace:z.isXRRenderTarget===!0?z.texture.colorSpace:Eu,ut=(Me.isMeshStandardMaterial?$:Ht).get(Me.envMap||Ze),Ut=Me.vertexColors===!0&&!!Se.attributes.color&&Se.attributes.color.itemSize===4,wt=!!Se.attributes.tangent&&(!!Me.normalMap||Me.anisotropy>0),Mt=!!Se.morphAttributes.position,$t=!!Se.morphAttributes.normal,Sn=!!Se.morphAttributes.color;let In=fl;Me.toneMapped&&(z===null||z.isXRRenderTarget===!0)&&(In=D.toneMapping);const rn=Se.morphAttributes.position||Se.morphAttributes.normal||Se.morphAttributes.color,cn=rn!==void 0?rn.length:0,Bt=Ve.get(Me),$n=S.state.lights;if(Ce===!0&&(Oe===!0||k!==O)){const Pi=k===O&&Me.id===U;dt.setState(Me,k,Pi)}let yn=!1;Me.version===Bt.__version?(Bt.needsLights&&Bt.lightsStateVersion!==$n.state.version||Bt.outputColorSpace!==ct||de.isBatchedMesh&&Bt.batching===!1||!de.isBatchedMesh&&Bt.batching===!0||de.isBatchedMesh&&Bt.batchingColor===!0&&de.colorTexture===null||de.isBatchedMesh&&Bt.batchingColor===!1&&de.colorTexture!==null||de.isInstancedMesh&&Bt.instancing===!1||!de.isInstancedMesh&&Bt.instancing===!0||de.isSkinnedMesh&&Bt.skinning===!1||!de.isSkinnedMesh&&Bt.skinning===!0||de.isInstancedMesh&&Bt.instancingColor===!0&&de.instanceColor===null||de.isInstancedMesh&&Bt.instancingColor===!1&&de.instanceColor!==null||de.isInstancedMesh&&Bt.instancingMorph===!0&&de.morphTexture===null||de.isInstancedMesh&&Bt.instancingMorph===!1&&de.morphTexture!==null||Bt.envMap!==ut||Me.fog===!0&&Bt.fog!==ke||Bt.numClippingPlanes!==void 0&&(Bt.numClippingPlanes!==dt.numPlanes||Bt.numIntersection!==dt.numIntersection)||Bt.vertexAlphas!==Ut||Bt.vertexTangents!==wt||Bt.morphTargets!==Mt||Bt.morphNormals!==$t||Bt.morphColors!==Sn||Bt.toneMapping!==In||Bt.morphTargetsCount!==cn)&&(yn=!0):(yn=!0,Bt.__version=Me.version);let ji=Bt.currentProgram;yn===!0&&(ji=Ln(Me,le,de));let rr=!1,Fn=!1,or=!1;const On=ji.getUniforms(),Yi=Bt.uniforms;if(Ue.useProgram(ji.program)&&(rr=!0,Fn=!0,or=!0),Me.id!==U&&(U=Me.id,Fn=!0),rr||O!==k){Ue.buffers.depth.getReversed()?(He.copy(k.projectionMatrix),AV(He),bV(He),On.setValue(K,"projectionMatrix",He)):On.setValue(K,"projectionMatrix",k.projectionMatrix),On.setValue(K,"viewMatrix",k.matrixWorldInverse);const Ii=On.map.cameraPosition;Ii!==void 0&&Ii.setValue(K,bt.setFromMatrixPosition(k.matrixWorld)),Ge.logarithmicDepthBuffer&&On.setValue(K,"logDepthBufFC",2/(Math.log(k.far+1)/Math.LN2)),(Me.isMeshPhongMaterial||Me.isMeshToonMaterial||Me.isMeshLambertMaterial||Me.isMeshBasicMaterial||Me.isMeshStandardMaterial||Me.isShaderMaterial)&&On.setValue(K,"isOrthographic",k.isOrthographicCamera===!0),O!==k&&(O=k,Fn=!0,or=!0)}if(de.isSkinnedMesh){On.setOptional(K,de,"bindMatrix"),On.setOptional(K,de,"bindMatrixInverse");const Pi=de.skeleton;Pi&&(Pi.boneTexture===null&&Pi.computeBoneTexture(),On.setValue(K,"boneTexture",Pi.boneTexture,et))}de.isBatchedMesh&&(On.setOptional(K,de,"batchingTexture"),On.setValue(K,"batchingTexture",de._matricesTexture,et),On.setOptional(K,de,"batchingIdTexture"),On.setValue(K,"batchingIdTexture",de._indirectTexture,et),On.setOptional(K,de,"batchingColorTexture"),de._colorsTexture!==null&&On.setValue(K,"batchingColorTexture",de._colorsTexture,et));const vi=Se.morphAttributes;if((vi.position!==void 0||vi.normal!==void 0||vi.color!==void 0)&&tt.update(de,Se,ji),(Fn||Bt.receiveShadow!==de.receiveShadow)&&(Bt.receiveShadow=de.receiveShadow,On.setValue(K,"receiveShadow",de.receiveShadow)),Me.isMeshGouraudMaterial&&Me.envMap!==null&&(Yi.envMap.value=ut,Yi.flipEnvMap.value=ut.isCubeTexture&&ut.isRenderTargetTexture===!1?-1:1),Me.isMeshStandardMaterial&&Me.envMap===null&&le.environment!==null&&(Yi.envMapIntensity.value=le.environmentIntensity),Fn&&(On.setValue(K,"toneMappingExposure",D.toneMappingExposure),Bt.needsLights&&Fr(Yi,or),ke&&Me.fog===!0&&we.refreshFogUniforms(Yi,ke),we.refreshMaterialUniforms(Yi,Me,Y,q,S.state.transmissionRenderTarget[k.id]),Sx.upload(K,za(Bt),Yi,et)),Me.isShaderMaterial&&Me.uniformsNeedUpdate===!0&&(Sx.upload(K,za(Bt),Yi,et),Me.uniformsNeedUpdate=!1),Me.isSpriteMaterial&&On.setValue(K,"center",de.center),On.setValue(K,"modelViewMatrix",de.modelViewMatrix),On.setValue(K,"normalMatrix",de.normalMatrix),On.setValue(K,"modelMatrix",de.matrixWorld),Me.isShaderMaterial||Me.isRawShaderMaterial){const Pi=Me.uniformsGroups;for(let Ii=0,vs=Pi.length;Ii<vs;Ii++){const lr=Pi[Ii];oe.update(lr,ji),oe.bind(lr,ji)}}return ji}function Fr(k,le){k.ambientLightColor.needsUpdate=le,k.lightProbe.needsUpdate=le,k.directionalLights.needsUpdate=le,k.directionalLightShadows.needsUpdate=le,k.pointLights.needsUpdate=le,k.pointLightShadows.needsUpdate=le,k.spotLights.needsUpdate=le,k.spotLightShadows.needsUpdate=le,k.rectAreaLights.needsUpdate=le,k.hemisphereLights.needsUpdate=le}function yi(k){return k.isMeshLambertMaterial||k.isMeshToonMaterial||k.isMeshPhongMaterial||k.isMeshStandardMaterial||k.isShadowMaterial||k.isShaderMaterial&&k.lights===!0}this.getActiveCubeFace=function(){return I},this.getActiveMipmapLevel=function(){return G},this.getRenderTarget=function(){return z},this.setRenderTargetTextures=function(k,le,Se){const Me=Ve.get(k);Me.__autoAllocateDepthBuffer=k.resolveDepthBuffer===!1,Me.__autoAllocateDepthBuffer===!1&&(Me.__useRenderToTexture=!1),Ve.get(k.texture).__webglTexture=le,Ve.get(k.depthTexture).__webglTexture=Me.__autoAllocateDepthBuffer?void 0:Se,Me.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(k,le){const Se=Ve.get(k);Se.__webglFramebuffer=le,Se.__useDefaultFramebuffer=le===void 0};const dc=K.createFramebuffer();this.setRenderTarget=function(k,le=0,Se=0){z=k,I=le,G=Se;let Me=!0,de=null,ke=!1,Ze=!1;if(k){const ut=Ve.get(k);if(ut.__useDefaultFramebuffer!==void 0)Ue.bindFramebuffer(K.FRAMEBUFFER,null),Me=!1;else if(ut.__webglFramebuffer===void 0)et.setupRenderTarget(k);else if(ut.__hasExternalTextures)et.rebindTextures(k,Ve.get(k.texture).__webglTexture,Ve.get(k.depthTexture).__webglTexture);else if(k.depthBuffer){const Mt=k.depthTexture;if(ut.__boundDepthTexture!==Mt){if(Mt!==null&&Ve.has(Mt)&&(k.width!==Mt.image.width||k.height!==Mt.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");et.setupDepthRenderbuffer(k)}}const Ut=k.texture;(Ut.isData3DTexture||Ut.isDataArrayTexture||Ut.isCompressedArrayTexture)&&(Ze=!0);const wt=Ve.get(k).__webglFramebuffer;k.isWebGLCubeRenderTarget?(Array.isArray(wt[le])?de=wt[le][Se]:de=wt[le],ke=!0):k.samples>0&&et.useMultisampledRTT(k)===!1?de=Ve.get(k).__webglMultisampledFramebuffer:Array.isArray(wt)?de=wt[Se]:de=wt,W.copy(k.viewport),ce.copy(k.scissor),se=k.scissorTest}else W.copy(ie).multiplyScalar(Y).floor(),ce.copy(xe).multiplyScalar(Y).floor(),se=_e;if(Se!==0&&(de=dc),Ue.bindFramebuffer(K.FRAMEBUFFER,de)&&Me&&Ue.drawBuffers(k,de),Ue.viewport(W),Ue.scissor(ce),Ue.setScissorTest(se),ke){const ut=Ve.get(k.texture);K.framebufferTexture2D(K.FRAMEBUFFER,K.COLOR_ATTACHMENT0,K.TEXTURE_CUBE_MAP_POSITIVE_X+le,ut.__webglTexture,Se)}else if(Ze){const ut=Ve.get(k.texture),Ut=le;K.framebufferTextureLayer(K.FRAMEBUFFER,K.COLOR_ATTACHMENT0,ut.__webglTexture,Se,Ut)}else if(k!==null&&Se!==0){const ut=Ve.get(k.texture);K.framebufferTexture2D(K.FRAMEBUFFER,K.COLOR_ATTACHMENT0,K.TEXTURE_2D,ut.__webglTexture,Se)}U=-1},this.readRenderTargetPixels=function(k,le,Se,Me,de,ke,Ze,ct=0){if(!(k&&k.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let ut=Ve.get(k).__webglFramebuffer;if(k.isWebGLCubeRenderTarget&&Ze!==void 0&&(ut=ut[Ze]),ut){Ue.bindFramebuffer(K.FRAMEBUFFER,ut);try{const Ut=k.textures[ct],wt=Ut.format,Mt=Ut.type;if(!Ge.textureFormatReadable(wt)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!Ge.textureTypeReadable(Mt)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}le>=0&&le<=k.width-Me&&Se>=0&&Se<=k.height-de&&(k.textures.length>1&&K.readBuffer(K.COLOR_ATTACHMENT0+ct),K.readPixels(le,Se,Me,de,Qe.convert(wt),Qe.convert(Mt),ke))}finally{const Ut=z!==null?Ve.get(z).__webglFramebuffer:null;Ue.bindFramebuffer(K.FRAMEBUFFER,Ut)}}},this.readRenderTargetPixelsAsync=async function(k,le,Se,Me,de,ke,Ze,ct=0){if(!(k&&k.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let ut=Ve.get(k).__webglFramebuffer;if(k.isWebGLCubeRenderTarget&&Ze!==void 0&&(ut=ut[Ze]),ut)if(le>=0&&le<=k.width-Me&&Se>=0&&Se<=k.height-de){Ue.bindFramebuffer(K.FRAMEBUFFER,ut);const Ut=k.textures[ct],wt=Ut.format,Mt=Ut.type;if(!Ge.textureFormatReadable(wt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!Ge.textureTypeReadable(Mt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");const $t=K.createBuffer();K.bindBuffer(K.PIXEL_PACK_BUFFER,$t),K.bufferData(K.PIXEL_PACK_BUFFER,ke.byteLength,K.STREAM_READ),k.textures.length>1&&K.readBuffer(K.COLOR_ATTACHMENT0+ct),K.readPixels(le,Se,Me,de,Qe.convert(wt),Qe.convert(Mt),0);const Sn=z!==null?Ve.get(z).__webglFramebuffer:null;Ue.bindFramebuffer(K.FRAMEBUFFER,Sn);const In=K.fenceSync(K.SYNC_GPU_COMMANDS_COMPLETE,0);return K.flush(),await _V(K,In,4),K.bindBuffer(K.PIXEL_PACK_BUFFER,$t),K.getBufferSubData(K.PIXEL_PACK_BUFFER,0,ke),K.deleteBuffer($t),K.deleteSync(In),ke}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")},this.copyFramebufferToTexture=function(k,le=null,Se=0){const Me=Math.pow(2,-Se),de=Math.floor(k.image.width*Me),ke=Math.floor(k.image.height*Me),Ze=le!==null?le.x:0,ct=le!==null?le.y:0;et.setTexture2D(k,0),K.copyTexSubImage2D(K.TEXTURE_2D,Se,0,0,Ze,ct,de,ke),Ue.unbindTexture()};const pc=K.createFramebuffer(),Ga=K.createFramebuffer();this.copyTextureToTexture=function(k,le,Se=null,Me=null,de=0,ke=null){ke===null&&(de!==0?(ep("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),ke=de,de=0):ke=0);let Ze,ct,ut,Ut,wt,Mt,$t,Sn,In;const rn=k.isCompressedTexture?k.mipmaps[ke]:k.image;if(Se!==null)Ze=Se.max.x-Se.min.x,ct=Se.max.y-Se.min.y,ut=Se.isBox3?Se.max.z-Se.min.z:1,Ut=Se.min.x,wt=Se.min.y,Mt=Se.isBox3?Se.min.z:0;else{const vi=Math.pow(2,-de);Ze=Math.floor(rn.width*vi),ct=Math.floor(rn.height*vi),k.isDataArrayTexture?ut=rn.depth:k.isData3DTexture?ut=Math.floor(rn.depth*vi):ut=1,Ut=0,wt=0,Mt=0}Me!==null?($t=Me.x,Sn=Me.y,In=Me.z):($t=0,Sn=0,In=0);const cn=Qe.convert(le.format),Bt=Qe.convert(le.type);let $n;le.isData3DTexture?(et.setTexture3D(le,0),$n=K.TEXTURE_3D):le.isDataArrayTexture||le.isCompressedArrayTexture?(et.setTexture2DArray(le,0),$n=K.TEXTURE_2D_ARRAY):(et.setTexture2D(le,0),$n=K.TEXTURE_2D),K.pixelStorei(K.UNPACK_FLIP_Y_WEBGL,le.flipY),K.pixelStorei(K.UNPACK_PREMULTIPLY_ALPHA_WEBGL,le.premultiplyAlpha),K.pixelStorei(K.UNPACK_ALIGNMENT,le.unpackAlignment);const yn=K.getParameter(K.UNPACK_ROW_LENGTH),ji=K.getParameter(K.UNPACK_IMAGE_HEIGHT),rr=K.getParameter(K.UNPACK_SKIP_PIXELS),Fn=K.getParameter(K.UNPACK_SKIP_ROWS),or=K.getParameter(K.UNPACK_SKIP_IMAGES);K.pixelStorei(K.UNPACK_ROW_LENGTH,rn.width),K.pixelStorei(K.UNPACK_IMAGE_HEIGHT,rn.height),K.pixelStorei(K.UNPACK_SKIP_PIXELS,Ut),K.pixelStorei(K.UNPACK_SKIP_ROWS,wt),K.pixelStorei(K.UNPACK_SKIP_IMAGES,Mt);const On=k.isDataArrayTexture||k.isData3DTexture,Yi=le.isDataArrayTexture||le.isData3DTexture;if(k.isDepthTexture){const vi=Ve.get(k),Pi=Ve.get(le),Ii=Ve.get(vi.__renderTarget),vs=Ve.get(Pi.__renderTarget);Ue.bindFramebuffer(K.READ_FRAMEBUFFER,Ii.__webglFramebuffer),Ue.bindFramebuffer(K.DRAW_FRAMEBUFFER,vs.__webglFramebuffer);for(let lr=0;lr<ut;lr++)On&&(K.framebufferTextureLayer(K.READ_FRAMEBUFFER,K.COLOR_ATTACHMENT0,Ve.get(k).__webglTexture,de,Mt+lr),K.framebufferTextureLayer(K.DRAW_FRAMEBUFFER,K.COLOR_ATTACHMENT0,Ve.get(le).__webglTexture,ke,In+lr)),K.blitFramebuffer(Ut,wt,Ze,ct,$t,Sn,Ze,ct,K.DEPTH_BUFFER_BIT,K.NEAREST);Ue.bindFramebuffer(K.READ_FRAMEBUFFER,null),Ue.bindFramebuffer(K.DRAW_FRAMEBUFFER,null)}else if(de!==0||k.isRenderTargetTexture||Ve.has(k)){const vi=Ve.get(k),Pi=Ve.get(le);Ue.bindFramebuffer(K.READ_FRAMEBUFFER,pc),Ue.bindFramebuffer(K.DRAW_FRAMEBUFFER,Ga);for(let Ii=0;Ii<ut;Ii++)On?K.framebufferTextureLayer(K.READ_FRAMEBUFFER,K.COLOR_ATTACHMENT0,vi.__webglTexture,de,Mt+Ii):K.framebufferTexture2D(K.READ_FRAMEBUFFER,K.COLOR_ATTACHMENT0,K.TEXTURE_2D,vi.__webglTexture,de),Yi?K.framebufferTextureLayer(K.DRAW_FRAMEBUFFER,K.COLOR_ATTACHMENT0,Pi.__webglTexture,ke,In+Ii):K.framebufferTexture2D(K.DRAW_FRAMEBUFFER,K.COLOR_ATTACHMENT0,K.TEXTURE_2D,Pi.__webglTexture,ke),de!==0?K.blitFramebuffer(Ut,wt,Ze,ct,$t,Sn,Ze,ct,K.COLOR_BUFFER_BIT,K.NEAREST):Yi?K.copyTexSubImage3D($n,ke,$t,Sn,In+Ii,Ut,wt,Ze,ct):K.copyTexSubImage2D($n,ke,$t,Sn,Ut,wt,Ze,ct);Ue.bindFramebuffer(K.READ_FRAMEBUFFER,null),Ue.bindFramebuffer(K.DRAW_FRAMEBUFFER,null)}else Yi?k.isDataTexture||k.isData3DTexture?K.texSubImage3D($n,ke,$t,Sn,In,Ze,ct,ut,cn,Bt,rn.data):le.isCompressedArrayTexture?K.compressedTexSubImage3D($n,ke,$t,Sn,In,Ze,ct,ut,cn,rn.data):K.texSubImage3D($n,ke,$t,Sn,In,Ze,ct,ut,cn,Bt,rn):k.isDataTexture?K.texSubImage2D(K.TEXTURE_2D,ke,$t,Sn,Ze,ct,cn,Bt,rn.data):k.isCompressedTexture?K.compressedTexSubImage2D(K.TEXTURE_2D,ke,$t,Sn,rn.width,rn.height,cn,rn.data):K.texSubImage2D(K.TEXTURE_2D,ke,$t,Sn,Ze,ct,cn,Bt,rn);K.pixelStorei(K.UNPACK_ROW_LENGTH,yn),K.pixelStorei(K.UNPACK_IMAGE_HEIGHT,ji),K.pixelStorei(K.UNPACK_SKIP_PIXELS,rr),K.pixelStorei(K.UNPACK_SKIP_ROWS,Fn),K.pixelStorei(K.UNPACK_SKIP_IMAGES,or),ke===0&&le.generateMipmaps&&K.generateMipmap($n),Ue.unbindTexture()},this.copyTextureToTexture3D=function(k,le,Se=null,Me=null,de=0){return ep('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture(k,le,Se,Me,de)},this.initRenderTarget=function(k){Ve.get(k).__webglFramebuffer===void 0&&et.setupRenderTarget(k)},this.initTexture=function(k){k.isCubeTexture?et.setTextureCube(k,0):k.isData3DTexture?et.setTexture3D(k,0):k.isDataArrayTexture||k.isCompressedArrayTexture?et.setTexture2DArray(k,0):et.setTexture2D(k,0),Ue.unbindTexture()},this.resetState=function(){I=0,G=0,z=null,Ue.reset(),Ot.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Lr}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorSpace=bn._getDrawingBufferColorSpace(e),t.unpackColorSpace=bn._getUnpackColorSpace()}}const BX=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:C1,AddEquation:vu,AddOperation:N3,AdditiveAnimationBlendMode:O1,AdditiveBlending:pM,AgXToneMapping:I3,AlphaFormat:D1,AlwaysCompare:$3,AlwaysDepth:Px,AlwaysStencilFunc:vM,AmbientLight:zN,AnimationAction:JN,AnimationClip:vp,AnimationLoader:W5,AnimationMixer:KN,AnimationObjectGroup:x8,AnimationUtils:X5,ArcCurve:pN,ArrayCamera:YN,ArrowHelper:G8,AttachedBindMode:yM,Audio:qN,AudioAnalyser:c8,AudioContext:hE,AudioListener:r8,AudioLoader:i8,AxesHelper:V8,BackSide:ga,BasicDepthPacking:X3,BasicShadowMap:h3,BatchedMesh:fN,Bone:K_,BooleanKeyframeTrack:yh,Box2:C8,Box3:ws,Box3Helper:z8,BoxGeometry:gh,BoxHelper:F8,BufferAttribute:Cn,BufferGeometry:Kt,BufferGeometryLoader:XN,ByteType:R1,Cache:nc,Camera:q_,CameraHelper:I8,CanvasTexture:d5,CapsuleGeometry:eA,CatmullRomCurve3:mN,CineonToneMapping:O3,CircleGeometry:tA,ClampToEdgeWrapping:nr,Clock:dE,Color:nt,ColorKeyframeTrack:rE,ColorManagement:bn,CompressedArrayTexture:f5,CompressedCubeTexture:h5,CompressedTexture:$_,CompressedTextureLoader:J5,ConeGeometry:E0,ConstantAlphaFactor:w3,ConstantColorFactor:C3,Controls:X8,CubeCamera:rN,CubeReflectionMapping:cc,CubeRefractionMapping:Su,CubeTexture:A0,CubeTextureLoader:K5,CubeUVReflectionMapping:Rp,CubicBezierCurve:Q1,CubicBezierCurve3:gN,CubicInterpolant:LN,CullFaceBack:dM,CullFaceFront:f3,CullFaceFrontBack:SG,CullFaceNone:u3,Curve:So,CurvePath:vN,CustomBlending:d3,CustomToneMapping:P3,CylinderGeometry:M0,Cylindrical:T8,Data3DTexture:Y_,DataArrayTexture:j_,DataTexture:hl,DataTextureLoader:Q5,DataUtils:IV,DecrementStencilOp:LG,DecrementWrapStencilOp:PG,DefaultLoadingManager:Qd,DepthFormat:up,DepthStencilFormat:fp,DepthTexture:J1,DetachedBindMode:z3,DirectionalLight:fE,DirectionalLightHelper:P8,DiscreteInterpolant:ON,DodecahedronGeometry:nA,DoubleSide:Nr,DstAlphaFactor:b3,DstColorFactor:M3,DynamicCopyUsage:QG,DynamicDrawUsage:jG,DynamicReadUsage:WG,EdgesGeometry:dN,EllipseCurve:iA,EqualCompare:J3,EqualDepth:Fx,EqualStencilFunc:HG,EquirectangularReflectionMapping:Qg,EquirectangularRefractionMapping:Zg,Euler:Pa,EventDispatcher:vl,ExtrudeGeometry:sA,FileLoader:ar,Float16BufferAttribute:XV,Float32BufferAttribute:_t,FloatType:La,Fog:J_,FogExp2:W_,FramebufferTexture:u5,FrontSide:pl,Frustum:Dp,FrustumArray:Q_,GLBufferAttribute:E8,GLSL1:$G,GLSL3:xM,GreaterCompare:K3,GreaterDepth:Hx,GreaterEqualCompare:Z3,GreaterEqualDepth:zx,GreaterEqualStencilFunc:XG,GreaterStencilFunc:VG,GridHelper:L8,Group:tc,HalfFloatType:wp,HemisphereLight:FN,HemisphereLightHelper:U8,IcosahedronGeometry:aA,ImageBitmapLoader:jN,ImageLoader:o0,ImageUtils:nN,IncrementStencilOp:UG,IncrementWrapStencilOp:OG,InstancedBufferAttribute:ch,InstancedBufferGeometry:kN,InstancedInterleavedBuffer:M8,InstancedMesh:Y1,Int16BufferAttribute:VV,Int32BufferAttribute:kV,Int8BufferAttribute:zV,IntType:F_,InterleavedBuffer:b0,InterleavedBufferAttribute:Tu,Interpolant:Up,InterpolateDiscrete:hp,InterpolateLinear:dp,InterpolateSmooth:Ax,InterpolationSamplingMode:nV,InterpolationSamplingType:tV,InvertStencilOp:IG,KeepStencilOp:Xf,KeyframeTrack:Ir,LOD:uN,LatheGeometry:rA,Layers:mp,LessCompare:W3,LessDepth:Ix,LessEqualCompare:I1,LessEqualDepth:lh,LessEqualStencilFunc:GG,LessStencilFunc:zG,Light:Bu,LightProbe:VN,Line:fc,Line3:R8,LineBasicMaterial:Ys,LineCurve:Z1,LineCurve3:yN,LineDashedMaterial:DN,LineLoop:q1,LineSegments:bo,LinearFilter:Ui,LinearInterpolant:aE,LinearMipMapLinearFilter:CG,LinearMipMapNearestFilter:TG,LinearMipmapLinearFilter:Ur,LinearMipmapNearestFilter:$d,LinearSRGBColorSpace:Eu,LinearToneMapping:U3,LinearTransfer:e0,Loader:qs,LoaderUtils:Au,LoadingManager:oE,LoopOnce:H3,LoopPingPong:V3,LoopRepeat:G3,MOUSE:AG,Material:is,MaterialLoader:dA,MathUtils:z1,Matrix2:yE,Matrix3:Zt,Matrix4:Nt,MaxEquation:y3,Mesh:Li,MeshBasicMaterial:ir,MeshDepthMaterial:nE,MeshDistanceMaterial:iE,MeshLambertMaterial:wN,MeshMatcapMaterial:BN,MeshNormalMaterial:RN,MeshPhongMaterial:TN,MeshPhysicalMaterial:Pr,MeshStandardMaterial:R0,MeshToonMaterial:CN,MinEquation:g3,MirroredRepeatWrapping:op,MixOperation:D3,MultiplyBlending:gM,MultiplyOperation:x0,NearestFilter:ms,NearestMipMapLinearFilter:EG,NearestMipMapNearestFilter:MG,NearestMipmapLinearFilter:Qf,NearestMipmapNearestFilter:I_,NeutralToneMapping:F3,NeverCompare:q3,NeverDepth:Ox,NeverStencilFunc:FG,NoBlending:sc,NoColorSpace:$l,NoToneMapping:fl,NormalAnimationBlendMode:X_,NormalBlending:ah,NotEqualCompare:Q3,NotEqualDepth:Gx,NotEqualStencilFunc:kG,NumberKeyframeTrack:fh,Object3D:gn,ObjectLoader:t8,ObjectSpaceNormalMap:Y3,OctahedronGeometry:T0,OneFactor:x3,OneMinusConstantAlphaFactor:B3,OneMinusConstantColorFactor:R3,OneMinusDstAlphaFactor:S3,OneMinusDstColorFactor:E3,OneMinusSrcAlphaFactor:Lx,OneMinusSrcColorFactor:A3,OrthographicCamera:Du,PCFShadowMap:O_,PCFSoftShadowMap:Ug,PMREMGenerator:TM,Path:v_,PerspectiveCamera:Ni,Plane:yu,PlaneGeometry:Np,PlaneHelper:H8,PointLight:uE,PointLightHelper:D8,Points:W1,PointsMaterial:Z_,PolarGridHelper:O8,PolyhedronGeometry:wu,PositionalAudio:l8,PropertyBinding:Tn,PropertyMixer:WN,QuadraticBezierCurve:$1,QuadraticBezierCurve3:eE,Quaternion:Oi,QuaternionKeyframeTrack:hh,QuaternionLinearInterpolant:PN,RED_GREEN_RGTC2_Format:h_,RED_RGTC1_Format:L1,REVISION:v0,RGBADepthPacking:j3,RGBAFormat:js,RGBAIntegerFormat:k_,RGBA_ASTC_10x10_Format:r_,RGBA_ASTC_10x5_Format:i_,RGBA_ASTC_10x6_Format:s_,RGBA_ASTC_10x8_Format:a_,RGBA_ASTC_12x10_Format:o_,RGBA_ASTC_12x12_Format:l_,RGBA_ASTC_4x4_Format:Jx,RGBA_ASTC_5x4_Format:Kx,RGBA_ASTC_5x5_Format:Qx,RGBA_ASTC_6x5_Format:Zx,RGBA_ASTC_6x6_Format:$x,RGBA_ASTC_8x5_Format:e_,RGBA_ASTC_8x6_Format:t_,RGBA_ASTC_8x8_Format:n_,RGBA_BPTC_Format:Fg,RGBA_ETC2_EAC_Format:Wx,RGBA_PVRTC_2BPPV1_Format:jx,RGBA_PVRTC_4BPPV1_Format:Xx,RGBA_S3TC_DXT1_Format:Og,RGBA_S3TC_DXT3_Format:Pg,RGBA_S3TC_DXT5_Format:Ig,RGBDepthPacking:wG,RGBFormat:N1,RGBIntegerFormat:RG,RGB_BPTC_SIGNED_Format:c_,RGB_BPTC_UNSIGNED_Format:u_,RGB_ETC1_Format:Yx,RGB_ETC2_Format:qx,RGB_PVRTC_2BPPV1_Format:kx,RGB_PVRTC_4BPPV1_Format:Vx,RGB_S3TC_DXT1_Format:Lg,RGDepthPacking:BG,RGFormat:U1,RGIntegerFormat:V_,RawShaderMaterial:EN,Ray:Bp,Raycaster:QN,RectAreaLight:HN,RedFormat:G_,RedIntegerFormat:_0,ReinhardToneMapping:L3,RenderTarget:H1,RenderTarget3D:A8,RepeatWrapping:Mu,ReplaceStencilOp:NG,ReverseSubtractEquation:m3,RingGeometry:oA,SIGNED_RED_GREEN_RGTC2_Format:d_,SIGNED_RED_RGTC1_Format:f_,SRGBColorSpace:Xs,SRGBTransfer:kn,Scene:k1,ShaderChunk:sn,ShaderLib:go,ShaderMaterial:Ao,ShadowMaterial:MN,Shape:oh,ShapeGeometry:lA,ShapePath:k8,ShapeUtils:vo,ShortType:w1,Skeleton:S0,SkeletonHelper:B8,SkinnedMesh:j1,Source:_u,Sphere:gs,SphereGeometry:C0,Spherical:ZN,SphericalHarmonics3:GN,SplineCurve:tE,SpotLight:cE,SpotLightHelper:w8,Sprite:cN,SpriteMaterial:X1,SrcAlphaFactor:Ux,SrcAlphaSaturateFactor:T3,SrcColorFactor:_3,StaticCopyUsage:KG,StaticDrawUsage:t0,StaticReadUsage:qG,StereoCamera:s8,StreamCopyUsage:ZG,StreamDrawUsage:YG,StreamReadUsage:JG,StringKeyframeTrack:vh,SubtractEquation:p3,SubtractiveBlending:mM,TOUCH:bG,TangentSpaceNormalMap:Ru,TetrahedronGeometry:cA,Texture:oi,TextureLoader:IN,TextureUtils:J8,TimestampQuery:eV,TorusGeometry:uA,TorusKnotGeometry:fA,Triangle:Na,TriangleFanDrawMode:p_,TriangleStripDrawMode:P1,TrianglesDrawMode:k3,TubeGeometry:hA,UVMapping:P_,Uint16BufferAttribute:G1,Uint32BufferAttribute:V1,Uint8BufferAttribute:HV,Uint8ClampedBufferAttribute:GV,Uniform:gE,UniformsGroup:S8,UniformsLib:lt,UniformsUtils:aN,UnsignedByteType:Or,UnsignedInt248Type:cp,UnsignedInt5999Type:B1,UnsignedIntType:uc,UnsignedShort4444Type:z_,UnsignedShort5551Type:H_,UnsignedShortType:lp,VSMShadowMap:mo,Vector2:Fe,Vector3:Z,Vector4:mn,VectorKeyframeTrack:dh,VideoFrameTexture:c5,VideoTexture:hN,WebGL3DRenderTarget:CV,WebGLArrayRenderTarget:TV,WebGLCoordinateSystem:Lr,WebGLCubeRenderTarget:oN,WebGLRenderTarget:ml,WebGLRenderer:rU,WebGLUtils:aU,WebGPUCoordinateSystem:n0,WebXRController:bx,WireframeGeometry:SN,WrapAroundEnding:$g,ZeroCurvatureEnding:Zf,ZeroFactor:v3,ZeroSlopeEnding:$f,ZeroStencilOp:DG,createCanvasElement:tN},Symbol.toStringTag,{value:"Module"}));var fS={exports:{}},Jl={};/**
 * @license React
 * react-reconciler-constants.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rw;function DX(){return Rw||(Rw=1,Jl.ConcurrentRoot=1,Jl.ContinuousEventPriority=8,Jl.DefaultEventPriority=32,Jl.DiscreteEventPriority=2,Jl.IdleEventPriority=268435456,Jl.LegacyRoot=0,Jl.NoEventPriority=0),Jl}var ww;function NX(){return ww||(ww=1,fS.exports=DX()),fS.exports}var Mx=NX(),hS={exports:{}},dS={},pS={exports:{}},mS={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bw;function UX(){if(Bw)return mS;Bw=1;var n=_p();function e(y,x){return y===x&&(y!==0||1/y===1/x)||y!==y&&x!==x}var t=typeof Object.is=="function"?Object.is:e,i=n.useState,s=n.useEffect,r=n.useLayoutEffect,o=n.useDebugValue;function u(y,x){var _=x(),M=i({inst:{value:_,getSnapshot:x}}),C=M[0].inst,E=M[1];return r(function(){C.value=_,C.getSnapshot=x,h(C)&&E({inst:C})},[y,_,x]),s(function(){return h(C)&&E({inst:C}),y(function(){h(C)&&E({inst:C})})},[y]),o(_),_}function h(y){var x=y.getSnapshot;y=y.value;try{var _=x();return!t(y,_)}catch{return!0}}function p(y,x){return x()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?p:u;return mS.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:m,mS}var Dw;function LX(){return Dw||(Dw=1,pS.exports=UX()),pS.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nw;function OX(){if(Nw)return dS;Nw=1;var n=_p(),e=LX();function t(p,m){return p===m&&(p!==0||1/p===1/m)||p!==p&&m!==m}var i=typeof Object.is=="function"?Object.is:t,s=e.useSyncExternalStore,r=n.useRef,o=n.useEffect,u=n.useMemo,h=n.useDebugValue;return dS.useSyncExternalStoreWithSelector=function(p,m,y,x,_){var M=r(null);if(M.current===null){var C={hasValue:!1,value:null};M.current=C}else C=M.current;M=u(function(){function S(I){if(!w){if(w=!0,B=I,I=x(I),_!==void 0&&C.hasValue){var G=C.value;if(_(G,I))return D=G}return D=I}if(G=D,i(B,I))return G;var z=x(I);return _!==void 0&&_(G,z)?(B=I,G):(B=I,D=z)}var w=!1,B,D,P=y===void 0?null:y;return[function(){return S(m())},P===null?void 0:function(){return S(P())}]},[m,y,x,_]);var E=s(p,M[0],M[1]);return o(function(){C.hasValue=!0,C.value=E},[E]),h(E),E},dS}var Uw;function PX(){return Uw||(Uw=1,hS.exports=OX()),hS.exports}var IX=PX();const FX=c0(IX),Lw=n=>{let e;const t=new Set,i=(p,m)=>{const y=typeof p=="function"?p(e):p;if(!Object.is(y,e)){const x=e;e=m??(typeof y!="object"||y===null)?y:Object.assign({},e,y),t.forEach(_=>_(e,x))}},s=()=>e,u={setState:i,getState:s,getInitialState:()=>h,subscribe:p=>(t.add(p),()=>t.delete(p))},h=e=n(i,s,u);return u},oU=n=>n?Lw(n):Lw,{useSyncExternalStoreWithSelector:zX}=FX,HX=n=>n;function GX(n,e=HX,t){const i=zX(n.subscribe,n.getState,n.getInitialState,e,t);return sp.useDebugValue(i),i}const Ow=(n,e)=>{const t=oU(n),i=(s,r=e)=>GX(t,s,r);return Object.assign(i,t),i},VX=(n,e)=>n?Ow(n,e):Ow;var gS={exports:{}},yS={exports:{}},vS={exports:{}},xS={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pw;function kX(){return Pw||(Pw=1,function(n){function e(F,q){var Y=F.length;F.push(q);e:for(;0<Y;){var ue=Y-1>>>1,X=F[ue];if(0<s(X,q))F[ue]=q,F[Y]=X,Y=ue;else break e}}function t(F){return F.length===0?null:F[0]}function i(F){if(F.length===0)return null;var q=F[0],Y=F.pop();if(Y!==q){F[0]=Y;e:for(var ue=0,X=F.length,ie=X>>>1;ue<ie;){var xe=2*(ue+1)-1,_e=F[xe],ne=xe+1,Ce=F[ne];if(0>s(_e,Y))ne<X&&0>s(Ce,_e)?(F[ue]=Ce,F[ne]=Y,ue=ne):(F[ue]=_e,F[xe]=Y,ue=xe);else if(ne<X&&0>s(Ce,Y))F[ue]=Ce,F[ne]=Y,ue=ne;else break e}}return q}function s(F,q){var Y=F.sortIndex-q.sortIndex;return Y!==0?Y:F.id-q.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var r=performance;n.unstable_now=function(){return r.now()}}else{var o=Date,u=o.now();n.unstable_now=function(){return o.now()-u}}var h=[],p=[],m=1,y=null,x=3,_=!1,M=!1,C=!1,E=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;function B(F){for(var q=t(p);q!==null;){if(q.callback===null)i(p);else if(q.startTime<=F)i(p),q.sortIndex=q.expirationTime,e(h,q);else break;q=t(p)}}function D(F){if(C=!1,B(F),!M)if(t(h)!==null)M=!0,me();else{var q=t(p);q!==null&&fe(D,q.startTime-F)}}var P=!1,I=-1,G=5,z=-1;function U(){return!(n.unstable_now()-z<G)}function O(){if(P){var F=n.unstable_now();z=F;var q=!0;try{e:{M=!1,C&&(C=!1,S(I),I=-1),_=!0;var Y=x;try{t:{for(B(F),y=t(h);y!==null&&!(y.expirationTime>F&&U());){var ue=y.callback;if(typeof ue=="function"){y.callback=null,x=y.priorityLevel;var X=ue(y.expirationTime<=F);if(F=n.unstable_now(),typeof X=="function"){y.callback=X,B(F),q=!0;break t}y===t(h)&&i(h),B(F)}else i(h);y=t(h)}if(y!==null)q=!0;else{var ie=t(p);ie!==null&&fe(D,ie.startTime-F),q=!1}}break e}finally{y=null,x=Y,_=!1}q=void 0}}finally{q?W():P=!1}}}var W;if(typeof w=="function")W=function(){w(O)};else if(typeof MessageChannel<"u"){var ce=new MessageChannel,se=ce.port2;ce.port1.onmessage=O,W=function(){se.postMessage(null)}}else W=function(){E(O,0)};function me(){P||(P=!0,W())}function fe(F,q){I=E(function(){F(n.unstable_now())},q)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(F){F.callback=null},n.unstable_continueExecution=function(){M||_||(M=!0,me())},n.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<F?Math.floor(1e3/F):5},n.unstable_getCurrentPriorityLevel=function(){return x},n.unstable_getFirstCallbackNode=function(){return t(h)},n.unstable_next=function(F){switch(x){case 1:case 2:case 3:var q=3;break;default:q=x}var Y=x;x=q;try{return F()}finally{x=Y}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(F,q){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var Y=x;x=F;try{return q()}finally{x=Y}},n.unstable_scheduleCallback=function(F,q,Y){var ue=n.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?ue+Y:ue):Y=ue,F){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=Y+X,F={id:m++,callback:q,priorityLevel:F,startTime:Y,expirationTime:X,sortIndex:-1},Y>ue?(F.sortIndex=Y,e(p,F),t(h)===null&&F===t(p)&&(C?(S(I),I=-1):C=!0,fe(D,Y-ue))):(F.sortIndex=X,e(h,F),M||_||(M=!0,me())),F},n.unstable_shouldYield=U,n.unstable_wrapCallback=function(F){var q=x;return function(){var Y=x;x=q;try{return F.apply(this,arguments)}finally{x=Y}}}}(xS)),xS}var Iw;function XX(){return Iw||(Iw=1,vS.exports=kX()),vS.exports}/**
 * @license React
 * react-reconciler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fw;function jX(){return Fw||(Fw=1,function(n){n.exports=function(e){function t(c,f,v,b){return new um(c,f,v,b)}function i(){}function s(c){var f="https://react.dev/errors/"+c;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)f+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+c+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(c){return c===null||typeof c!="object"?null:(c=Qr&&c[Qr]||c["@@iterator"],typeof c=="function"?c:null)}function o(c){if(c==null)return null;if(typeof c=="function")return c.$$typeof===pm?null:c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case Ho:return"Fragment";case _a:return"Portal";case Vh:return"Profiler";case of:return"StrictMode";case kh:return"Suspense";case Lc:return"SuspenseList"}if(typeof c=="object")switch(c.$$typeof){case Xa:return(c.displayName||"Context")+".Provider";case hm:return(c._context.displayName||"Context")+".Consumer";case cf:var f=c.render;return c=c.displayName,c||(c=f.displayName||f.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case Xh:return f=c.displayName||null,f!==null?f:o(c.type)||"Memo";case Aa:f=c._payload,c=c._init;try{return o(c(f))}catch{}}return null}function u(c){if(dr===void 0)try{throw Error()}catch(v){var f=v.stack.trim().match(/\n( *(at )?)/);dr=f&&f[1]||"",Zr=-1<v.stack.indexOf(`
    at`)?" (<anonymous>)":-1<v.stack.indexOf("@")?"@unknown:0:0":""}return`
`+dr+c+Zr}function h(c,f){if(!c||Sl)return"";Sl=!0;var v=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var b={DetermineComponentFrameRoot:function(){try{if(f){var ot=function(){throw Error()};if(Object.defineProperty(ot.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ot,[])}catch(Yt){var ft=Yt}Reflect.construct(c,[],ot)}else{try{ot.call()}catch(Yt){ft=Yt}c.call(ot.prototype)}}else{try{throw Error()}catch(Yt){ft=Yt}(ot=c())&&typeof ot.catch=="function"&&ot.catch(function(){})}}catch(Yt){if(Yt&&ft&&typeof Yt.stack=="string")return[Yt.stack,ft.stack]}return[null,null]}};b.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var R=Object.getOwnPropertyDescriptor(b.DetermineComponentFrameRoot,"name");R&&R.configurable&&Object.defineProperty(b.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var N=b.DetermineComponentFrameRoot(),j=N[0],te=N[1];if(j&&te){var pe=j.split(`
`),De=te.split(`
`);for(R=b=0;b<pe.length&&!pe[b].includes("DetermineComponentFrameRoot");)b++;for(;R<De.length&&!De[R].includes("DetermineComponentFrameRoot");)R++;if(b===pe.length||R===De.length)for(b=pe.length-1,R=De.length-1;1<=b&&0<=R&&pe[b]!==De[R];)R--;for(;1<=b&&0<=R;b--,R--)if(pe[b]!==De[R]){if(b!==1||R!==1)do if(b--,R--,0>R||pe[b]!==De[R]){var Ke=`
`+pe[b].replace(" at new "," at ");return c.displayName&&Ke.includes("<anonymous>")&&(Ke=Ke.replace("<anonymous>",c.displayName)),Ke}while(1<=b&&0<=R);break}}}finally{Sl=!1,Error.prepareStackTrace=v}return(v=c?c.displayName||c.name:"")?u(v):""}function p(c){switch(c.tag){case 26:case 27:case 5:return u(c.type);case 16:return u("Lazy");case 13:return u("Suspense");case 19:return u("SuspenseList");case 0:case 15:return c=h(c.type,!1),c;case 11:return c=h(c.type.render,!1),c;case 1:return c=h(c.type,!0),c;default:return""}}function m(c){try{var f="";do f+=p(c),c=c.return;while(c);return f}catch(v){return`
Error generating stack: `+v.message+`
`+v.stack}}function y(c){var f=c,v=c;if(c.alternate)for(;f.return;)f=f.return;else{c=f;do f=c,(f.flags&4098)!==0&&(v=f.return),c=f.return;while(c)}return f.tag===3?v:null}function x(c){if(y(c)!==c)throw Error(s(188))}function _(c){var f=c.alternate;if(!f){if(f=y(c),f===null)throw Error(s(188));return f!==c?null:c}for(var v=c,b=f;;){var R=v.return;if(R===null)break;var N=R.alternate;if(N===null){if(b=R.return,b!==null){v=b;continue}break}if(R.child===N.child){for(N=R.child;N;){if(N===v)return x(R),c;if(N===b)return x(R),f;N=N.sibling}throw Error(s(188))}if(v.return!==b.return)v=R,b=N;else{for(var j=!1,te=R.child;te;){if(te===v){j=!0,v=R,b=N;break}if(te===b){j=!0,b=R,v=N;break}te=te.sibling}if(!j){for(te=N.child;te;){if(te===v){j=!0,v=N,b=R;break}if(te===b){j=!0,b=N,v=R;break}te=te.sibling}if(!j)throw Error(s(189))}}if(v.alternate!==b)throw Error(s(190))}if(v.tag!==3)throw Error(s(188));return v.stateNode.current===v?c:f}function M(c){var f=c.tag;if(f===5||f===26||f===27||f===6)return c;for(c=c.child;c!==null;){if(f=M(c),f!==null)return f;c=c.sibling}return null}function C(c){var f=c.tag;if(f===5||f===26||f===27||f===6)return c;for(c=c.child;c!==null;){if(c.tag!==4&&(f=C(c),f!==null))return f;c=c.sibling}return null}function E(c){return{current:c}}function S(c){0>no||(c.current=ui[no],ui[no]=null,no--)}function w(c,f){no++,ui[no]=c.current,c.current=f}function B(c){return c>>>=0,c===0?32:31-(zy(c)/Hy|0)|0}function D(c){var f=c&42;if(f!==0)return f;switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return c&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return c}}function P(c,f){var v=c.pendingLanes;if(v===0)return 0;var b=0,R=c.suspendedLanes,N=c.pingedLanes,j=c.warmLanes;c=c.finishedLanes!==0;var te=v&134217727;return te!==0?(v=te&~R,v!==0?b=D(v):(N&=te,N!==0?b=D(N):c||(j=te&~j,j!==0&&(b=D(j))))):(te=v&~R,te!==0?b=D(te):N!==0?b=D(N):c||(j=v&~j,j!==0&&(b=D(j)))),b===0?0:f!==0&&f!==b&&(f&R)===0&&(R=b&-b,j=f&-f,R>=j||R===32&&(j&4194176)!==0)?f:b}function I(c,f){return(c.pendingLanes&~(c.suspendedLanes&~c.pingedLanes)&f)===0}function G(c,f){switch(c){case 1:case 2:case 4:case 8:return f+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function z(){var c=mr;return mr<<=1,(mr&4194176)===0&&(mr=128),c}function U(){var c=Tl;return Tl<<=1,(Tl&62914560)===0&&(Tl=4194304),c}function O(c){for(var f=[],v=0;31>v;v++)f.push(c);return f}function W(c,f){c.pendingLanes|=f,f!==268435456&&(c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0)}function ce(c,f,v,b,R,N){var j=c.pendingLanes;c.pendingLanes=v,c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0,c.expiredLanes&=v,c.entangledLanes&=v,c.errorRecoveryDisabledLanes&=v,c.shellSuspendCounter=0;var te=c.entanglements,pe=c.expirationTimes,De=c.hiddenUpdates;for(v=j&~v;0<v;){var Ke=31-Ms(v),ot=1<<Ke;te[Ke]=0,pe[Ke]=-1;var ft=De[Ke];if(ft!==null)for(De[Ke]=null,Ke=0;Ke<ft.length;Ke++){var Yt=ft[Ke];Yt!==null&&(Yt.lane&=-536870913)}v&=~ot}b!==0&&se(c,b,0),N!==0&&R===0&&c.tag!==0&&(c.suspendedLanes|=N&~(j&~f))}function se(c,f,v){c.pendingLanes|=f,c.suspendedLanes&=~f;var b=31-Ms(f);c.entangledLanes|=f,c.entanglements[b]=c.entanglements[b]|1073741824|v&4194218}function me(c,f){var v=c.entangledLanes|=f;for(c=c.entanglements;v;){var b=31-Ms(v),R=1<<b;R&f|c[b]&f&&(c[b]|=f),v&=~R}}function fe(c){return c&=-c,2<c?8<c?(c&134217727)!==0?32:268435456:8:2}function F(c){if(Fs&&typeof Fs.onCommitFiberRoot=="function")try{Fs.onCommitFiberRoot(fi,c,void 0,(c.current.flags&128)===128)}catch{}}function q(c){if(typeof ky=="function"&&Hi(c),Fs&&typeof Fs.setStrictMode=="function")try{Fs.setStrictMode(fi,c)}catch{}}function Y(c,f){return c===f&&(c!==0||1/c===1/f)||c!==c&&f!==f}function ue(c,f){if(typeof c=="object"&&c!==null){var v=Um.get(c);return v!==void 0?v:(f={value:c,source:f,stack:m(f)},Um.set(c,f),f)}return{value:c,source:f,stack:m(f)}}function X(c,f){Cl[Rl++]=kc,Cl[Rl++]=wl,wl=c,kc=f}function ie(c,f,v){Zs[$s++]=qa,Zs[$s++]=Wa,Zs[$s++]=qo,qo=c;var b=qa;c=Wa;var R=32-Ms(b)-1;b&=~(1<<R),v+=1;var N=32-Ms(f)+R;if(30<N){var j=R-R%5;N=(b&(1<<j)-1).toString(32),b>>=j,R-=j,qa=1<<32-Ms(f)+R|v<<R|b,Wa=N+c}else qa=1<<N|v<<R|b,Wa=c}function xe(c){c.return!==null&&(X(c,1),ie(c,1,0))}function _e(c){for(;c===wl;)wl=Cl[--Rl],Cl[Rl]=null,kc=Cl[--Rl],Cl[Rl]=null;for(;c===qo;)qo=Zs[--$s],Zs[$s]=null,Wa=Zs[--$s],Zs[$s]=null,qa=Zs[--$s],Zs[$s]=null}function ne(c,f){w(gr,f),w(Xc,c),w(Ci,null),c=sy(f),S(Ci),w(Ci,c)}function Ce(){S(Ci),S(Xc),S(gr)}function Oe(c){c.memoizedState!==null&&w(Bl,c);var f=Ci.current,v=Fc(f,c.type);f!==v&&(w(Xc,c),w(Ci,v))}function He(c){Xc.current===c&&(S(Ci),S(Xc)),Bl.current===c&&(S(Bl),bs?ja._currentValue=Vo:ja._currentValue2=Vo)}function Ye(c){var f=Error(s(418,""));throw St(ue(f,c)),vf}function bt(c,f){if(!Zi)throw Error(s(175));wy(c.stateNode,c.type,c.memoizedProps,f,c)||Ye(c)}function it(c){for($i=c.return;$i;)switch($i.tag){case 3:case 27:Gi=!0;return;case 5:case 13:Gi=!1;return;default:$i=$i.return}}function mt(c){if(!Zi||c!==$i)return!1;if(!vn)return it(c),vn=!0,!1;var f=!1;if(zn?c.tag!==3&&c.tag!==27&&(c.tag!==5||$h(c.type)&&!Wt(c.type,c.memoizedProps))&&(f=!0):c.tag!==3&&(c.tag!==5||$h(c.type)&&!Wt(c.type,c.memoizedProps))&&(f=!0),f&&es&&Ye(c),it(c),c.tag===13){if(!Zi)throw Error(s(316));if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));es=Dy(c)}else es=$i?wm(c.stateNode):null;return!0}function Rt(){Zi&&(es=$i=null,vn=!1)}function St(c){Ma===null?Ma=[c]:Ma.push(c)}function K(){for(var c=Dl,f=Ja=Dl=0;f<c;){var v=Ea[f];Ea[f++]=null;var b=Ea[f];Ea[f++]=null;var R=Ea[f];Ea[f++]=null;var N=Ea[f];if(Ea[f++]=null,b!==null&&R!==null){var j=b.pending;j===null?R.next=R:(R.next=j.next,j.next=R),b.pending=R}N!==0&&Ue(v,R,N)}}function Je(c,f,v,b){Ea[Dl++]=c,Ea[Dl++]=f,Ea[Dl++]=v,Ea[Dl++]=b,Ja|=b,c.lanes|=b,c=c.alternate,c!==null&&(c.lanes|=b)}function Xe(c,f,v,b){return Je(c,f,v,b),at(c)}function Ge(c,f){return Je(c,null,null,f),at(c)}function Ue(c,f,v){c.lanes|=v;var b=c.alternate;b!==null&&(b.lanes|=v);for(var R=!1,N=c.return;N!==null;)N.childLanes|=v,b=N.alternate,b!==null&&(b.childLanes|=v),N.tag===22&&(c=N.stateNode,c===null||c._visibility&1||(R=!0)),c=N,N=N.return;R&&f!==null&&c.tag===3&&(N=c.stateNode,R=31-Ms(v),N=N.hiddenUpdates,c=N[R],c===null?N[R]=[f]:c.push(f),f.lane=v|536870912)}function at(c){if(50<$c)throw $c=0,pd=null,Error(s(185));for(var f=c.return;f!==null;)c=f,f=c.return;return c.tag===3?c.stateNode:null}function Ve(c){c!==io&&c.next===null&&(io===null?xf=io=c:io=io.next=c),jn=!0,Nl||(Nl=!0,Re(Ht))}function et(c,f){if(!Lm&&jn){Lm=!0;do for(var v=!1,b=xf;b!==null;){if(c!==0){var R=b.pendingLanes;if(R===0)var N=0;else{var j=b.suspendedLanes,te=b.pingedLanes;N=(1<<31-Ms(42|c)+1)-1,N&=R&~(j&~te),N=N&201326677?N&201326677|1:N?N|2:0}N!==0&&(v=!0,ge(b,N))}else N=un,N=P(b,b===Bn?N:0),(N&3)===0||I(b,N)||(v=!0,ge(b,N));b=b.next}while(v);Lm=!1}}function Ht(){jn=Nl=!1;var c=0;jc!==0&&(ly()&&(c=jc),jc=0);for(var f=Sa(),v=null,b=xf;b!==null;){var R=b.next,N=$(b,f);N===0?(b.next=null,v===null?xf=R:v.next=R,R===null&&(io=v)):(v=b,(c!==0||(N&3)!==0)&&(jn=!0)),b=R}et(c)}function $(c,f){for(var v=c.suspendedLanes,b=c.pingedLanes,R=c.expirationTimes,N=c.pendingLanes&-62914561;0<N;){var j=31-Ms(N),te=1<<j,pe=R[j];pe===-1?((te&v)===0||(te&b)!==0)&&(R[j]=G(te,f)):pe<=f&&(c.expiredLanes|=te),N&=~te}if(f=Bn,v=un,v=P(c,c===f?v:0),b=c.callbackNode,v===0||c===f&&Pn===2||c.cancelPendingCommit!==null)return b!==null&&b!==null&&id(b),c.callbackNode=null,c.callbackPriority=0;if((v&3)===0||I(c,v)){if(f=v&-v,f===c.callbackPriority)return f;switch(b!==null&&id(b),fe(v)){case 2:case 8:v=Vy;break;case 32:v=rd;break;case 268435456:v=CA;break;default:v=rd}return b=H.bind(null,c),v=yf(v,b),c.callbackPriority=f,c.callbackNode=v,f}return b!==null&&b!==null&&id(b),c.callbackPriority=2,c.callbackNode=null,2}function H(c,f){var v=c.callbackNode;if(ka()&&c.callbackNode!==v)return null;var b=un;return b=P(c,c===Bn?b:0),b===0?null:(Oo(c,b,f),$(c,Sa()),c.callbackNode!=null&&c.callbackNode===v?H.bind(null,c):null)}function ge(c,f){if(ka())return null;Oo(c,f,!0)}function Re(c){xm?to(function(){(An&6)!==0?yf(ad,c):c()}):yf(ad,c)}function Be(){return jc===0&&(jc=z()),jc}function we(c,f){if(Yc===null){var v=Yc=[];Ul=0,ea=Be(),Ll={status:"pending",value:void 0,then:function(b){v.push(b)}}}return Ul++,f.then(rt,rt),f}function rt(){if(--Ul===0&&Yc!==null){Ll!==null&&(Ll.status="fulfilled");var c=Yc;Yc=null,ea=0,Ll=null;for(var f=0;f<c.length;f++)(0,c[f])()}}function $e(c,f){var v=[],b={status:"pending",value:null,reason:null,then:function(R){v.push(R)}};return c.then(function(){b.status="fulfilled",b.value=f;for(var R=0;R<v.length;R++)(0,v[R])(f)},function(R){for(b.status="rejected",b.reason=R,R=0;R<v.length;R++)(0,v[R])(void 0)}),b}function dt(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function gt(c,f){c=c.updateQueue,f.updateQueue===c&&(f.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,callbacks:null})}function Pe(c){return{lane:c,tag:0,payload:null,callback:null,next:null}}function tt(c,f,v){var b=c.updateQueue;if(b===null)return null;if(b=b.shared,(An&2)!==0){var R=b.pending;return R===null?f.next=f:(f.next=R.next,R.next=f),b.pending=f,f=at(c),Ue(c,null,v),f}return Je(c,b,f,v),at(c)}function At(c,f,v){if(f=f.updateQueue,f!==null&&(f=f.shared,(v&4194176)!==0)){var b=f.lanes;b&=c.pendingLanes,v|=b,f.lanes=v,me(c,v)}}function Et(c,f){var v=c.updateQueue,b=c.alternate;if(b!==null&&(b=b.updateQueue,v===b)){var R=null,N=null;if(v=v.firstBaseUpdate,v!==null){do{var j={lane:v.lane,tag:v.tag,payload:v.payload,callback:null,next:null};N===null?R=N=j:N=N.next=j,v=v.next}while(v!==null);N===null?R=N=f:N=N.next=f}else R=N=f;v={baseState:b.baseState,firstBaseUpdate:R,lastBaseUpdate:N,shared:b.shared,callbacks:b.callbacks},c.updateQueue=v;return}c=v.lastBaseUpdate,c===null?v.firstBaseUpdate=f:c.next=f,v.lastBaseUpdate=f}function Qe(){if(Ol){var c=Ll;if(c!==null)throw c}}function Ot(c,f,v,b){Ol=!1;var R=c.updateQueue;so=!1;var N=R.firstBaseUpdate,j=R.lastBaseUpdate,te=R.shared.pending;if(te!==null){R.shared.pending=null;var pe=te,De=pe.next;pe.next=null,j===null?N=De:j.next=De,j=pe;var Ke=c.alternate;Ke!==null&&(Ke=Ke.updateQueue,te=Ke.lastBaseUpdate,te!==j&&(te===null?Ke.firstBaseUpdate=De:te.next=De,Ke.lastBaseUpdate=pe))}if(N!==null){var ot=R.baseState;j=0,Ke=De=pe=null,te=N;do{var ft=te.lane&-536870913,Yt=ft!==te.lane;if(Yt?(un&ft)===ft:(b&ft)===ft){ft!==0&&ft===ea&&(Ol=!0),Ke!==null&&(Ke=Ke.next={lane:0,tag:te.tag,payload:te.payload,callback:null,next:null});e:{var la=c,nl=te;ft=f;var il=v;switch(nl.tag){case 1:if(la=nl.payload,typeof la=="function"){ot=la.call(il,ot,ft);break e}ot=la;break e;case 3:la.flags=la.flags&-65537|128;case 0:if(la=nl.payload,ft=typeof la=="function"?la.call(il,ot,ft):la,ft==null)break e;ot=Gh({},ot,ft);break e;case 2:so=!0}}ft=te.callback,ft!==null&&(c.flags|=64,Yt&&(c.flags|=8192),Yt=R.callbacks,Yt===null?R.callbacks=[ft]:Yt.push(ft))}else Yt={lane:ft,tag:te.tag,payload:te.payload,callback:te.callback,next:null},Ke===null?(De=Ke=Yt,pe=ot):Ke=Ke.next=Yt,j|=ft;if(te=te.next,te===null){if(te=R.shared.pending,te===null)break;Yt=te,te=Yt.next,Yt.next=null,R.lastBaseUpdate=Yt,R.shared.pending=null}}while(!0);Ke===null&&(pe=ot),R.baseState=pe,R.firstBaseUpdate=De,R.lastBaseUpdate=Ke,N===null&&(R.shared.lanes=0),ra|=j,c.lanes=j,c.memoizedState=ot}}function oe(c,f){if(typeof c!="function")throw Error(s(191,c));c.call(f)}function st(c,f){var v=c.callbacks;if(v!==null)for(c.callbacks=null,c=0;c<v.length;c++)oe(v[c],f)}function je(c,f){if(zs(c,f))return!0;if(typeof c!="object"||c===null||typeof f!="object"||f===null)return!1;var v=Object.keys(c),b=Object.keys(f);if(v.length!==b.length)return!1;for(b=0;b<v.length;b++){var R=v[b];if(!yr.call(f,R)||!zs(c[R],f[R]))return!1}return!0}function ht(c){return c=c.status,c==="fulfilled"||c==="rejected"}function qe(){}function Ie(c,f,v){switch(v=c[v],v===void 0?c.push(f):v!==f&&(f.then(qe,qe),f=v),f.status){case"fulfilled":return f.value;case"rejected":throw c=f.reason,c===qc?Error(s(483)):c;default:if(typeof f.status=="string")f.then(qe,qe);else{if(c=Bn,c!==null&&100<c.shellSuspendCounter)throw Error(s(482));c=f,c.status="pending",c.then(function(b){if(f.status==="pending"){var R=f;R.status="fulfilled",R.value=b}},function(b){if(f.status==="pending"){var R=f;R.status="rejected",R.reason=b}})}switch(f.status){case"fulfilled":return f.value;case"rejected":throw c=f.reason,c===qc?Error(s(483)):c}throw Wo=f,qc}}function pt(){if(Wo===null)throw Error(s(459));var c=Wo;return Wo=null,c}function Pt(c){var f=Ko;return Ko+=1,Jo===null&&(Jo=[]),Ie(Jo,c,f)}function xn(c,f){f=f.props.ref,c.ref=f!==void 0?f:null}function hn(c,f){throw f.$$typeof===_A?Error(s(525)):(c=Object.prototype.toString.call(f),Error(s(31,c==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":c)))}function Bs(c){var f=c._init;return f(c._payload)}function Mi(c){function f(Ae,ae){if(c){var Te=Ae.deletions;Te===null?(Ae.deletions=[ae],Ae.flags|=16):Te.push(ae)}}function v(Ae,ae){if(!c)return null;for(;ae!==null;)f(Ae,ae),ae=ae.sibling;return null}function b(Ae){for(var ae=new Map;Ae!==null;)Ae.key!==null?ae.set(Ae.key,Ae):ae.set(Ae.index,Ae),Ae=Ae.sibling;return ae}function R(Ae,ae){return Ae=xa(Ae,ae),Ae.index=0,Ae.sibling=null,Ae}function N(Ae,ae,Te){return Ae.index=Te,c?(Te=Ae.alternate,Te!==null?(Te=Te.index,Te<ae?(Ae.flags|=33554434,ae):Te):(Ae.flags|=33554434,ae)):(Ae.flags|=1048576,ae)}function j(Ae){return c&&Ae.alternate===null&&(Ae.flags|=33554434),Ae}function te(Ae,ae,Te,We){return ae===null||ae.tag!==6?(ae=zh(Te,Ae.mode,We),ae.return=Ae,ae):(ae=R(ae,Te),ae.return=Ae,ae)}function pe(Ae,ae,Te,We){var Tt=Te.type;return Tt===Ho?Ke(Ae,ae,Te.props.children,We,Te.key):ae!==null&&(ae.elementType===Tt||typeof Tt=="object"&&Tt!==null&&Tt.$$typeof===Aa&&Bs(Tt)===ae.type)?(ae=R(ae,Te.props),xn(ae,Te),ae.return=Ae,ae):(ae=hr(Te.type,Te.key,Te.props,null,Ae.mode,We),xn(ae,Te),ae.return=Ae,ae)}function De(Ae,ae,Te,We){return ae===null||ae.tag!==4||ae.stateNode.containerInfo!==Te.containerInfo||ae.stateNode.implementation!==Te.implementation?(ae=fm(Te,Ae.mode,We),ae.return=Ae,ae):(ae=R(ae,Te.children||[]),ae.return=Ae,ae)}function Ke(Ae,ae,Te,We,Tt){return ae===null||ae.tag!==7?(ae=ni(Te,Ae.mode,We,Tt),ae.return=Ae,ae):(ae=R(ae,Te),ae.return=Ae,ae)}function ot(Ae,ae,Te){if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return ae=zh(""+ae,Ae.mode,Te),ae.return=Ae,ae;if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case rf:return Te=hr(ae.type,ae.key,ae.props,null,Ae.mode,Te),xn(Te,ae),Te.return=Ae,Te;case _a:return ae=fm(ae,Ae.mode,Te),ae.return=Ae,ae;case Aa:var We=ae._init;return ae=We(ae._payload),ot(Ae,ae,Te)}if(Oc(ae)||r(ae))return ae=ni(ae,Ae.mode,Te,null),ae.return=Ae,ae;if(typeof ae.then=="function")return ot(Ae,Pt(ae),Te);if(ae.$$typeof===Xa)return ot(Ae,Xu(Ae,ae),Te);hn(Ae,ae)}return null}function ft(Ae,ae,Te,We){var Tt=ae!==null?ae.key:null;if(typeof Te=="string"&&Te!==""||typeof Te=="number"||typeof Te=="bigint")return Tt!==null?null:te(Ae,ae,""+Te,We);if(typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case rf:return Te.key===Tt?pe(Ae,ae,Te,We):null;case _a:return Te.key===Tt?De(Ae,ae,Te,We):null;case Aa:return Tt=Te._init,Te=Tt(Te._payload),ft(Ae,ae,Te,We)}if(Oc(Te)||r(Te))return Tt!==null?null:Ke(Ae,ae,Te,We,null);if(typeof Te.then=="function")return ft(Ae,ae,Pt(Te),We);if(Te.$$typeof===Xa)return ft(Ae,ae,Xu(Ae,Te),We);hn(Ae,Te)}return null}function Yt(Ae,ae,Te,We,Tt){if(typeof We=="string"&&We!==""||typeof We=="number"||typeof We=="bigint")return Ae=Ae.get(Te)||null,te(ae,Ae,""+We,Tt);if(typeof We=="object"&&We!==null){switch(We.$$typeof){case rf:return Ae=Ae.get(We.key===null?Te:We.key)||null,pe(ae,Ae,We,Tt);case _a:return Ae=Ae.get(We.key===null?Te:We.key)||null,De(ae,Ae,We,Tt);case Aa:var Qn=We._init;return We=Qn(We._payload),Yt(Ae,ae,Te,We,Tt)}if(Oc(We)||r(We))return Ae=Ae.get(Te)||null,Ke(ae,Ae,We,Tt,null);if(typeof We.then=="function")return Yt(Ae,ae,Te,Pt(We),Tt);if(We.$$typeof===Xa)return Yt(Ae,ae,Te,Xu(ae,We),Tt);hn(ae,We)}return null}function la(Ae,ae,Te,We){for(var Tt=null,Qn=null,Vt=ae,En=ae=0,hi=null;Vt!==null&&En<Te.length;En++){Vt.index>En?(hi=Vt,Vt=null):hi=Vt.sibling;var on=ft(Ae,Vt,Te[En],We);if(on===null){Vt===null&&(Vt=hi);break}c&&Vt&&on.alternate===null&&f(Ae,Vt),ae=N(on,ae,En),Qn===null?Tt=on:Qn.sibling=on,Qn=on,Vt=hi}if(En===Te.length)return v(Ae,Vt),vn&&X(Ae,En),Tt;if(Vt===null){for(;En<Te.length;En++)Vt=ot(Ae,Te[En],We),Vt!==null&&(ae=N(Vt,ae,En),Qn===null?Tt=Vt:Qn.sibling=Vt,Qn=Vt);return vn&&X(Ae,En),Tt}for(Vt=b(Vt);En<Te.length;En++)hi=Yt(Vt,Ae,En,Te[En],We),hi!==null&&(c&&hi.alternate!==null&&Vt.delete(hi.key===null?En:hi.key),ae=N(hi,ae,En),Qn===null?Tt=hi:Qn.sibling=hi,Qn=hi);return c&&Vt.forEach(function(Er){return f(Ae,Er)}),vn&&X(Ae,En),Tt}function nl(Ae,ae,Te,We){if(Te==null)throw Error(s(151));for(var Tt=null,Qn=null,Vt=ae,En=ae=0,hi=null,on=Te.next();Vt!==null&&!on.done;En++,on=Te.next()){Vt.index>En?(hi=Vt,Vt=null):hi=Vt.sibling;var Er=ft(Ae,Vt,on.value,We);if(Er===null){Vt===null&&(Vt=hi);break}c&&Vt&&Er.alternate===null&&f(Ae,Vt),ae=N(Er,ae,En),Qn===null?Tt=Er:Qn.sibling=Er,Qn=Er,Vt=hi}if(on.done)return v(Ae,Vt),vn&&X(Ae,En),Tt;if(Vt===null){for(;!on.done;En++,on=Te.next())on=ot(Ae,on.value,We),on!==null&&(ae=N(on,ae,En),Qn===null?Tt=on:Qn.sibling=on,Qn=on);return vn&&X(Ae,En),Tt}for(Vt=b(Vt);!on.done;En++,on=Te.next())on=Yt(Vt,Ae,En,on.value,We),on!==null&&(c&&on.alternate!==null&&Vt.delete(on.key===null?En:on.key),ae=N(on,ae,En),Qn===null?Tt=on:Qn.sibling=on,Qn=on);return c&&Vt.forEach(function(md){return f(Ae,md)}),vn&&X(Ae,En),Tt}function il(Ae,ae,Te,We){if(typeof Te=="object"&&Te!==null&&Te.type===Ho&&Te.key===null&&(Te=Te.props.children),typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case rf:e:{for(var Tt=Te.key;ae!==null;){if(ae.key===Tt){if(Tt=Te.type,Tt===Ho){if(ae.tag===7){v(Ae,ae.sibling),We=R(ae,Te.props.children),We.return=Ae,Ae=We;break e}}else if(ae.elementType===Tt||typeof Tt=="object"&&Tt!==null&&Tt.$$typeof===Aa&&Bs(Tt)===ae.type){v(Ae,ae.sibling),We=R(ae,Te.props),xn(We,Te),We.return=Ae,Ae=We;break e}v(Ae,ae);break}else f(Ae,ae);ae=ae.sibling}Te.type===Ho?(We=ni(Te.props.children,Ae.mode,We,Te.key),We.return=Ae,Ae=We):(We=hr(Te.type,Te.key,Te.props,null,Ae.mode,We),xn(We,Te),We.return=Ae,Ae=We)}return j(Ae);case _a:e:{for(Tt=Te.key;ae!==null;){if(ae.key===Tt)if(ae.tag===4&&ae.stateNode.containerInfo===Te.containerInfo&&ae.stateNode.implementation===Te.implementation){v(Ae,ae.sibling),We=R(ae,Te.children||[]),We.return=Ae,Ae=We;break e}else{v(Ae,ae);break}else f(Ae,ae);ae=ae.sibling}We=fm(Te,Ae.mode,We),We.return=Ae,Ae=We}return j(Ae);case Aa:return Tt=Te._init,Te=Tt(Te._payload),il(Ae,ae,Te,We)}if(Oc(Te))return la(Ae,ae,Te,We);if(r(Te)){if(Tt=r(Te),typeof Tt!="function")throw Error(s(150));return Te=Tt.call(Te),nl(Ae,ae,Te,We)}if(typeof Te.then=="function")return il(Ae,ae,Pt(Te),We);if(Te.$$typeof===Xa)return il(Ae,ae,Xu(Ae,Te),We);hn(Ae,Te)}return typeof Te=="string"&&Te!==""||typeof Te=="number"||typeof Te=="bigint"?(Te=""+Te,ae!==null&&ae.tag===6?(v(Ae,ae.sibling),We=R(ae,Te),We.return=Ae,Ae=We):(v(Ae,ae),We=zh(Te,Ae.mode,We),We.return=Ae,Ae=We),j(Ae)):v(Ae,ae)}return function(Ae,ae,Te,We){try{Ko=0;var Tt=il(Ae,ae,Te,We);return Jo=null,Tt}catch(Vt){if(Vt===qc)throw Vt;var Qn=t(29,Vt,null,Ae.mode);return Qn.lanes=We,Qn.return=Ae,Qn}finally{}}}function gi(c,f){c=us,w(Wc,c),w(Yn,f),us=c|f.baseLanes}function Ei(){w(Wc,us),w(Yn,Yn.current)}function rs(){us=Wc.current,S(Yn),S(Wc)}function Ds(c){var f=c.alternate;w(Ri,Ri.current&1),w(ta,c),Hn===null&&(f===null||Yn.current!==null||f.memoizedState!==null)&&(Hn=c)}function Nu(c){if(c.tag===22){if(w(Ri,Ri.current),w(ta,c),Hn===null){var f=c.alternate;f!==null&&f.memoizedState!==null&&(Hn=c)}}else Ia()}function Ia(){w(Ri,Ri.current),w(ta,ta.current)}function ys(c){S(ta),Hn===c&&(Hn=null),S(Ri)}function Fa(c){for(var f=c;f!==null;){if(f.tag===13){var v=f.memoizedState;if(v!==null&&(v=v.dehydrated,v===null||Kh(v)||Qh(v)))return f}else if(f.tag===19&&f.memoizedProps.revealOrder!==void 0){if((f.flags&128)!==0)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===c)break;for(;f.sibling===null;){if(f.return===null||f.return===c)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}function Ln(){throw Error(s(321))}function za(c,f){if(f===null)return!1;for(var v=0;v<f.length&&v<c.length;v++)if(!zs(c[v],f[v]))return!1;return!0}function Ha(c,f,v,b,R,N){return ao=N,en=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,Gt.H=c===null||c.memoizedState===null?$o:Es,Zo=!1,N=v(b,R),Zo=!1,Pl&&(N=Fr(f,v,b,R)),Mo(c),N}function Mo(c){Gt.H=ii;var f=Lt!==null&&Lt.next!==null;if(ao=0,_n=Lt=en=null,Ta=!1,Il=0,Vi=null,f)throw Error(s(300));c===null||Gn||(c=c.dependencies,c!==null&&ku(c)&&(Gn=!0))}function Fr(c,f,v,b){en=c;var R=0;do{if(Pl&&(Vi=null),Il=0,Pl=!1,25<=R)throw Error(s(301));if(R+=1,_n=Lt=null,c.updateQueue!=null){var N=c.updateQueue;N.lastEffect=null,N.events=null,N.stores=null,N.memoCache!=null&&(N.memoCache.index=0)}Gt.H=na,N=f(v,b)}while(Pl);return N}function yi(){var c=Gt.H,f=c.useState()[0];return f=typeof f.then=="function"?Se(f):f,c=c.useState()[0],(Lt!==null?Lt.memoizedState:null)!==c&&(en.flags|=1024),f}function dc(){var c=od!==0;return od=0,c}function pc(c,f,v){f.updateQueue=c.updateQueue,f.flags&=-2053,c.lanes&=~v}function Ga(c){if(Ta){for(c=c.memoizedState;c!==null;){var f=c.queue;f!==null&&(f.pending=null),c=c.next}Ta=!1}ao=0,_n=Lt=en=null,Pl=!1,Il=od=0,Vi=null}function k(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _n===null?en.memoizedState=_n=c:_n=_n.next=c,_n}function le(){if(Lt===null){var c=en.alternate;c=c!==null?c.memoizedState:null}else c=Lt.next;var f=_n===null?en.memoizedState:_n.next;if(f!==null)_n=f,Lt=c;else{if(c===null)throw en.alternate===null?Error(s(467)):Error(s(310));Lt=c,c={memoizedState:Lt.memoizedState,baseState:Lt.baseState,baseQueue:Lt.baseQueue,queue:Lt.queue,next:null},_n===null?en.memoizedState=_n=c:_n=_n.next=c}return _n}function Se(c){var f=Il;return Il+=1,Vi===null&&(Vi=[]),c=Ie(Vi,c,f),f=en,(_n===null?f.memoizedState:_n.next)===null&&(f=f.alternate,Gt.H=f===null||f.memoizedState===null?$o:Es),c}function Me(c){if(c!==null&&typeof c=="object"){if(typeof c.then=="function")return Se(c);if(c.$$typeof===Xa)return Wi(c)}throw Error(s(438,String(c)))}function de(c){var f=null,v=en.updateQueue;if(v!==null&&(f=v.memoCache),f==null){var b=en.alternate;b!==null&&(b=b.updateQueue,b!==null&&(b=b.memoCache,b!=null&&(f={data:b.data.map(function(R){return R.slice()}),index:0})))}if(f==null&&(f={data:[],index:0}),v===null&&(v=ld(),en.updateQueue=v),v.memoCache=f,v=f.data[f.index],v===void 0)for(v=f.data[f.index]=Array(c),b=0;b<c;b++)v[b]=iy;return f.index++,v}function ke(c,f){return typeof f=="function"?f(c):f}function Ze(c){var f=le();return ct(f,Lt,c)}function ct(c,f,v){var b=c.queue;if(b===null)throw Error(s(311));b.lastRenderedReducer=v;var R=c.baseQueue,N=b.pending;if(N!==null){if(R!==null){var j=R.next;R.next=N.next,N.next=j}f.baseQueue=R=N,b.pending=null}if(N=c.baseState,R===null)c.memoizedState=N;else{f=R.next;var te=j=null,pe=null,De=f,Ke=!1;do{var ot=De.lane&-536870913;if(ot!==De.lane?(un&ot)===ot:(ao&ot)===ot){var ft=De.revertLane;if(ft===0)pe!==null&&(pe=pe.next={lane:0,revertLane:0,action:De.action,hasEagerState:De.hasEagerState,eagerState:De.eagerState,next:null}),ot===ea&&(Ke=!0);else if((ao&ft)===ft){De=De.next,ft===ea&&(Ke=!0);continue}else ot={lane:0,revertLane:De.revertLane,action:De.action,hasEagerState:De.hasEagerState,eagerState:De.eagerState,next:null},pe===null?(te=pe=ot,j=N):pe=pe.next=ot,en.lanes|=ft,ra|=ft;ot=De.action,Zo&&v(N,ot),N=De.hasEagerState?De.eagerState:v(N,ot)}else ft={lane:ot,revertLane:De.revertLane,action:De.action,hasEagerState:De.hasEagerState,eagerState:De.eagerState,next:null},pe===null?(te=pe=ft,j=N):pe=pe.next=ft,en.lanes|=ot,ra|=ot;De=De.next}while(De!==null&&De!==f);if(pe===null?j=N:pe.next=te,!zs(N,c.memoizedState)&&(Gn=!0,Ke&&(v=Ll,v!==null)))throw v;c.memoizedState=N,c.baseState=j,c.baseQueue=pe,b.lastRenderedState=N}return R===null&&(b.lanes=0),[c.memoizedState,b.dispatch]}function ut(c){var f=le(),v=f.queue;if(v===null)throw Error(s(311));v.lastRenderedReducer=c;var b=v.dispatch,R=v.pending,N=f.memoizedState;if(R!==null){v.pending=null;var j=R=R.next;do N=c(N,j.action),j=j.next;while(j!==R);zs(N,f.memoizedState)||(Gn=!0),f.memoizedState=N,f.baseQueue===null&&(f.baseState=N),v.lastRenderedState=N}return[N,b]}function Ut(c,f,v){var b=en,R=le(),N=vn;if(N){if(v===void 0)throw Error(s(407));v=v()}else v=f();var j=!zs((Lt||R).memoizedState,v);if(j&&(R.memoizedState=v,Gn=!0),R=R.queue,Pp($t.bind(null,b,R,c),[c]),R.getSnapshot!==f||j||_n!==null&&_n.memoizedState.tag&1){if(b.flags|=2048,vs(9,Mt.bind(null,b,R,v,f),{destroy:void 0},null),Bn===null)throw Error(s(349));N||(ao&60)!==0||wt(b,f,v)}return v}function wt(c,f,v){c.flags|=16384,c={getSnapshot:f,value:v},f=en.updateQueue,f===null?(f=ld(),en.updateQueue=f,f.stores=[c]):(v=f.stores,v===null?f.stores=[c]:v.push(c))}function Mt(c,f,v,b){f.value=v,f.getSnapshot=b,Sn(f)&&In(c)}function $t(c,f,v){return v(function(){Sn(f)&&In(c)})}function Sn(c){var f=c.getSnapshot;c=c.value;try{var v=f();return!zs(c,v)}catch{return!0}}function In(c){var f=Ge(c,2);f!==null&&zi(f,c,2)}function rn(c){var f=k();if(typeof c=="function"){var v=c;if(c=v(),Zo){q(!0);try{v()}finally{q(!1)}}}return f.memoizedState=f.baseState=c,f.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ke,lastRenderedState:c},f}function cn(c,f,v,b){return c.baseState=v,ct(c,Lt,typeof b=="function"?b:ke)}function Bt(c,f,v,b,R){if(Fu(c))throw Error(s(485));if(c=f.action,c!==null){var N={payload:R,action:c,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(j){N.listeners.push(j)}};Gt.T!==null?v(!0):N.isTransition=!1,b(N),v=f.pending,v===null?(N.next=f.pending=N,$n(f,N)):(N.next=v.next,f.pending=v.next=N)}}function $n(c,f){var v=f.action,b=f.payload,R=c.state;if(f.isTransition){var N=Gt.T,j={};Gt.T=j;try{var te=v(R,b),pe=Gt.S;pe!==null&&pe(j,te),yn(c,f,te)}catch(De){rr(c,f,De)}finally{Gt.T=N}}else try{N=v(R,b),yn(c,f,N)}catch(De){rr(c,f,De)}}function yn(c,f,v){v!==null&&typeof v=="object"&&typeof v.then=="function"?v.then(function(b){ji(c,f,b)},function(b){return rr(c,f,b)}):ji(c,f,v)}function ji(c,f,v){f.status="fulfilled",f.value=v,Fn(f),c.state=v,f=c.pending,f!==null&&(v=f.next,v===f?c.pending=null:(v=v.next,f.next=v,$n(c,v)))}function rr(c,f,v){var b=c.pending;if(c.pending=null,b!==null){b=b.next;do f.status="rejected",f.reason=v,Fn(f),f=f.next;while(f!==b)}c.action=null}function Fn(c){c=c.listeners;for(var f=0;f<c.length;f++)(0,c[f])()}function or(c,f){return f}function On(c,f){if(vn){var v=Bn.formState;if(v!==null){e:{var b=en;if(vn){if(es){var R=Rm(es,Gi);if(R){es=wm(R),b=Ey(R);break e}}Ye(b)}b=!1}b&&(f=v[0])}}v=k(),v.memoizedState=v.baseState=f,b={pending:null,lanes:0,dispatch:null,lastRenderedReducer:or,lastRenderedState:f},v.queue=b,v=Hp.bind(null,en,b),b.dispatch=v,b=rn(!1);var N=yc.bind(null,en,!1,b.queue);return b=k(),R={state:f,dispatch:null,action:c,pending:null},b.queue=R,v=Bt.bind(null,en,R,N,v),R.dispatch=v,b.memoizedState=c,[f,v,!1]}function Yi(c){var f=le();return vi(f,Lt,c)}function vi(c,f,v){f=ct(c,f,or)[0],c=Ze(ke)[0],f=typeof f=="object"&&f!==null&&typeof f.then=="function"?Se(f):f;var b=le(),R=b.queue,N=R.dispatch;return v!==b.memoizedState&&(en.flags|=2048,vs(9,Pi.bind(null,R,v),{destroy:void 0},null)),[f,N,c]}function Pi(c,f){c.action=f}function Ii(c){var f=le(),v=Lt;if(v!==null)return vi(f,v,c);le(),f=f.memoizedState,v=le();var b=v.queue.dispatch;return v.memoizedState=c,[f,b,!1]}function vs(c,f,v,b){return c={tag:c,create:f,inst:v,deps:b,next:null},f=en.updateQueue,f===null&&(f=ld(),en.updateQueue=f),v=f.lastEffect,v===null?f.lastEffect=c.next=c:(b=v.next,v.next=c,c.next=b,f.lastEffect=c),c}function lr(){return le().memoizedState}function Uu(c,f,v,b){var R=k();en.flags|=c,R.memoizedState=vs(1|f,v,{destroy:void 0},b===void 0?null:b)}function Lu(c,f,v,b){var R=le();b=b===void 0?null:b;var N=R.memoizedState.inst;Lt!==null&&b!==null&&za(b,Lt.memoizedState.deps)?R.memoizedState=vs(f,v,N,b):(en.flags|=c,R.memoizedState=vs(1|f,v,N,b))}function xh(c,f){Uu(8390656,8,c,f)}function Pp(c,f){Lu(2048,8,c,f)}function O0(c,f){return Lu(4,2,c,f)}function Ou(c,f){return Lu(4,4,c,f)}function _h(c,f){if(typeof f=="function"){c=c();var v=f(c);return function(){typeof v=="function"?v():f(null)}}if(f!=null)return c=c(),f.current=c,function(){f.current=null}}function Ah(c,f,v){v=v!=null?v.concat([c]):null,Lu(4,4,_h.bind(null,f,c),v)}function Eo(){}function xl(c,f){var v=le();f=f===void 0?null:f;var b=v.memoizedState;return f!==null&&za(f,b[1])?b[0]:(v.memoizedState=[c,f],c)}function Ip(c,f){var v=le();f=f===void 0?null:f;var b=v.memoizedState;if(f!==null&&za(f,b[1]))return b[0];if(b=c(),Zo){q(!0);try{c()}finally{q(!1)}}return v.memoizedState=[b,f],b}function Pu(c,f,v){return v===void 0||(ao&1073741824)!==0?c.memoizedState=f:(c.memoizedState=v,c=am(),en.lanes|=c,ra|=c,v)}function Fp(c,f,v,b){return zs(v,f)?v:Yn.current!==null?(c=Pu(c,v,b),zs(c,f)||(Gn=!0),c):(ao&42)===0?(Gn=!0,c.memoizedState=v):(c=am(),en.lanes|=c,ra|=c,f)}function mc(c,f,v,b,R){var N=eo();ls(N!==0&&8>N?N:8);var j=Gt.T,te={};Gt.T=te,yc(c,!1,f,v);try{var pe=R(),De=Gt.S;if(De!==null&&De(te,pe),pe!==null&&typeof pe=="object"&&typeof pe.then=="function"){var Ke=$e(pe,b);To(c,f,Ke,li(c))}else To(c,f,b,li(c))}catch(ot){To(c,f,{then:function(){},status:"rejected",reason:ot},li())}finally{ls(N),Gt.T=j}}function cr(c){var f=c.memoizedState;if(f!==null)return f;f={memoizedState:Vo,baseState:Vo,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ke,lastRenderedState:Vo},next:null};var v={};return f.next={memoizedState:v,baseState:v,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ke,lastRenderedState:v},next:null},c.memoizedState=f,c=c.alternate,c!==null&&(c.memoizedState=f),f}function Iu(){return Wi(ja)}function gc(){return le().memoizedState}function zr(){return le().memoizedState}function zp(c){for(var f=c.return;f!==null;){switch(f.tag){case 24:case 3:var v=li();c=Pe(v);var b=tt(f,c,v);b!==null&&(zi(b,f,v),At(b,f,v)),f={cache:Bo()},c.payload=f;return}f=f.return}}function bh(c,f,v){var b=li();v={lane:b,revertLane:0,action:v,hasEagerState:!1,eagerState:null,next:null},Fu(c)?xs(f,v):(v=Xe(c,f,v,b),v!==null&&(zi(v,c,b),Co(v,f,b)))}function Hp(c,f,v){var b=li();To(c,f,v,b)}function To(c,f,v,b){var R={lane:b,revertLane:0,action:v,hasEagerState:!1,eagerState:null,next:null};if(Fu(c))xs(f,R);else{var N=c.alternate;if(c.lanes===0&&(N===null||N.lanes===0)&&(N=f.lastRenderedReducer,N!==null))try{var j=f.lastRenderedState,te=N(j,v);if(R.hasEagerState=!0,R.eagerState=te,zs(te,j))return Je(c,f,R,0),Bn===null&&K(),!1}catch{}finally{}if(v=Xe(c,f,R,b),v!==null)return zi(v,c,b),Co(v,f,b),!0}return!1}function yc(c,f,v,b){if(b={lane:2,revertLane:Be(),action:b,hasEagerState:!1,eagerState:null,next:null},Fu(c)){if(f)throw Error(s(479))}else f=Xe(c,v,b,2),f!==null&&zi(f,c,2)}function Fu(c){var f=c.alternate;return c===en||f!==null&&f===en}function xs(c,f){Pl=Ta=!0;var v=c.pending;v===null?f.next=f:(f.next=v.next,v.next=f),c.pending=f}function Co(c,f,v){if((v&4194176)!==0){var b=f.lanes;b&=c.pendingLanes,v|=b,f.lanes=v,me(c,v)}}function vc(c,f,v,b){f=c.memoizedState,v=v(b,f),v=v==null?f:Gh({},f,v),c.memoizedState=v,c.lanes===0&&(c.updateQueue.baseState=v)}function xc(c,f,v,b,R,N,j){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(b,N,j):f.prototype&&f.prototype.isPureReactComponent?!je(v,b)||!je(R,N):!0}function P0(c,f,v,b){c=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(v,b),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(v,b),f.state!==c&&xr.enqueueReplaceState(f,f.state,null)}function Hr(c,f){var v=f;if("ref"in f){v={};for(var b in f)b!=="ref"&&(v[b]=f[b])}if(c=c.defaultProps){v===f&&(v=Gh({},v));for(var R in c)v[R]===void 0&&(v[R]=c[R])}return v}function _c(c,f){try{var v=c.onUncaughtError;v(f.value,{componentStack:f.stack})}catch(b){setTimeout(function(){throw b})}}function Ac(c,f,v){try{var b=c.onCaughtError;b(v.value,{componentStack:v.stack,errorBoundary:f.tag===1?f.stateNode:null})}catch(R){setTimeout(function(){throw R})}}function bc(c,f,v){return v=Pe(v),v.tag=3,v.payload={element:null},v.callback=function(){_c(c,f)},v}function Gp(c){return c=Pe(c),c.tag=3,c}function I0(c,f,v,b){var R=v.type.getDerivedStateFromError;if(typeof R=="function"){var N=b.value;c.payload=function(){return R(N)},c.callback=function(){Ac(f,v,b)}}var j=v.stateNode;j!==null&&typeof j.componentDidCatch=="function"&&(c.callback=function(){Ac(f,v,b),typeof R!="function"&&(el===null?el=new Set([this]):el.add(this));var te=b.stack;this.componentDidCatch(b.value,{componentStack:te!==null?te:""})})}function gA(c,f,v,b,R){if(v.flags|=32768,b!==null&&typeof b=="object"&&typeof b.then=="function"){if(f=v.alternate,f!==null&&Vu(f,v,R,!0),v=ta.current,v!==null){switch(v.tag){case 13:return Hn===null?Wr():v.alternate===null&&Vn===0&&(Vn=3),v.flags&=-257,v.flags|=65536,v.lanes=R,b===Af?v.flags|=16384:(f=v.updateQueue,f===null?v.updateQueue=new Set([b]):f.add(b),bl(c,b,R)),!1;case 22:return v.flags|=65536,b===Af?v.flags|=16384:(f=v.updateQueue,f===null?(f={transitions:null,markerInstances:null,retryQueue:new Set([b])},v.updateQueue=f):(v=f.retryQueue,v===null?f.retryQueue=new Set([b]):v.add(b)),bl(c,b,R)),!1}throw Error(s(435,v.tag))}return bl(c,b,R),Wr(),!1}if(vn)return f=ta.current,f!==null?((f.flags&65536)===0&&(f.flags|=256),f.flags|=65536,f.lanes=R,b!==vf&&(c=Error(s(422),{cause:b}),St(ue(c,v)))):(b!==vf&&(f=Error(s(423),{cause:b}),St(ue(f,v))),c=c.current.alternate,c.flags|=65536,R&=-R,c.lanes|=R,b=ue(b,v),R=bc(c.stateNode,b,R),Et(c,R),Vn!==4&&(Vn=2)),!1;var N=Error(s(520),{cause:b});if(N=ue(N,v),zl===null?zl=[N]:zl.push(N),Vn!==4&&(Vn=2),f===null)return!0;b=ue(b,v),v=f;do{switch(v.tag){case 3:return v.flags|=65536,c=R&-R,v.lanes|=c,c=bc(v.stateNode,b,c),Et(v,c),!1;case 1:if(f=v.type,N=v.stateNode,(v.flags&128)===0&&(typeof f.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(el===null||!el.has(N))))return v.flags|=65536,R&=-R,v.lanes|=R,R=Gp(R),I0(R,c,v,b),Et(v,R),!1}v=v.return}while(v!==null);return!1}function qi(c,f,v,b){f.child=c===null?vr(f,null,v,b):Qo(f,c.child,v,b)}function Sh(c,f,v,b,R){v=v.render;var N=f.ref;if("ref"in b){var j={};for(var te in b)te!=="ref"&&(j[te]=b[te])}else j=b;return wo(f),b=Ha(c,f,v,j,N,R),te=dc(),c!==null&&!Gn?(pc(c,f,R),Gr(c,f,R)):(vn&&te&&xe(f),f.flags|=1,qi(c,f,b,R),f.child)}function F0(c,f,v,b,R){if(c===null){var N=v.type;return typeof N=="function"&&!tf(N)&&N.defaultProps===void 0&&v.compare===null?(f.tag=15,f.type=N,z0(c,f,N,b,R)):(c=hr(v.type,null,b,f,f.mode,R),c.ref=f.ref,c.return=f,f.child=c)}if(N=c.child,!Yp(c,R)){var j=N.memoizedProps;if(v=v.compare,v=v!==null?v:je,v(j,b)&&c.ref===f.ref)return Gr(c,f,R)}return f.flags|=1,c=xa(N,b),c.ref=f.ref,c.return=f,f.child=c}function z0(c,f,v,b,R){if(c!==null){var N=c.memoizedProps;if(je(N,b)&&c.ref===f.ref)if(Gn=!1,f.pendingProps=b=N,Yp(c,R))(c.flags&131072)!==0&&(Gn=!0);else return f.lanes=c.lanes,Gr(c,f,R)}return Mh(c,f,v,b,R)}function H0(c,f,v){var b=f.pendingProps,R=b.children,N=(f.stateNode._pendingVisibility&2)!==0,j=c!==null?c.memoizedState:null;if(zu(c,f),b.mode==="hidden"||N){if((f.flags&128)!==0){if(b=j!==null?j.baseLanes|v:v,c!==null){for(R=f.child=c.child,N=0;R!==null;)N=N|R.lanes|R.childLanes,R=R.sibling;f.childLanes=N&~b}else f.childLanes=0,f.child=null;return G0(c,f,b,v)}if((v&536870912)!==0)f.memoizedState={baseLanes:0,cachePool:null},c!==null&&Th(f,j!==null?j.cachePool:null),j!==null?gi(f,j):Ei(),Nu(f);else return f.lanes=f.childLanes=536870912,G0(c,f,j!==null?j.baseLanes|v:v,v)}else j!==null?(Th(f,j.cachePool),gi(f,j),Ia(),f.memoizedState=null):(c!==null&&Th(f,null),Ei(),Ia());return qi(c,f,R,v),f.child}function G0(c,f,v,b){var R=Wp();return R=R===null?null:{parent:bs?qn._currentValue:qn._currentValue2,pool:R},f.memoizedState={baseLanes:v,cachePool:R},c!==null&&Th(f,null),Ei(),Nu(f),c!==null&&Vu(c,f,b,!0),null}function zu(c,f){var v=f.ref;if(v===null)c!==null&&c.ref!==null&&(f.flags|=2097664);else{if(typeof v!="function"&&typeof v!="object")throw Error(s(284));(c===null||c.ref!==v)&&(f.flags|=2097664)}}function Mh(c,f,v,b,R){return wo(f),v=Ha(c,f,v,b,void 0,R),b=dc(),c!==null&&!Gn?(pc(c,f,R),Gr(c,f,R)):(vn&&b&&xe(f),f.flags|=1,qi(c,f,v,R),f.child)}function V0(c,f,v,b,R,N){return wo(f),f.updateQueue=null,v=Fr(f,b,v,R),Mo(c),b=dc(),c!==null&&!Gn?(pc(c,f,N),Gr(c,f,N)):(vn&&b&&xe(f),f.flags|=1,qi(c,f,v,N),f.child)}function k0(c,f,v,b,R){if(wo(f),f.stateNode===null){var N=Yo,j=v.contextType;typeof j=="object"&&j!==null&&(N=Wi(j)),N=new v(b,N),f.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,N.updater=xr,f.stateNode=N,N._reactInternals=f,N=f.stateNode,N.props=b,N.state=f.memoizedState,N.refs={},dt(f),j=v.contextType,N.context=typeof j=="object"&&j!==null?Wi(j):Yo,N.state=f.memoizedState,j=v.getDerivedStateFromProps,typeof j=="function"&&(vc(f,v,j,b),N.state=f.memoizedState),typeof v.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(j=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),j!==N.state&&xr.enqueueReplaceState(N,N.state,null),Ot(f,b,N,R),Qe(),N.state=f.memoizedState),typeof N.componentDidMount=="function"&&(f.flags|=4194308),b=!0}else if(c===null){N=f.stateNode;var te=f.memoizedProps,pe=Hr(v,te);N.props=pe;var De=N.context,Ke=v.contextType;j=Yo,typeof Ke=="object"&&Ke!==null&&(j=Wi(Ke));var ot=v.getDerivedStateFromProps;Ke=typeof ot=="function"||typeof N.getSnapshotBeforeUpdate=="function",te=f.pendingProps!==te,Ke||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(te||De!==j)&&P0(f,N,b,j),so=!1;var ft=f.memoizedState;N.state=ft,Ot(f,b,N,R),Qe(),De=f.memoizedState,te||ft!==De||so?(typeof ot=="function"&&(vc(f,v,ot,b),De=f.memoizedState),(pe=so||xc(f,v,pe,b,ft,De,j))?(Ke||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(f.flags|=4194308)):(typeof N.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=b,f.memoizedState=De),N.props=b,N.state=De,N.context=j,b=pe):(typeof N.componentDidMount=="function"&&(f.flags|=4194308),b=!1)}else{N=f.stateNode,gt(c,f),j=f.memoizedProps,Ke=Hr(v,j),N.props=Ke,ot=f.pendingProps,ft=N.context,De=v.contextType,pe=Yo,typeof De=="object"&&De!==null&&(pe=Wi(De)),te=v.getDerivedStateFromProps,(De=typeof te=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(j!==ot||ft!==pe)&&P0(f,N,b,pe),so=!1,ft=f.memoizedState,N.state=ft,Ot(f,b,N,R),Qe();var Yt=f.memoizedState;j!==ot||ft!==Yt||so||c!==null&&c.dependencies!==null&&ku(c.dependencies)?(typeof te=="function"&&(vc(f,v,te,b),Yt=f.memoizedState),(Ke=so||xc(f,v,Ke,b,ft,Yt,pe)||c!==null&&c.dependencies!==null&&ku(c.dependencies))?(De||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(b,Yt,pe),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(b,Yt,pe)),typeof N.componentDidUpdate=="function"&&(f.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof N.componentDidUpdate!="function"||j===c.memoizedProps&&ft===c.memoizedState||(f.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||j===c.memoizedProps&&ft===c.memoizedState||(f.flags|=1024),f.memoizedProps=b,f.memoizedState=Yt),N.props=b,N.state=Yt,N.context=pe,b=Ke):(typeof N.componentDidUpdate!="function"||j===c.memoizedProps&&ft===c.memoizedState||(f.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||j===c.memoizedProps&&ft===c.memoizedState||(f.flags|=1024),b=!1)}return N=b,zu(c,f),b=(f.flags&128)!==0,N||b?(N=f.stateNode,v=b&&typeof v.getDerivedStateFromError!="function"?null:N.render(),f.flags|=1,c!==null&&b?(f.child=Qo(f,c.child,null,R),f.child=Qo(f,null,v,R)):qi(c,f,v,R),f.memoizedState=N.state,c=f.child):c=Gr(c,f,R),c}function X0(c,f,v,b){return Rt(),f.flags|=256,qi(c,f,v,b),f.child}function Vp(c){return{baseLanes:c,cachePool:Jp()}}function Hu(c,f,v){return c=c!==null?c.childLanes&~v:0,f&&(c|=oa),c}function j0(c,f,v){var b=f.pendingProps,R=!1,N=(f.flags&128)!==0,j;if((j=N)||(j=c!==null&&c.memoizedState===null?!1:(Ri.current&2)!==0),j&&(R=!0,f.flags&=-129),j=(f.flags&32)!==0,f.flags&=-33,c===null){if(vn){if(R?Ds(f):Ia(),vn){var te=es,pe;(pe=te)&&(te=Ry(te,Gi),te!==null?(f.memoizedState={dehydrated:te,treeContext:qo!==null?{id:qa,overflow:Wa}:null,retryLane:536870912},pe=t(18,null,null,0),pe.stateNode=te,pe.return=f,f.child=pe,$i=f,es=null,pe=!0):pe=!1),pe||Ye(f)}if(te=f.memoizedState,te!==null&&(te=te.dehydrated,te!==null))return Qh(te)?f.lanes=16:f.lanes=536870912,null;ys(f)}return te=b.children,b=b.fallback,R?(Ia(),R=f.mode,te=Xp({mode:"hidden",children:te},R),b=ni(b,R,v,null),te.return=f,b.return=f,te.sibling=b,f.child=te,R=f.child,R.memoizedState=Vp(v),R.childLanes=Hu(c,j,v),f.memoizedState=fd,b):(Ds(f),kp(f,te))}if(pe=c.memoizedState,pe!==null&&(te=pe.dehydrated,te!==null)){if(N)f.flags&256?(Ds(f),f.flags&=-257,f=Eh(c,f,v)):f.memoizedState!==null?(Ia(),f.child=c.child,f.flags|=128,f=null):(Ia(),R=b.fallback,te=f.mode,b=Xp({mode:"visible",children:b.children},te),R=ni(R,te,v,null),R.flags|=2,b.return=f,R.return=f,b.sibling=R,f.child=b,Qo(f,c.child,null,v),b=f.child,b.memoizedState=Vp(v),b.childLanes=Hu(c,j,v),f.memoizedState=fd,f=R);else if(Ds(f),Qh(te))j=Sy(te).digest,b=Error(s(419)),b.stack="",b.digest=j,St({value:b,source:null,stack:null}),f=Eh(c,f,v);else if(Gn||Vu(c,f,v,!1),j=(v&c.childLanes)!==0,Gn||j){if(j=Bn,j!==null){if(b=v&-v,(b&42)!==0)b=1;else switch(b){case 2:b=1;break;case 8:b=4;break;case 32:b=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:b=64;break;case 268435456:b=134217728;break;default:b=0}if(b=(b&(j.suspendedLanes|v))!==0?0:b,b!==0&&b!==pe.retryLane)throw pe.retryLane=b,Ge(c,b),zi(j,c,b),ud}Kh(te)||Wr(),f=Eh(c,f,v)}else Kh(te)?(f.flags|=128,f.child=c.child,f=Jr.bind(null,c),My(te,f),f=null):(c=pe.treeContext,Zi&&(es=Cy(te),$i=f,vn=!0,Ma=null,Gi=!1,c!==null&&(Zs[$s++]=qa,Zs[$s++]=Wa,Zs[$s++]=qo,qa=c.id,Wa=c.overflow,qo=f)),f=kp(f,b.children),f.flags|=4096);return f}return R?(Ia(),R=b.fallback,te=f.mode,pe=c.child,N=pe.sibling,b=xa(pe,{mode:"hidden",children:b.children}),b.subtreeFlags=pe.subtreeFlags&31457280,N!==null?R=xa(N,R):(R=ni(R,te,v,null),R.flags|=2),R.return=f,b.return=f,b.sibling=R,f.child=b,b=R,R=f.child,te=c.child.memoizedState,te===null?te=Vp(v):(pe=te.cachePool,pe!==null?(N=bs?qn._currentValue:qn._currentValue2,pe=pe.parent!==N?{parent:N,pool:N}:pe):pe=Jp(),te={baseLanes:te.baseLanes|v,cachePool:pe}),R.memoizedState=te,R.childLanes=Hu(c,j,v),f.memoizedState=fd,b):(Ds(f),v=c.child,c=v.sibling,v=xa(v,{mode:"visible",children:b.children}),v.return=f,v.sibling=null,c!==null&&(j=f.deletions,j===null?(f.deletions=[c],f.flags|=16):j.push(c)),f.child=v,f.memoizedState=null,v)}function kp(c,f){return f=Xp({mode:"visible",children:f},c.mode),f.return=c,c.child=f}function Xp(c,f){return sf(c,f,0,null)}function Eh(c,f,v){return Qo(f,c.child,null,v),c=kp(f,f.pendingProps.children),c.flags|=2,f.memoizedState=null,c}function Y0(c,f,v){c.lanes|=f;var b=c.alternate;b!==null&&(b.lanes|=f),Gu(c.return,f,v)}function jp(c,f,v,b,R){var N=c.memoizedState;N===null?c.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:b,tail:v,tailMode:R}:(N.isBackwards=f,N.rendering=null,N.renderingStartTime=0,N.last=b,N.tail=v,N.tailMode=R)}function q0(c,f,v){var b=f.pendingProps,R=b.revealOrder,N=b.tail;if(qi(c,f,b.children,v),b=Ri.current,(b&2)!==0)b=b&1|2,f.flags|=128;else{if(c!==null&&(c.flags&128)!==0)e:for(c=f.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&Y0(c,v,f);else if(c.tag===19)Y0(c,v,f);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===f)break e;for(;c.sibling===null;){if(c.return===null||c.return===f)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}b&=1}switch(w(Ri,b),R){case"forwards":for(v=f.child,R=null;v!==null;)c=v.alternate,c!==null&&Fa(c)===null&&(R=v),v=v.sibling;v=R,v===null?(R=f.child,f.child=null):(R=v.sibling,v.sibling=null),jp(f,!1,R,v,N);break;case"backwards":for(v=null,R=f.child,f.child=null;R!==null;){if(c=R.alternate,c!==null&&Fa(c)===null){f.child=R;break}c=R.sibling,R.sibling=v,v=R,R=c}jp(f,!0,v,null,N);break;case"together":jp(f,!1,null,null,void 0);break;default:f.memoizedState=null}return f.child}function Gr(c,f,v){if(c!==null&&(f.dependencies=c.dependencies),ra|=f.lanes,(v&f.childLanes)===0)if(c!==null){if(Vu(c,f,v,!1),(v&f.childLanes)===0)return null}else return null;if(c!==null&&f.child!==c.child)throw Error(s(153));if(f.child!==null){for(c=f.child,v=xa(c,c.pendingProps),f.child=v,v.return=f;c.sibling!==null;)c=c.sibling,v=v.sibling=xa(c,c.pendingProps),v.return=f;v.sibling=null}return f.child}function Yp(c,f){return(c.lanes&f)!==0?!0:(c=c.dependencies,!!(c!==null&&ku(c)))}function yA(c,f,v){switch(f.tag){case 3:ne(f,f.stateNode.containerInfo),Ro(f,qn,c.memoizedState.cache),Rt();break;case 27:case 5:Oe(f);break;case 4:ne(f,f.stateNode.containerInfo);break;case 10:Ro(f,f.type,f.memoizedProps.value);break;case 13:var b=f.memoizedState;if(b!==null)return b.dehydrated!==null?(Ds(f),f.flags|=128,null):(v&f.child.childLanes)!==0?j0(c,f,v):(Ds(f),c=Gr(c,f,v),c!==null?c.sibling:null);Ds(f);break;case 19:var R=(c.flags&128)!==0;if(b=(v&f.childLanes)!==0,b||(Vu(c,f,v,!1),b=(v&f.childLanes)!==0),R){if(b)return q0(c,f,v);f.flags|=128}if(R=f.memoizedState,R!==null&&(R.rendering=null,R.tail=null,R.lastEffect=null),w(Ri,Ri.current),b)break;return null;case 22:case 23:return f.lanes=0,H0(c,f,v);case 24:Ro(f,qn,c.memoizedState.cache)}return Gr(c,f,v)}function W0(c,f,v){if(c!==null)if(c.memoizedProps!==f.pendingProps)Gn=!0;else{if(!Yp(c,v)&&(f.flags&128)===0)return Gn=!1,yA(c,f,v);Gn=(c.flags&131072)!==0}else Gn=!1,vn&&(f.flags&1048576)!==0&&ie(f,kc,f.index);switch(f.lanes=0,f.tag){case 16:e:{c=f.pendingProps;var b=f.elementType,R=b._init;if(b=R(b._payload),f.type=b,typeof b=="function")tf(b)?(c=Hr(b,c),f.tag=1,f=k0(null,f,b,c,v)):(f.tag=0,f=Mh(null,f,b,c,v));else{if(b!=null){if(R=b.$$typeof,R===cf){f.tag=11,f=Sh(null,f,b,c,v);break e}else if(R===Xh){f.tag=14,f=F0(null,f,b,c,v);break e}}throw f=o(b)||b,Error(s(306,f,""))}}return f;case 0:return Mh(c,f,f.type,f.pendingProps,v);case 1:return b=f.type,R=Hr(b,f.pendingProps),k0(c,f,b,R,v);case 3:e:{if(ne(f,f.stateNode.containerInfo),c===null)throw Error(s(387));var N=f.pendingProps;R=f.memoizedState,b=R.element,gt(c,f),Ot(f,N,null,v);var j=f.memoizedState;if(N=j.cache,Ro(f,qn,N),N!==R.cache&&_l(f,[qn],v,!0),Qe(),N=j.element,Zi&&R.isDehydrated)if(R={element:N,isDehydrated:!1,cache:j.cache},f.updateQueue.baseState=R,f.memoizedState=R,f.flags&256){f=X0(c,f,N,v);break e}else if(N!==b){b=ue(Error(s(424)),f),St(b),f=X0(c,f,N,v);break e}else for(Zi&&(es=Ty(f.stateNode.containerInfo),$i=f,vn=!0,Ma=null,Gi=!0),v=vr(f,null,N,v),f.child=v;v;)v.flags=v.flags&-3|4096,v=v.sibling;else{if(Rt(),N===b){f=Gr(c,f,v);break e}qi(c,f,N,v)}f=f.child}return f;case 26:if(Qs)return zu(c,f),c===null?(v=Nm(f.type,null,f.pendingProps,null))?f.memoizedState=v:vn||(f.stateNode=nd(f.type,f.pendingProps,gr.current,f)):f.memoizedState=Nm(f.type,c.memoizedProps,f.pendingProps,c.memoizedState),null;case 27:if(zn)return Oe(f),c===null&&zn&&vn&&(b=f.stateNode=Ya(f.type,f.pendingProps,gr.current,Ci.current,!1),$i=f,Gi=!0,es=Zh(b)),b=f.pendingProps.children,c!==null||vn?qi(c,f,b,v):f.child=Qo(f,null,b,v),zu(c,f),f.child;case 5:return c===null&&vn&&(ed(f.type,f.pendingProps,Ci.current),(R=b=es)&&(b=MA(b,f.type,f.pendingProps,Gi),b!==null?(f.stateNode=b,$i=f,es=Zh(b),Gi=!1,R=!0):R=!1),R||Ye(f)),Oe(f),R=f.type,N=f.pendingProps,j=c!==null?c.memoizedProps:null,b=N.children,Wt(R,N)?b=null:j!==null&&Wt(R,j)&&(f.flags|=32),f.memoizedState!==null&&(R=Ha(c,f,yi,null,null,v),bs?ja._currentValue=R:ja._currentValue2=R),zu(c,f),qi(c,f,b,v),f.child;case 6:return c===null&&vn&&(Uy(f.pendingProps,Ci.current),(c=v=es)&&(v=Bm(v,f.pendingProps,Gi),v!==null?(f.stateNode=v,$i=f,es=null,c=!0):c=!1),c||Ye(f)),null;case 13:return j0(c,f,v);case 4:return ne(f,f.stateNode.containerInfo),b=f.pendingProps,c===null?f.child=Qo(f,null,b,v):qi(c,f,b,v),f.child;case 11:return Sh(c,f,f.type,f.pendingProps,v);case 7:return qi(c,f,f.pendingProps,v),f.child;case 8:return qi(c,f,f.pendingProps.children,v),f.child;case 12:return qi(c,f,f.pendingProps.children,v),f.child;case 10:return b=f.pendingProps,Ro(f,f.type,b.value),qi(c,f,b.children,v),f.child;case 9:return R=f.type._context,b=f.pendingProps.children,wo(f),R=Wi(R),b=b(R),f.flags|=1,qi(c,f,b,v),f.child;case 14:return F0(c,f,f.type,f.pendingProps,v);case 15:return z0(c,f,f.type,f.pendingProps,v);case 19:return q0(c,f,v);case 22:return H0(c,f,v);case 24:return wo(f),b=Wi(qn),c===null?(R=Wp(),R===null&&(R=Bn,N=Bo(),R.pooledCache=N,N.refCount++,N!==null&&(R.pooledCacheLanes|=v),R=N),f.memoizedState={parent:b,cache:R},dt(f),Ro(f,qn,R)):((c.lanes&v)!==0&&(gt(c,f),Ot(f,null,null,v),Qe()),R=c.memoizedState,N=f.memoizedState,R.parent!==b?(R={parent:b,cache:b},f.memoizedState=R,f.lanes===0&&(f.memoizedState=f.updateQueue.baseState=R),Ro(f,qn,b)):(b=N.cache,Ro(f,qn,b),b!==R.cache&&_l(f,[qn],v,!0))),qi(c,f,f.pendingProps.children,v),f.child;case 29:throw f.pendingProps}throw Error(s(156,f.tag))}function Ro(c,f,v){bs?(w(ro,f._currentValue),f._currentValue=v):(w(ro,f._currentValue2),f._currentValue2=v)}function Vr(c){var f=ro.current;bs?c._currentValue=f:c._currentValue2=f,S(ro)}function Gu(c,f,v){for(;c!==null;){var b=c.alternate;if((c.childLanes&f)!==f?(c.childLanes|=f,b!==null&&(b.childLanes|=f)):b!==null&&(b.childLanes&f)!==f&&(b.childLanes|=f),c===v)break;c=c.return}}function _l(c,f,v,b){var R=c.child;for(R!==null&&(R.return=c);R!==null;){var N=R.dependencies;if(N!==null){var j=R.child;N=N.firstContext;e:for(;N!==null;){var te=N;N=R;for(var pe=0;pe<f.length;pe++)if(te.context===f[pe]){N.lanes|=v,te=N.alternate,te!==null&&(te.lanes|=v),Gu(N.return,v,c),b||(j=null);break e}N=te.next}}else if(R.tag===18){if(j=R.return,j===null)throw Error(s(341));j.lanes|=v,N=j.alternate,N!==null&&(N.lanes|=v),Gu(j,v,c),j=null}else j=R.child;if(j!==null)j.return=R;else for(j=R;j!==null;){if(j===c){j=null;break}if(R=j.sibling,R!==null){R.return=j.return,j=R;break}j=j.return}R=j}}function Vu(c,f,v,b){c=null;for(var R=f,N=!1;R!==null;){if(!N){if((R.flags&524288)!==0)N=!0;else if((R.flags&262144)!==0)break}if(R.tag===10){var j=R.alternate;if(j===null)throw Error(s(387));if(j=j.memoizedProps,j!==null){var te=R.type;zs(R.pendingProps.value,j.value)||(c!==null?c.push(te):c=[te])}}else if(R===Bl.current){if(j=R.alternate,j===null)throw Error(s(387));j.memoizedState.memoizedState!==R.memoizedState.memoizedState&&(c!==null?c.push(ja):c=[ja])}R=R.return}c!==null&&_l(f,c,v,b),f.flags|=262144}function ku(c){for(c=c.firstContext;c!==null;){var f=c.context;if(!zs(bs?f._currentValue:f._currentValue2,c.memoizedValue))return!0;c=c.next}return!1}function wo(c){Qa=c,ia=null,c=c.dependencies,c!==null&&(c.firstContext=null)}function Wi(c){return qp(Qa,c)}function Xu(c,f){return Qa===null&&wo(c),qp(c,f)}function qp(c,f){var v=bs?f._currentValue:f._currentValue2;if(f={context:f,memoizedValue:v,next:null},ia===null){if(c===null)throw Error(s(308));ia=f,c.dependencies={lanes:0,firstContext:f},c.flags|=524288}else ia=ia.next=f;return v}function Bo(){return{controller:new Jc,data:new Map,refCount:0}}function ju(c){c.refCount--,c.refCount===0&&Xy(jy,function(){c.controller.abort()})}function Wp(){var c=_r.current;return c!==null?c:Bn.pooledCache}function Th(c,f){f===null?w(_r,_r.current):w(_r,f.pool)}function Jp(){var c=Wp();return c===null?null:{parent:bs?qn._currentValue:qn._currentValue2,pool:c}}function Ns(c){c.flags|=4}function Sc(c,f){if(c!==null&&c.child===f.child)return!1;if((f.flags&16)!==0)return!0;for(c=f.child;c!==null;){if((c.flags&13878)!==0||(c.subtreeFlags&13878)!==0)return!0;c=c.sibling}return!1}function Al(c,f,v,b){if(Ti)for(v=f.child;v!==null;){if(v.tag===5||v.tag===6)ff(c,v.stateNode);else if(!(v.tag===4||zn&&v.tag===27)&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===f)break;for(;v.sibling===null;){if(v.return===null||v.return===f)return;v=v.return}v.sibling.return=v.return,v=v.sibling}else if(ba)for(var R=f.child;R!==null;){if(R.tag===5){var N=R.stateNode;v&&b&&(N=Tm(N,R.type,R.memoizedProps)),ff(c,N)}else if(R.tag===6)N=R.stateNode,v&&b&&(N=Cm(N,R.memoizedProps)),ff(c,N);else if(R.tag!==4){if(R.tag===22&&R.memoizedState!==null)N=R.child,N!==null&&(N.return=R),Al(c,R,!0,!0);else if(R.child!==null){R.child.return=R,R=R.child;continue}}if(R===f)break;for(;R.sibling===null;){if(R.return===null||R.return===f)return;R=R.return}R.sibling.return=R.return,R=R.sibling}}function J0(c,f,v,b){if(ba)for(var R=f.child;R!==null;){if(R.tag===5){var N=R.stateNode;v&&b&&(N=Tm(N,R.type,R.memoizedProps)),Em(c,N)}else if(R.tag===6)N=R.stateNode,v&&b&&(N=Cm(N,R.memoizedProps)),Em(c,N);else if(R.tag!==4){if(R.tag===22&&R.memoizedState!==null)N=R.child,N!==null&&(N.return=R),J0(c,R,!(R.memoizedProps!==null&&R.memoizedProps.mode==="manual"),!0);else if(R.child!==null){R.child.return=R,R=R.child;continue}}if(R===f)break;for(;R.sibling===null;){if(R.return===null||R.return===f)return;R=R.return}R.sibling.return=R.return,R=R.sibling}}function Yu(c,f){if(ba&&Sc(c,f)){c=f.stateNode;var v=c.containerInfo,b=hf();J0(b,f,!1,!1),c.pendingChildren=b,Ns(f),Jh(v,b)}}function Ch(c,f,v,b){if(Ti)c.memoizedProps!==b&&Ns(f);else if(ba){var R=c.stateNode,N=c.memoizedProps;if((c=Sc(c,f))||N!==b){var j=Ci.current;N=Hc(R,v,N,b,!c,null),N===R?f.stateNode=R:($r(N,v,b,j)&&Ns(f),f.stateNode=N,c?Al(N,f,!1,!1):Ns(f))}else f.stateNode=R}}function Rh(c,f,v){if(ym(f,v)){if(c.flags|=16777216,!qh(f,v))if(Po())c.flags|=8192;else throw Wo=Af,_f}else c.flags&=-16777217}function wh(c,f){if(Py(f)){if(c.flags|=16777216,!El(f))if(Po())c.flags|=8192;else throw Wo=Af,_f}else c.flags&=-16777217}function Mc(c,f){f!==null&&(c.flags|=4),c.flags&16384&&(f=c.tag!==22?U():536870912,c.lanes|=f,Sr|=f)}function Ec(c,f){if(!vn)switch(c.tailMode){case"hidden":f=c.tail;for(var v=null;f!==null;)f.alternate!==null&&(v=f),f=f.sibling;v===null?c.tail=null:v.sibling=null;break;case"collapsed":v=c.tail;for(var b=null;v!==null;)v.alternate!==null&&(b=v),v=v.sibling;b===null?f||c.tail===null?c.tail=null:c.tail.sibling=null:b.sibling=null}}function Zn(c){var f=c.alternate!==null&&c.alternate.child===c.child,v=0,b=0;if(f)for(var R=c.child;R!==null;)v|=R.lanes|R.childLanes,b|=R.subtreeFlags&31457280,b|=R.flags&31457280,R.return=c,R=R.sibling;else for(R=c.child;R!==null;)v|=R.lanes|R.childLanes,b|=R.subtreeFlags,b|=R.flags,R.return=c,R=R.sibling;return c.subtreeFlags|=b,c.childLanes=v,f}function K0(c,f,v){var b=f.pendingProps;switch(_e(f),f.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zn(f),null;case 1:return Zn(f),null;case 3:return v=f.stateNode,b=null,c!==null&&(b=c.memoizedState.cache),f.memoizedState.cache!==b&&(f.flags|=2048),Vr(qn),Ce(),v.pendingContext&&(v.context=v.pendingContext,v.pendingContext=null),(c===null||c.child===null)&&(mt(f)?Ns(f):c===null||c.memoizedState.isDehydrated&&(f.flags&256)===0||(f.flags|=1024,Ma!==null&&($u(Ma),Ma=null))),Yu(c,f),Zn(f),null;case 26:if(Qs){v=f.type;var R=f.memoizedState;return c===null?(Ns(f),R!==null?(Zn(f),wh(f,R)):(Zn(f),Rh(f,v,b))):R?R!==c.memoizedState?(Ns(f),Zn(f),wh(f,R)):(Zn(f),f.flags&=-16777217):(Ti?c.memoizedProps!==b&&Ns(f):Ch(c,f,v,b),Zn(f),Rh(f,v,b)),null}case 27:if(zn){if(He(f),v=gr.current,R=f.type,c!==null&&f.stateNode!=null)Ti?c.memoizedProps!==b&&Ns(f):Ch(c,f,R,b);else{if(!b){if(f.stateNode===null)throw Error(s(166));return Zn(f),null}c=Ci.current,mt(f)?bt(f,c):(c=Ya(R,b,v,c,!0),f.stateNode=c,Ns(f))}return Zn(f),null}case 5:if(He(f),v=f.type,c!==null&&f.stateNode!=null)Ch(c,f,v,b);else{if(!b){if(f.stateNode===null)throw Error(s(166));return Zn(f),null}c=Ci.current,mt(f)?bt(f,c):(R=gm(v,b,gr.current,c,f),Al(R,f,!1,!1),f.stateNode=R,$r(R,v,b,c)&&Ns(f))}return Zn(f),Rh(f,f.type,f.pendingProps),null;case 6:if(c&&f.stateNode!=null)v=c.memoizedProps,Ti?v!==b&&Ns(f):ba&&(v!==b?(f.stateNode=Nn(b,gr.current,Ci.current,f),Ns(f)):f.stateNode=c.stateNode);else{if(typeof b!="string"&&f.stateNode===null)throw Error(s(166));if(c=gr.current,v=Ci.current,mt(f)){if(!Zi)throw Error(s(176));if(c=f.stateNode,v=f.memoizedProps,b=null,R=$i,R!==null)switch(R.tag){case 27:case 5:b=R.memoizedProps}Dm(c,v,f,b)||Ye(f)}else f.stateNode=Nn(b,c,v,f)}return Zn(f),null;case 13:if(b=f.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(R=mt(f),b!==null&&b.dehydrated!==null){if(c===null){if(!R)throw Error(s(318));if(!Zi)throw Error(s(344));if(R=f.memoizedState,R=R!==null?R.dehydrated:null,!R)throw Error(s(317));By(R,f)}else Rt(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;Zn(f),R=!1}else Ma!==null&&($u(Ma),Ma=null),R=!0;if(!R)return f.flags&256?(ys(f),f):(ys(f),null)}if(ys(f),(f.flags&128)!==0)return f.lanes=v,f;if(v=b!==null,c=c!==null&&c.memoizedState!==null,v){b=f.child,R=null,b.alternate!==null&&b.alternate.memoizedState!==null&&b.alternate.memoizedState.cachePool!==null&&(R=b.alternate.memoizedState.cachePool.pool);var N=null;b.memoizedState!==null&&b.memoizedState.cachePool!==null&&(N=b.memoizedState.cachePool.pool),N!==R&&(b.flags|=2048)}return v!==c&&v&&(f.child.flags|=8192),Mc(f,f.updateQueue),Zn(f),null;case 4:return Ce(),Yu(c,f),c===null&&ci(f.stateNode.containerInfo),Zn(f),null;case 10:return Vr(f.type),Zn(f),null;case 19:if(S(Ri),R=f.memoizedState,R===null)return Zn(f),null;if(b=(f.flags&128)!==0,N=R.rendering,N===null)if(b)Ec(R,!1);else{if(Vn!==0||c!==null&&(c.flags&128)!==0)for(c=f.child;c!==null;){if(N=Fa(c),N!==null){for(f.flags|=128,Ec(R,!1),c=N.updateQueue,f.updateQueue=c,Mc(f,c),f.subtreeFlags=0,c=v,v=f.child;v!==null;)nf(v,c),v=v.sibling;return w(Ri,Ri.current&1|2),f.child}c=c.sibling}R.tail!==null&&Sa()>Zc&&(f.flags|=128,b=!0,Ec(R,!1),f.lanes=4194304)}else{if(!b)if(c=Fa(N),c!==null){if(f.flags|=128,b=!0,c=c.updateQueue,f.updateQueue=c,Mc(f,c),Ec(R,!0),R.tail===null&&R.tailMode==="hidden"&&!N.alternate&&!vn)return Zn(f),null}else 2*Sa()-R.renderingStartTime>Zc&&v!==536870912&&(f.flags|=128,b=!0,Ec(R,!1),f.lanes=4194304);R.isBackwards?(N.sibling=f.child,f.child=N):(c=R.last,c!==null?c.sibling=N:f.child=N,R.last=N)}return R.tail!==null?(f=R.tail,R.rendering=f,R.tail=f.sibling,R.renderingStartTime=Sa(),f.sibling=null,c=Ri.current,w(Ri,b?c&1|2:c&1),f):(Zn(f),null);case 22:case 23:return ys(f),rs(),b=f.memoizedState!==null,c!==null?c.memoizedState!==null!==b&&(f.flags|=8192):b&&(f.flags|=8192),b?(v&536870912)!==0&&(f.flags&128)===0&&(Zn(f),f.subtreeFlags&6&&(f.flags|=8192)):Zn(f),v=f.updateQueue,v!==null&&Mc(f,v.retryQueue),v=null,c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(v=c.memoizedState.cachePool.pool),b=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(b=f.memoizedState.cachePool.pool),b!==v&&(f.flags|=2048),c!==null&&S(_r),null;case 24:return v=null,c!==null&&(v=c.memoizedState.cache),f.memoizedState.cache!==v&&(f.flags|=2048),Vr(qn),Zn(f),null;case 25:return null}throw Error(s(156,f.tag))}function vA(c,f){switch(_e(f),f.tag){case 1:return c=f.flags,c&65536?(f.flags=c&-65537|128,f):null;case 3:return Vr(qn),Ce(),c=f.flags,(c&65536)!==0&&(c&128)===0?(f.flags=c&-65537|128,f):null;case 26:case 27:case 5:return He(f),null;case 13:if(ys(f),c=f.memoizedState,c!==null&&c.dehydrated!==null){if(f.alternate===null)throw Error(s(340));Rt()}return c=f.flags,c&65536?(f.flags=c&-65537|128,f):null;case 19:return S(Ri),null;case 4:return Ce(),null;case 10:return Vr(f.type),null;case 22:case 23:return ys(f),rs(),c!==null&&S(_r),c=f.flags,c&65536?(f.flags=c&-65537|128,f):null;case 24:return Vr(qn),null;case 25:return null;default:return null}}function Q0(c,f){switch(_e(f),f.tag){case 3:Vr(qn),Ce();break;case 26:case 27:case 5:He(f);break;case 4:Ce();break;case 13:ys(f);break;case 19:S(Ri);break;case 10:Vr(f.type);break;case 22:case 23:ys(f),rs(),c!==null&&S(_r);break;case 24:Vr(qn)}}function qu(c,f){try{var v=f.updateQueue,b=v!==null?v.lastEffect:null;if(b!==null){var R=b.next;v=R;do{if((v.tag&c)===c){b=void 0;var N=v.create,j=v.inst;b=N(),j.destroy=b}v=v.next}while(v!==R)}}catch(te){Rn(f,f.return,te)}}function Do(c,f,v){try{var b=f.updateQueue,R=b!==null?b.lastEffect:null;if(R!==null){var N=R.next;b=N;do{if((b.tag&c)===c){var j=b.inst,te=j.destroy;if(te!==void 0){j.destroy=void 0,R=f;var pe=v;try{te()}catch(De){Rn(R,pe,De)}}}b=b.next}while(b!==N)}}catch(De){Rn(f,f.return,De)}}function Z0(c){var f=c.updateQueue;if(f!==null){var v=c.stateNode;try{st(f,v)}catch(b){Rn(c,c.return,b)}}}function Us(c,f,v){v.props=Hr(c.type,c.memoizedProps),v.state=c.memoizedState;try{v.componentWillUnmount()}catch(b){Rn(c,f,b)}}function Va(c,f){try{var v=c.ref;if(v!==null){var b=c.stateNode;switch(c.tag){case 26:case 27:case 5:var R=Ic(b);break;default:R=b}typeof v=="function"?c.refCleanup=v(R):v.current=R}}catch(N){Rn(c,f,N)}}function Ls(c,f){var v=c.ref,b=c.refCleanup;if(v!==null)if(typeof b=="function")try{b()}catch(R){Rn(c,f,R)}finally{c.refCleanup=null,c=c.alternate,c!=null&&(c.refCleanup=null)}else if(typeof v=="function")try{v(null)}catch(R){Rn(c,f,R)}else v.current=null}function Kp(c){var f=c.type,v=c.memoizedProps,b=c.stateNode;try{bA(b,f,v,c)}catch(R){Rn(c,c.return,R)}}function Qp(c,f,v){try{my(c.stateNode,c.type,v,f,c)}catch(b){Rn(c,c.return,b)}}function Zp(c){return c.tag===5||c.tag===3||(Qs?c.tag===26:!1)||(zn?c.tag===27:!1)||c.tag===4}function Wu(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||Zp(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&(!zn||c.tag!==27)&&c.tag!==18;){if(c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function $p(c,f,v){var b=c.tag;if(b===5||b===6)c=c.stateNode,f?yy(v,c,f):bm(v,c);else if(!(b===4||zn&&b===27)&&(c=c.child,c!==null))for($p(c,f,v),c=c.sibling;c!==null;)$p(c,f,v),c=c.sibling}function kr(c,f,v){var b=c.tag;if(b===5||b===6)c=c.stateNode,f?gy(v,c,f):dy(v,c);else if(!(b===4||zn&&b===27)&&(c=c.child,c!==null))for(kr(c,f,v),c=c.sibling;c!==null;)kr(c,f,v),c=c.sibling}function Bh(c,f,v){c=c.containerInfo;try{Gc(c,v)}catch(b){Rn(f,f.return,b)}}function Ju(c,f){for(jh(c.containerInfo),jt=f;jt!==null;)if(c=jt,f=c.child,(c.subtreeFlags&1028)!==0&&f!==null)f.return=c,jt=f;else for(;jt!==null;){c=jt;var v=c.alternate;switch(f=c.flags,c.tag){case 0:break;case 11:case 15:break;case 1:if((f&1024)!==0&&v!==null){f=void 0;var b=c,R=v.memoizedProps;v=v.memoizedState;var N=b.stateNode;try{var j=Hr(b.type,R,b.elementType===b.type);f=N.getSnapshotBeforeUpdate(j,v),N.__reactInternalSnapshotBeforeUpdate=f}catch(te){Rn(b,b.return,te)}}break;case 3:(f&1024)!==0&&Ti&&by(c.stateNode.containerInfo);break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((f&1024)!==0)throw Error(s(163))}if(f=c.sibling,f!==null){f.return=c.return,jt=f;break}jt=c.return}return j=an,an=!1,j}function Dh(c,f,v){var b=v.flags;switch(v.tag){case 0:case 11:case 15:jr(c,v),b&4&&qu(5,v);break;case 1:if(jr(c,v),b&4)if(c=v.stateNode,f===null)try{c.componentDidMount()}catch(te){Rn(v,v.return,te)}else{var R=Hr(v.type,f.memoizedProps);f=f.memoizedState;try{c.componentDidUpdate(R,f,c.__reactInternalSnapshotBeforeUpdate)}catch(te){Rn(v,v.return,te)}}b&64&&Z0(v),b&512&&Va(v,v.return);break;case 3:if(jr(c,v),b&64&&(b=v.updateQueue,b!==null)){if(c=null,v.child!==null)switch(v.child.tag){case 27:case 5:c=Ic(v.child.stateNode);break;case 1:c=v.child.stateNode}try{st(b,c)}catch(te){Rn(v,v.return,te)}}break;case 26:if(Qs){jr(c,v),b&512&&Va(v,v.return);break}case 27:case 5:jr(c,v),f===null&&b&4&&Kp(v),b&512&&Va(v,v.return);break;case 12:jr(c,v);break;case 13:jr(c,v),b&4&&Nh(c,v);break;case 22:if(R=v.memoizedState!==null||Ar,!R){f=f!==null&&f.memoizedState!==null||si;var N=Ar,j=si;Ar=R,(si=f)&&!j?Yr(c,v,(v.subtreeFlags&8772)!==0):jr(c,v),Ar=N,si=j}b&512&&(v.memoizedProps.mode==="manual"?Va(v,v.return):Ls(v,v.return));break;default:jr(c,v)}}function em(c){var f=c.alternate;f!==null&&(c.alternate=null,em(f)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(f=c.stateNode,f!==null&&AA(f)),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}function Ji(c,f,v){for(v=v.child;v!==null;)No(c,f,v),v=v.sibling}function No(c,f,v){if(Fs&&typeof Fs.onCommitFiberUnmount=="function")try{Fs.onCommitFiberUnmount(fi,v)}catch{}switch(v.tag){case 26:if(Qs){si||Ls(v,f),Ji(c,f,v),v.memoizedState?Ml(v.memoizedState):v.stateNode&&Vc(v.stateNode);break}case 27:if(zn){si||Ls(v,f);var b=Dt,R=Qt;Dt=v.stateNode,Ji(c,f,v),jo(v.stateNode),Dt=b,Qt=R;break}case 5:si||Ls(v,f);case 6:if(Ti){if(b=Dt,R=Qt,Dt=null,Ji(c,f,v),Dt=b,Qt=R,Dt!==null)if(Qt)try{vy(Dt,v.stateNode)}catch(N){Rn(v,f,N)}else try{Sm(Dt,v.stateNode)}catch(N){Rn(v,f,N)}}else Ji(c,f,v);break;case 18:Ti&&Dt!==null&&(Qt?df(Dt,v.stateNode):Ny(Dt,v.stateNode));break;case 4:Ti?(b=Dt,R=Qt,Dt=v.stateNode.containerInfo,Qt=!0,Ji(c,f,v),Dt=b,Qt=R):(ba&&Bh(v.stateNode,v,hf()),Ji(c,f,v));break;case 0:case 11:case 14:case 15:si||Do(2,v,f),si||Do(4,v,f),Ji(c,f,v);break;case 1:si||(Ls(v,f),b=v.stateNode,typeof b.componentWillUnmount=="function"&&Us(v,f,b)),Ji(c,f,v);break;case 21:Ji(c,f,v);break;case 22:si||Ls(v,f),si=(b=si)||v.memoizedState!==null,Ji(c,f,v),si=b;break;default:Ji(c,f,v)}}function Nh(c,f){if(Zi&&f.memoizedState===null&&(c=f.alternate,c!==null&&(c=c.memoizedState,c!==null&&(c=c.dehydrated,c!==null))))try{TA(c)}catch(v){Rn(f,f.return,v)}}function $0(c){switch(c.tag){case 13:case 19:var f=c.stateNode;return f===null&&(f=c.stateNode=new wn),f;case 22:return c=c.stateNode,f=c._retryCache,f===null&&(f=c._retryCache=new wn),f;default:throw Error(s(435,c.tag))}}function Xr(c,f){var v=$0(c);f.forEach(function(b){var R=zo.bind(null,c,b);v.has(b)||(v.add(b),b.then(R,R))})}function _s(c,f){var v=f.deletions;if(v!==null)for(var b=0;b<v.length;b++){var R=v[b],N=c,j=f;if(Ti){var te=j;e:for(;te!==null;){switch(te.tag){case 27:case 5:Dt=te.stateNode,Qt=!1;break e;case 3:Dt=te.stateNode.containerInfo,Qt=!0;break e;case 4:Dt=te.stateNode.containerInfo,Qt=!0;break e}te=te.return}if(Dt===null)throw Error(s(160));No(N,j,R),Dt=null,Qt=!1}else No(N,j,R);N=R.alternate,N!==null&&(N.return=null),R.return=null}if(f.subtreeFlags&13878)for(f=f.child;f!==null;)tm(f,c),f=f.sibling}function tm(c,f){var v=c.alternate,b=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:_s(f,c),Os(c),b&4&&(Do(3,c,c.return),qu(3,c),Do(5,c,c.return));break;case 1:_s(f,c),Os(c),b&512&&(si||v===null||Ls(v,v.return)),b&64&&Ar&&(c=c.updateQueue,c!==null&&(b=c.callbacks,b!==null&&(v=c.shared.hiddenCallbacks,c.shared.hiddenCallbacks=v===null?b:v.concat(b))));break;case 26:if(Qs){var R=ti;_s(f,c),Os(c),b&512&&(si||v===null||Ls(v,v.return)),b&4&&(b=v!==null?v.memoizedState:null,f=c.memoizedState,v===null?f===null?c.stateNode===null?c.stateNode=mf(R,c.type,c.memoizedProps,c):gf(R,c.type,c.stateNode):c.stateNode=Ly(R,f,c.memoizedProps):b!==f?(b===null?v.stateNode!==null&&Vc(v.stateNode):Ml(b),f===null?gf(R,c.type,c.stateNode):Ly(R,f,c.memoizedProps)):f===null&&c.stateNode!==null&&Qp(c,c.memoizedProps,v.memoizedProps));break}case 27:if(zn&&b&4&&c.alternate===null){R=c.stateNode;var N=c.memoizedProps;try{Xo(R),Fy(c.type,N,R,c)}catch(Ke){Rn(c,c.return,Ke)}}case 5:if(_s(f,c),Os(c),b&512&&(si||v===null||Ls(v,v.return)),Ti){if(c.flags&32){f=c.stateNode;try{Mm(f)}catch(Ke){Rn(c,c.return,Ke)}}b&4&&c.stateNode!=null&&(f=c.memoizedProps,Qp(c,f,v!==null?v.memoizedProps:f)),b&1024&&(Pm=!0)}break;case 6:if(_s(f,c),Os(c),b&4&&Ti){if(c.stateNode===null)throw Error(s(162));b=c.memoizedProps,v=v!==null?v.memoizedProps:b,f=c.stateNode;try{py(f,v,b)}catch(Ke){Rn(c,c.return,Ke)}}break;case 3:if(Qs?(Oy(),R=ti,ti=td(f.containerInfo),_s(f,c),ti=R):_s(f,c),Os(c),b&4){if(Ti&&Zi&&v!==null&&v.memoizedState.isDehydrated)try{EA(f.containerInfo)}catch(Ke){Rn(c,c.return,Ke)}if(ba){b=f.containerInfo,v=f.pendingChildren;try{Gc(b,v)}catch(Ke){Rn(c,c.return,Ke)}}}Pm&&(Pm=!1,ey(c));break;case 4:Qs?(v=ti,ti=td(c.stateNode.containerInfo),_s(f,c),Os(c),ti=v):(_s(f,c),Os(c)),b&4&&ba&&Bh(c.stateNode,c,c.stateNode.pendingChildren);break;case 12:_s(f,c),Os(c);break;case 13:_s(f,c),Os(c),c.child.flags&8192&&c.memoizedState!==null!=(v!==null&&v.memoizedState!==null)&&(Ts=Sa()),b&4&&(b=c.updateQueue,b!==null&&(c.updateQueue=null,Xr(c,b)));break;case 22:b&512&&(si||v===null||Ls(v,v.return)),R=c.memoizedState!==null;var j=v!==null&&v.memoizedState!==null,te=Ar,pe=si;if(Ar=te||R,si=pe||j,_s(f,c),si=pe,Ar=te,Os(c),f=c.stateNode,f._current=c,f._visibility&=-3,f._visibility|=f._pendingVisibility&2,b&8192&&(f._visibility=R?f._visibility&-2:f._visibility|1,R&&(f=Ar||si,v===null||j||f||Tc(c)),Ti&&(c.memoizedProps===null||c.memoizedProps.mode!=="manual"))){e:if(v=null,Ti)for(f=c;;){if(f.tag===5||Qs&&f.tag===26||zn&&f.tag===27){if(v===null){j=v=f;try{N=j.stateNode,R?xy(N):Ay(j.stateNode,j.memoizedProps)}catch(Ke){Rn(j,j.return,Ke)}}}else if(f.tag===6){if(v===null){j=f;try{var De=j.stateNode;R?_y(De):SA(De,j.memoizedProps)}catch(Ke){Rn(j,j.return,Ke)}}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===c)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===c)break e;for(;f.sibling===null;){if(f.return===null||f.return===c)break e;v===f&&(v=null),f=f.return}v===f&&(v=null),f.sibling.return=f.return,f=f.sibling}}b&4&&(b=c.updateQueue,b!==null&&(v=b.retryQueue,v!==null&&(b.retryQueue=null,Xr(c,v))));break;case 19:_s(f,c),Os(c),b&4&&(b=c.updateQueue,b!==null&&(c.updateQueue=null,Xr(c,b)));break;case 21:break;default:_s(f,c),Os(c)}}function Os(c){var f=c.flags;if(f&2){try{if(Ti&&(!zn||c.tag!==27)){e:{for(var v=c.return;v!==null;){if(Zp(v)){var b=v;break e}v=v.return}throw Error(s(160))}switch(b.tag){case 27:if(zn){var R=b.stateNode,N=Wu(c);kr(c,N,R);break}case 5:var j=b.stateNode;b.flags&32&&(Mm(j),b.flags&=-33);var te=Wu(c);kr(c,te,j);break;case 3:case 4:var pe=b.stateNode.containerInfo,De=Wu(c);$p(c,De,pe);break;default:throw Error(s(161))}}}catch(Ke){Rn(c,c.return,Ke)}c.flags&=-3}f&4096&&(c.flags&=-4097)}function ey(c){if(c.subtreeFlags&1024)for(c=c.child;c!==null;){var f=c;ey(f),f.tag===5&&f.flags&1024&&Wh(f.stateNode),c=c.sibling}}function jr(c,f){if(f.subtreeFlags&8772)for(f=f.child;f!==null;)Dh(c,f.alternate,f),f=f.sibling}function Tc(c){for(c=c.child;c!==null;){var f=c;switch(f.tag){case 0:case 11:case 14:case 15:Do(4,f,f.return),Tc(f);break;case 1:Ls(f,f.return);var v=f.stateNode;typeof v.componentWillUnmount=="function"&&Us(f,f.return,v),Tc(f);break;case 26:case 27:case 5:Ls(f,f.return),Tc(f);break;case 22:Ls(f,f.return),f.memoizedState===null&&Tc(f);break;default:Tc(f)}c=c.sibling}}function Yr(c,f,v){for(v=v&&(f.subtreeFlags&8772)!==0,f=f.child;f!==null;){var b=f.alternate,R=c,N=f,j=N.flags;switch(N.tag){case 0:case 11:case 15:Yr(R,N,v),qu(4,N);break;case 1:if(Yr(R,N,v),b=N,R=b.stateNode,typeof R.componentDidMount=="function")try{R.componentDidMount()}catch(De){Rn(b,b.return,De)}if(b=N,R=b.updateQueue,R!==null){var te=b.stateNode;try{var pe=R.shared.hiddenCallbacks;if(pe!==null)for(R.shared.hiddenCallbacks=null,R=0;R<pe.length;R++)oe(pe[R],te)}catch(De){Rn(b,b.return,De)}}v&&j&64&&Z0(N),Va(N,N.return);break;case 26:case 27:case 5:Yr(R,N,v),v&&b===null&&j&4&&Kp(N),Va(N,N.return);break;case 12:Yr(R,N,v);break;case 13:Yr(R,N,v),v&&j&4&&Nh(R,N);break;case 22:N.memoizedState===null&&Yr(R,N,v),Va(N,N.return);break;default:Yr(R,N,v)}f=f.sibling}}function Uh(c,f){var v=null;c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(v=c.memoizedState.cachePool.pool),c=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(c=f.memoizedState.cachePool.pool),c!==v&&(c!=null&&c.refCount++,v!=null&&ju(v))}function Ku(c,f){c=null,f.alternate!==null&&(c=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==c&&(f.refCount++,c!=null&&ju(c))}function Fi(c,f,v,b){if(f.subtreeFlags&10256)for(f=f.child;f!==null;)nm(c,f,v,b),f=f.sibling}function nm(c,f,v,b){var R=f.flags;switch(f.tag){case 0:case 11:case 15:Fi(c,f,v,b),R&2048&&qu(9,f);break;case 3:Fi(c,f,v,b),R&2048&&(c=null,f.alternate!==null&&(c=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==c&&(f.refCount++,c!=null&&ju(c)));break;case 12:if(R&2048){Fi(c,f,v,b),c=f.stateNode;try{var N=f.memoizedProps,j=N.id,te=N.onPostCommit;typeof te=="function"&&te(j,f.alternate===null?"mount":"update",c.passiveEffectDuration,-0)}catch(pe){Rn(f,f.return,pe)}}else Fi(c,f,v,b);break;case 23:break;case 22:N=f.stateNode,f.memoizedState!==null?N._visibility&4?Fi(c,f,v,b):os(c,f):N._visibility&4?Fi(c,f,v,b):(N._visibility|=4,Ki(c,f,v,b,(f.subtreeFlags&10256)!==0)),R&2048&&Uh(f.alternate,f);break;case 24:Fi(c,f,v,b),R&2048&&Ku(f.alternate,f);break;default:Fi(c,f,v,b)}}function Ki(c,f,v,b,R){for(R=R&&(f.subtreeFlags&10256)!==0,f=f.child;f!==null;){var N=c,j=f,te=v,pe=b,De=j.flags;switch(j.tag){case 0:case 11:case 15:Ki(N,j,te,pe,R),qu(8,j);break;case 23:break;case 22:var Ke=j.stateNode;j.memoizedState!==null?Ke._visibility&4?Ki(N,j,te,pe,R):os(N,j):(Ke._visibility|=4,Ki(N,j,te,pe,R)),R&&De&2048&&Uh(j.alternate,j);break;case 24:Ki(N,j,te,pe,R),R&&De&2048&&Ku(j.alternate,j);break;default:Ki(N,j,te,pe,R)}f=f.sibling}}function os(c,f){if(f.subtreeFlags&10256)for(f=f.child;f!==null;){var v=c,b=f,R=b.flags;switch(b.tag){case 22:os(v,b),R&2048&&Uh(b.alternate,b);break;case 24:os(v,b),R&2048&&Ku(b.alternate,b);break;default:os(v,b)}f=f.sibling}}function ya(c){if(c.subtreeFlags&sa)for(c=c.child;c!==null;)Lh(c),c=c.sibling}function Lh(c){switch(c.tag){case 26:ya(c),c.flags&sa&&(c.memoizedState!==null?Iy(ti,c.memoizedState,c.memoizedProps):Ss(c.type,c.memoizedProps));break;case 5:ya(c),c.flags&sa&&Ss(c.type,c.memoizedProps);break;case 3:case 4:if(Qs){var f=ti;ti=td(c.stateNode.containerInfo),ya(c),ti=f}else ya(c);break;case 22:c.memoizedState===null&&(f=c.alternate,f!==null&&f.memoizedState!==null?(f=sa,sa=16777216,ya(c),sa=f):ya(c));break;default:ya(c)}}function Qu(c){var f=c.alternate;if(f!==null&&(c=f.child,c!==null)){f.child=null;do f=c.sibling,c.sibling=null,c=f;while(c!==null)}}function Uo(c){var f=c.deletions;if((c.flags&16)!==0){if(f!==null)for(var v=0;v<f.length;v++){var b=f[v];jt=b,im(b,c)}Qu(c)}if(c.subtreeFlags&10256)for(c=c.child;c!==null;)Oh(c),c=c.sibling}function Oh(c){switch(c.tag){case 0:case 11:case 15:Uo(c),c.flags&2048&&Do(9,c,c.return);break;case 3:Uo(c);break;case 12:Uo(c);break;case 22:var f=c.stateNode;c.memoizedState!==null&&f._visibility&4&&(c.return===null||c.return.tag!==13)?(f._visibility&=-5,qr(c)):Uo(c);break;default:Uo(c)}}function qr(c){var f=c.deletions;if((c.flags&16)!==0){if(f!==null)for(var v=0;v<f.length;v++){var b=f[v];jt=b,im(b,c)}Qu(c)}for(c=c.child;c!==null;){switch(f=c,f.tag){case 0:case 11:case 15:Do(8,f,f.return),qr(f);break;case 22:v=f.stateNode,v._visibility&4&&(v._visibility&=-5,qr(f));break;default:qr(f)}c=c.sibling}}function im(c,f){for(;jt!==null;){var v=jt;switch(v.tag){case 0:case 11:case 15:Do(8,v,f);break;case 23:case 22:if(v.memoizedState!==null&&v.memoizedState.cachePool!==null){var b=v.memoizedState.cachePool.pool;b!=null&&b.refCount++}break;case 24:ju(v.memoizedState.cache)}if(b=v.child,b!==null)b.return=v,jt=b;else e:for(v=c;jt!==null;){b=jt;var R=b.sibling,N=b.return;if(em(b),b===v){jt=null;break e}if(R!==null){R.return=N,jt=R;break e}jt=N}}}function Cc(c){var f=ry(c);if(f!=null){if(typeof f.memoizedProps["data-testname"]!="string")throw Error(s(364));return f}if(c=_m(c),c===null)throw Error(s(362));return c.stateNode.current}function Lo(c,f){var v=c.tag;switch(f.$$typeof){case Qc:if(c.type===f.value)return!0;break;case Ca:e:{for(f=f.value,c=[c,0],v=0;v<c.length;){var b=c[v++],R=b.tag,N=c[v++],j=f[N];if(R!==5&&R!==26&&R!==27||!zc(b)){for(;j!=null&&Lo(b,j);)N++,j=f[N];if(N===f.length){f=!0;break e}else for(b=b.child;b!==null;)c.push(b,N),b=b.sibling}}f=!1}return f;case Kn:if((v===5||v===26||v===27)&&uy(c.stateNode,f.value))return!0;break;case br:if((v===5||v===6||v===26||v===27)&&(c=cy(c),c!==null&&0<=c.indexOf(f.value)))return!0;break;case Za:if((v===5||v===26||v===27)&&(c=c.memoizedProps["data-testname"],typeof c=="string"&&c.toLowerCase()===f.value.toLowerCase()))return!0;break;default:throw Error(s(365))}return!1}function sm(c){switch(c.$$typeof){case Qc:return"<"+(o(c.value)||"Unknown")+">";case Ca:return":has("+(sm(c)||"")+")";case Kn:return'[role="'+c.value+'"]';case br:return'"'+c.value+'"';case Za:return'[data-testname="'+c.value+'"]';default:throw Error(s(365))}}function Ps(c,f){var v=[];c=[c,0];for(var b=0;b<c.length;){var R=c[b++],N=R.tag,j=c[b++],te=f[j];if(N!==5&&N!==26&&N!==27||!zc(R)){for(;te!=null&&Lo(R,te);)j++,te=f[j];if(j===f.length)v.push(R);else for(R=R.child;R!==null;)c.push(R,j),R=R.sibling}}return v}function Zu(c,f){if(!ko)throw Error(s(363));c=Cc(c),c=Ps(c,f),f=[],c=Array.from(c);for(var v=0;v<c.length;){var b=c[v++],R=b.tag;if(R===5||R===26||R===27)zc(b)||f.push(b.stateNode);else for(b=b.child;b!==null;)c.push(b),b=b.sibling}return f}function li(){if((An&2)!==0&&un!==0)return un&-un;if(Gt.T!==null){var c=ea;return c!==0?c:Be()}return oy()}function am(){oa===0&&(oa=(un&536870912)===0||vn?z():536870912);var c=ta.current;return c!==null&&(c.flags|=32),oa}function zi(c,f,v){(c===Bn&&Pn===2||c.cancelPendingCommit!==null)&&(Qi(c,0),Is(c,un,oa,!1)),W(c,v),((An&2)===0||c!==Bn)&&(c===Bn&&((An&2)===0&&(oo|=v),Vn===4&&Is(c,un,oa,!1)),Ve(c))}function Oo(c,f,v){if((An&6)!==0)throw Error(s(327));var b=!v&&(f&60)===0&&(f&c.expiredLanes)===0||I(c,f),R=b?om(c,f):Ih(c,f,!0),N=b;do{if(R===0){aa&&!b&&Is(c,f,0,!1);break}else if(R===6)Is(c,f,0,!wa);else{if(v=c.current.alternate,N&&!Rc(v)){R=Ih(c,f,!1),N=!1;continue}if(R===2){if(N=f,c.errorRecoveryDisabledLanes&N)var j=0;else j=c.pendingLanes&-536870913,j=j!==0?j:j&536870912?536870912:0;if(j!==0){f=j;e:{var te=c;R=zl;var pe=Zi&&te.current.memoizedState.isDehydrated;if(pe&&(Qi(te,j).flags|=256),j=Ih(te,j,!1),j!==2){if(wi&&!pe){te.errorRecoveryDisabledLanes|=N,oo|=N,R=4;break e}N=ai,ai=R,N!==null&&$u(N)}R=j}if(N=!1,R!==2)continue}}if(R===1){Qi(c,0),Is(c,f,0,!0);break}e:{switch(b=c,R){case 0:case 1:throw Error(s(345));case 4:if((f&4194176)===f){Is(b,f,oa,!wa);break e}break;case 2:ai=null;break;case 3:case 5:break;default:throw Error(s(329))}if(b.finishedWork=v,b.finishedLanes=f,(f&62914560)===f&&(N=Ts+300-Sa(),10<N)){if(Is(b,f,oa,!wa),P(b,0)!==0)break e;b.timeoutHandle=_i(Ph.bind(null,b,v,ai,Sf,hd,f,oa,oo,Sr,wa,2,-0,0),N);break e}Ph(b,v,ai,Sf,hd,f,oa,oo,Sr,wa,0,-0,0)}}break}while(!0);Ve(c)}function $u(c){ai===null?ai=c:ai.push.apply(ai,c)}function Ph(c,f,v,b,R,N,j,te,pe,De,Ke,ot,ft){var Yt=f.subtreeFlags;if((Yt&8192||(Yt&16785408)===16785408)&&(vm(),Lh(f),f=Ai(),f!==null)){c.cancelPendingCommit=f(Io.bind(null,c,v,b,R,j,te,pe,1,ot,ft)),Is(c,N,j,!De);return}Io(c,v,b,R,j,te,pe,Ke,ot,ft)}function Rc(c){for(var f=c;;){var v=f.tag;if((v===0||v===11||v===15)&&f.flags&16384&&(v=f.updateQueue,v!==null&&(v=v.stores,v!==null)))for(var b=0;b<v.length;b++){var R=v[b],N=R.getSnapshot;R=R.value;try{if(!zs(N(),R))return!1}catch{return!1}}if(v=f.child,f.subtreeFlags&16384&&v!==null)v.return=f,f=v;else{if(f===c)break;for(;f.sibling===null;){if(f.return===null||f.return===c)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function Is(c,f,v,b){f&=~bf,f&=~oo,c.suspendedLanes|=f,c.pingedLanes&=~f,b&&(c.warmLanes|=f),b=c.expirationTimes;for(var R=f;0<R;){var N=31-Ms(R),j=1<<N;b[N]=-1,R&=~j}v!==0&&se(c,v,f)}function ef(){return(An&6)===0?(et(0),!1):!0}function wc(){if(It!==null){if(Pn===0)var c=It.return;else c=It,ia=Qa=null,Ga(c),Jo=null,Ko=0,c=It;for(;c!==null;)Q0(c.alternate,c),c=c.return;It=null}}function Qi(c,f){c.finishedWork=null,c.finishedLanes=0;var v=c.timeoutHandle;v!==Go&&(c.timeoutHandle=Go,Yh(v)),v=c.cancelPendingCommit,v!==null&&(c.cancelPendingCommit=null,v()),wc(),Bn=c,It=v=xa(c.current,null),un=f,Pn=0,cs=null,wa=!1,aa=I(c,f),wi=!1,Sr=oa=bf=oo=ra=Vn=0,ai=zl=null,hd=!1,(f&8)!==0&&(f|=f&32);var b=c.entangledLanes;if(b!==0)for(c=c.entanglements,b&=f;0<b;){var R=31-Ms(b),N=1<<R;f|=c[R],b&=~N}return us=f,K(),v}function Ws(c,f){en=null,Gt.H=ii,f===qc?(f=pt(),Pn=3):f===_f?(f=pt(),Pn=4):Pn=f===ud?8:f!==null&&typeof f=="object"&&typeof f.then=="function"?6:1,cs=f,It===null&&(Vn=1,_c(c,ue(f,c.current)))}function Po(){var c=ta.current;return c===null?!0:(un&4194176)===un?Hn===null:(un&62914560)===un||(un&536870912)!==0?c===Hn:!1}function ur(){var c=Gt.H;return Gt.H=ii,c===null?ii:c}function fr(){var c=Gt.A;return Gt.A=Kc,c}function Wr(){Vn=4,wa||(un&4194176)!==un&&ta.current!==null||(aa=!0),(ra&134217727)===0&&(oo&134217727)===0||Bn===null||Is(Bn,un,oa,!1)}function Ih(c,f,v){var b=An;An|=2;var R=ur(),N=fr();(Bn!==c||un!==f)&&(Sf=null,Qi(c,f)),f=!1;var j=Vn;e:do try{if(Pn!==0&&It!==null){var te=It,pe=cs;switch(Pn){case 8:wc(),j=6;break e;case 3:case 2:case 6:ta.current===null&&(f=!0);var De=Pn;if(Pn=0,cs=null,va(c,te,pe,De),v&&aa){j=0;break e}break;default:De=Pn,Pn=0,cs=null,va(c,te,pe,De)}}rm(),j=Vn;break}catch(Ke){Ws(c,Ke)}while(!0);return f&&c.shellSuspendCounter++,ia=Qa=null,An=b,Gt.H=R,Gt.A=N,It===null&&(Bn=null,un=0,K()),j}function rm(){for(;It!==null;)ei(It)}function om(c,f){var v=An;An|=2;var b=ur(),R=fr();Bn!==c||un!==f?(Sf=null,Zc=Sa()+500,Qi(c,f)):aa=I(c,f);e:do try{if(Pn!==0&&It!==null){f=It;var N=cs;t:switch(Pn){case 1:Pn=0,cs=null,va(c,f,N,1);break;case 2:if(ht(N)){Pn=0,cs=null,Mn(f);break}f=function(){Pn===2&&Bn===c&&(Pn=7),Ve(c)},N.then(f,f);break e;case 3:Pn=7;break e;case 4:Pn=5;break e;case 7:ht(N)?(Pn=0,cs=null,Mn(f)):(Pn=0,cs=null,va(c,f,N,7));break;case 5:var j=null;switch(It.tag){case 26:j=It.memoizedState;case 5:case 27:var te=It,pe=te.type,De=te.pendingProps;if(j?El(j):qh(pe,De)){Pn=0,cs=null;var Ke=te.sibling;if(Ke!==null)It=Ke;else{var ot=te.return;ot!==null?(It=ot,Js(ot)):It=null}break t}}Pn=0,cs=null,va(c,f,N,5);break;case 6:Pn=0,cs=null,va(c,f,N,6);break;case 8:wc(),Vn=6;break e;default:throw Error(s(462))}}As();break}catch(ft){Ws(c,ft)}while(!0);return ia=Qa=null,Gt.H=b,Gt.A=R,An=v,It!==null?0:(Bn=null,un=0,K(),Vn)}function As(){for(;It!==null&&!Gy();)ei(It)}function ei(c){var f=W0(c.alternate,c,us);c.memoizedProps=c.pendingProps,f===null?Js(c):It=f}function Mn(c){var f=c,v=f.alternate;switch(f.tag){case 15:case 0:f=V0(v,f,f.pendingProps,f.type,void 0,un);break;case 11:f=V0(v,f,f.pendingProps,f.type.render,f.ref,un);break;case 5:Ga(f);default:Q0(v,f),f=It=nf(f,us),f=W0(v,f,us)}c.memoizedProps=c.pendingProps,f===null?Js(c):It=f}function va(c,f,v,b){ia=Qa=null,Ga(f),Jo=null,Ko=0;var R=f.return;try{if(gA(c,R,f,v,un)){Vn=1,_c(c,ue(v,c.current)),It=null;return}}catch(N){if(R!==null)throw It=R,N;Vn=1,_c(c,ue(v,c.current)),It=null;return}f.flags&32768?(vn||b===1?c=!0:aa||(un&536870912)!==0?c=!1:(wa=c=!0,(b===2||b===3||b===6)&&(b=ta.current,b!==null&&b.tag===13&&(b.flags|=16384))),Fh(f,c)):Js(f)}function Js(c){var f=c;do{if((f.flags&32768)!==0){Fh(f,wa);return}c=f.return;var v=K0(f.alternate,f,us);if(v!==null){It=v;return}if(f=f.sibling,f!==null){It=f;return}It=f=c}while(f!==null);Vn===0&&(Vn=5)}function Fh(c,f){do{var v=vA(c.alternate,c);if(v!==null){v.flags&=32767,It=v;return}if(v=c.return,v!==null&&(v.flags|=32768,v.subtreeFlags=0,v.deletions=null),!f&&(c=c.sibling,c!==null)){It=c;return}It=c=v}while(c!==null);Vn=6,It=null}function Io(c,f,v,b,R,N,j,te,pe,De){var Ke=Gt.T,ot=eo();try{ls(2),Gt.T=null,ty(c,f,v,b,ot,R,N,j,te,pe,De)}finally{Gt.T=Ke,ls(ot)}}function ty(c,f,v,b,R,N,j,te){do ka();while(Mr!==null);if((An&6)!==0)throw Error(s(327));var pe=c.finishedWork;if(b=c.finishedLanes,pe===null)return null;if(c.finishedWork=null,c.finishedLanes=0,pe===c.current)throw Error(s(177));c.callbackNode=null,c.callbackPriority=0,c.cancelPendingCommit=null;var De=pe.lanes|pe.childLanes;if(De|=Ja,ce(c,b,De,N,j,te),c===Bn&&(It=Bn=null,un=0),(pe.subtreeFlags&10256)===0&&(pe.flags&10256)===0||$a||($a=!0,tl=De,dd=v,Kr(rd,function(){return ka(),null})),v=(pe.flags&15990)!==0,(pe.subtreeFlags&15990)!==0||v?(v=Gt.T,Gt.T=null,N=eo(),ls(2),j=An,An|=4,Ju(c,pe),tm(pe,c),ay(c.containerInfo),c.current=pe,Dh(c,pe.alternate,pe),sd(),An=j,ls(N),Gt.T=v):c.current=pe,$a?($a=!1,Mr=c,Hl=b):lm(c,De),De=c.pendingLanes,De===0&&(el=null),F(pe.stateNode),Ve(c),f!==null)for(R=c.onRecoverableError,pe=0;pe<f.length;pe++)De=f[pe],R(De.value,{componentStack:De.stack});return(Hl&3)!==0&&ka(),De=c.pendingLanes,(b&4194218)!==0&&(De&42)!==0?c===pd?$c++:($c=0,pd=c):$c=0,et(0),null}function lm(c,f){(c.pooledCacheLanes&=f)===0&&(f=c.pooledCache,f!=null&&(c.pooledCache=null,ju(f)))}function ka(){if(Mr!==null){var c=Mr,f=tl;tl=0;var v=fe(Hl),b=32>v?32:v;v=Gt.T;var R=eo();try{if(ls(b),Gt.T=null,Mr===null)var N=!1;else{b=dd,dd=null;var j=Mr,te=Hl;if(Mr=null,Hl=0,(An&6)!==0)throw Error(s(331));var pe=An;if(An|=4,Oh(j.current),nm(j,j.current,te,b),An=pe,et(0,!1),Fs&&typeof Fs.onPostCommitFiberRoot=="function")try{Fs.onPostCommitFiberRoot(fi,j)}catch{}N=!0}return N}finally{ls(R),Gt.T=v,lm(c,f)}}return!1}function Bc(c,f,v){f=ue(v,f),f=bc(c.stateNode,f,2),c=tt(c,f,2),c!==null&&(W(c,2),Ve(c))}function Rn(c,f,v){if(c.tag===3)Bc(c,c,v);else for(;f!==null;){if(f.tag===3){Bc(f,c,v);break}else if(f.tag===1){var b=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof b.componentDidCatch=="function"&&(el===null||!el.has(b))){c=ue(v,c),v=Gp(2),b=tt(f,v,2),b!==null&&(I0(v,b,f,c),W(b,2),Ve(b));break}}f=f.return}}function bl(c,f,v){var b=c.pingCache;if(b===null){b=c.pingCache=new Ra;var R=new Set;b.set(f,R)}else R=b.get(f),R===void 0&&(R=new Set,b.set(f,R));R.has(v)||(wi=!0,R.add(v),c=cm.bind(null,c,f,v),f.then(c,c))}function cm(c,f,v){var b=c.pingCache;b!==null&&b.delete(f),c.pingedLanes|=c.suspendedLanes&v,c.warmLanes&=~v,Bn===c&&(un&v)===v&&(Vn===4||Vn===3&&(un&62914560)===un&&300>Sa()-Ts?(An&2)===0&&Qi(c,0):bf|=v,Sr===un&&(Sr=0)),Ve(c)}function Fo(c,f){f===0&&(f=U()),c=Ge(c,f),c!==null&&(W(c,f),Ve(c))}function Jr(c){var f=c.memoizedState,v=0;f!==null&&(v=f.retryLane),Fo(c,v)}function zo(c,f){var v=0;switch(c.tag){case 13:var b=c.stateNode,R=c.memoizedState;R!==null&&(v=R.retryLane);break;case 19:b=c.stateNode;break;case 22:b=c.stateNode._retryCache;break;default:throw Error(s(314))}b!==null&&b.delete(f),Fo(c,v)}function Kr(c,f){return yf(c,f)}function um(c,f,v,b){this.tag=c,this.key=v,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=b,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function tf(c){return c=c.prototype,!(!c||!c.isReactComponent)}function xa(c,f){var v=c.alternate;return v===null?(v=t(c.tag,f,c.key,c.mode),v.elementType=c.elementType,v.type=c.type,v.stateNode=c.stateNode,v.alternate=c,c.alternate=v):(v.pendingProps=f,v.type=c.type,v.flags=0,v.subtreeFlags=0,v.deletions=null),v.flags=c.flags&31457280,v.childLanes=c.childLanes,v.lanes=c.lanes,v.child=c.child,v.memoizedProps=c.memoizedProps,v.memoizedState=c.memoizedState,v.updateQueue=c.updateQueue,f=c.dependencies,v.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},v.sibling=c.sibling,v.index=c.index,v.ref=c.ref,v.refCleanup=c.refCleanup,v}function nf(c,f){c.flags&=31457282;var v=c.alternate;return v===null?(c.childLanes=0,c.lanes=f,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=v.childLanes,c.lanes=v.lanes,c.child=v.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=v.memoizedProps,c.memoizedState=v.memoizedState,c.updateQueue=v.updateQueue,c.type=v.type,f=v.dependencies,c.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext}),c}function hr(c,f,v,b,R,N){var j=0;if(b=c,typeof c=="function")tf(c)&&(j=1);else if(typeof c=="string")j=Qs&&zn?pf(c,v,Ci.current)?26:pr(c)?27:5:Qs?pf(c,v,Ci.current)?26:5:zn&&pr(c)?27:5;else e:switch(c){case Ho:return ni(v.children,R,N,f);case of:j=8,R|=24;break;case Vh:return c=t(12,v,f,R|2),c.elementType=Vh,c.lanes=N,c;case kh:return c=t(13,v,f,R),c.elementType=kh,c.lanes=N,c;case Lc:return c=t(19,v,f,R),c.elementType=Lc,c.lanes=N,c;case dm:return sf(v,R,N,f);default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case lf:case Xa:j=10;break e;case hm:j=9;break e;case cf:j=11;break e;case Xh:j=14;break e;case Aa:j=16,b=null;break e}j=29,v=Error(s(130,c===null?"null":typeof c,"")),b=null}return f=t(j,v,f,R),f.elementType=c,f.type=b,f.lanes=N,f}function ni(c,f,v,b){return c=t(7,c,b,f),c.lanes=v,c}function sf(c,f,v,b){c=t(22,c,b,f),c.elementType=dm,c.lanes=v;var R={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var N=R._current;if(N===null)throw Error(s(456));if((R._pendingVisibility&2)===0){var j=Ge(N,2);j!==null&&(R._pendingVisibility|=2,zi(j,N,2))}},attach:function(){var N=R._current;if(N===null)throw Error(s(456));if((R._pendingVisibility&2)!==0){var j=Ge(N,2);j!==null&&(R._pendingVisibility&=-3,zi(j,N,2))}}};return c.stateNode=R,c}function zh(c,f,v){return c=t(6,c,null,f),c.lanes=v,c}function fm(c,f,v){return f=t(4,c.children!==null?c.children:[],c.key,f),f.lanes=v,f.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},f}function xA(c,f,v,b,R,N,j,te){this.tag=1,this.containerInfo=c,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Go,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=O(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=O(0),this.hiddenUpdates=O(null),this.identifierPrefix=b,this.onUncaughtError=R,this.onCaughtError=N,this.onRecoverableError=j,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=te,this.incompleteTransitions=new Map}function ny(c,f,v,b,R,N,j,te,pe,De,Ke,ot){return c=new xA(c,f,v,j,te,pe,De,ot),f=1,N===!0&&(f|=24),N=t(3,null,null,f),c.current=N,N.stateNode=c,f=Bo(),f.refCount++,c.pooledCache=f,f.refCount++,N.memoizedState={element:b,isDehydrated:v,cache:f},dt(N),c}function xi(c){return c?(c=Yo,c):Yo}function Hh(c){var f=c._reactInternals;if(f===void 0)throw typeof c.render=="function"?Error(s(188)):(c=Object.keys(c).join(","),Error(s(268,c)));return c=_(f),c=c!==null?M(c):null,c===null?null:Ic(c.stateNode)}function Dc(c,f,v,b,R,N){R=xi(R),b.context===null?b.context=R:b.pendingContext=R,b=Pe(f),b.payload={element:v},N=N===void 0?null:N,N!==null&&(b.callback=N),v=tt(c,b,f),v!==null&&(zi(v,c,f),At(v,c,f))}function Nc(c,f){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var v=c.retryLane;c.retryLane=v!==0&&v<f?v:f}}function af(c,f){Nc(c,f),(c=c.alternate)&&Nc(c,f)}var qt={},Uc=_p(),Ks=XX(),Gh=Object.assign,_A=Symbol.for("react.element"),rf=Symbol.for("react.transitional.element"),_a=Symbol.for("react.portal"),Ho=Symbol.for("react.fragment"),of=Symbol.for("react.strict_mode"),Vh=Symbol.for("react.profiler"),lf=Symbol.for("react.provider"),hm=Symbol.for("react.consumer"),Xa=Symbol.for("react.context"),cf=Symbol.for("react.forward_ref"),kh=Symbol.for("react.suspense"),Lc=Symbol.for("react.suspense_list"),Xh=Symbol.for("react.memo"),Aa=Symbol.for("react.lazy"),dm=Symbol.for("react.offscreen"),iy=Symbol.for("react.memo_cache_sentinel"),Qr=Symbol.iterator,pm=Symbol.for("react.client.reference"),Gt=Uc.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,dr,Zr,Sl=!1,Oc=Array.isArray,mm=e.rendererVersion,uf=e.rendererPackageName,Pc=e.extraDevToolsConfig,Ic=e.getPublicInstance,sy=e.getRootHostContext,Fc=e.getChildHostContext,jh=e.prepareForCommit,ay=e.resetAfterCommit,gm=e.createInstance,ff=e.appendInitialChild,$r=e.finalizeInitialChildren,Wt=e.shouldSetTextContent,Nn=e.createTextInstance,_i=e.scheduleTimeout,Yh=e.cancelTimeout,Go=e.noTimeout,bs=e.isPrimaryRenderer;e.warnsIfNotActing;var Ti=e.supportsMutation,ba=e.supportsPersistence,Zi=e.supportsHydration,ry=e.getInstanceFromNode;e.beforeActiveInstanceBlur,e.afterActiveInstanceBlur;var ci=e.preparePortalMount;e.prepareScopeUpdate,e.getInstanceFromScope;var ls=e.setCurrentUpdatePriority,eo=e.getCurrentUpdatePriority,oy=e.resolveUpdatePriority;e.resolveEventType,e.resolveEventTimeStamp;var ly=e.shouldAttemptEagerTransition,AA=e.detachDeletedInstance;e.requestPostPaintCallback;var ym=e.maySuspendCommit,qh=e.preloadInstance,vm=e.startSuspendingCommit,Ss=e.suspendInstance,Ai=e.waitForCommitToBeReady,Vo=e.NotPendingTransition,ja=e.HostTransitionContext,Wh=e.resetFormInstance;e.bindToConsole;var xm=e.supportsMicrotasks,to=e.scheduleMicrotask,ko=e.supportsTestSelectors,_m=e.findFiberRoot,Am=e.getBoundingRect,cy=e.getTextContent,zc=e.isHiddenSubtree,uy=e.matchAccessibilityRole,fy=e.setFocusIfFocusable,hy=e.setupIntersectionObserver,dy=e.appendChild,bm=e.appendChildToContainer,py=e.commitTextUpdate,bA=e.commitMount,my=e.commitUpdate,gy=e.insertBefore,yy=e.insertInContainerBefore,Sm=e.removeChild,vy=e.removeChildFromContainer,Mm=e.resetTextContent,xy=e.hideInstance,_y=e.hideTextInstance,Ay=e.unhideInstance,SA=e.unhideTextInstance,by=e.clearContainer,Hc=e.cloneInstance,hf=e.createContainerChildSet,Em=e.appendChildToContainerChildSet,Jh=e.finalizeContainerChildren,Gc=e.replaceContainerChildren,Tm=e.cloneHiddenInstance,Cm=e.cloneHiddenTextInstance,Kh=e.isSuspenseInstancePending,Qh=e.isSuspenseInstanceFallback,Sy=e.getSuspenseInstanceFallbackErrorDetails,My=e.registerSuspenseInstanceRetry,Rm=e.canHydrateFormStateMarker,Ey=e.isFormStateMarkerMatching,wm=e.getNextHydratableSibling,Zh=e.getFirstHydratableChild,Ty=e.getFirstHydratableChildWithinContainer,Cy=e.getFirstHydratableChildWithinSuspenseInstance,MA=e.canHydrateInstance,Bm=e.canHydrateTextInstance,Ry=e.canHydrateSuspenseInstance,wy=e.hydrateInstance,Dm=e.hydrateTextInstance,By=e.hydrateSuspenseInstance,Dy=e.getNextHydratableInstanceAfterSuspenseInstance,EA=e.commitHydratedContainer,TA=e.commitHydratedSuspenseInstance,Ny=e.clearSuspenseBoundary,df=e.clearSuspenseBoundaryFromContainer,$h=e.shouldDeleteUnhydratedTailInstances;e.diffHydratedPropsForDevWarnings,e.diffHydratedTextForDevWarnings,e.describeHydratableInstanceForDevWarnings;var ed=e.validateHydratableInstance,Uy=e.validateHydratableTextInstance,Qs=e.supportsResources,pf=e.isHostHoistableType,td=e.getHoistableRoot,Nm=e.getResource,Ly=e.acquireResource,Ml=e.releaseResource,mf=e.hydrateHoistable,gf=e.mountHoistable,Vc=e.unmountHoistable,nd=e.createHoistableInstance,Oy=e.prepareToCommitHoistables,Py=e.mayResourceSuspendCommit,El=e.preloadResource,Iy=e.suspendResource,zn=e.supportsSingletons,Ya=e.resolveSingletonInstance,Xo=e.clearSingleton,Fy=e.acquireSingletonInstance,jo=e.releaseSingletonInstance,pr=e.isHostSingletonType,ui=[],no=-1,Yo={},Ms=Math.clz32?Math.clz32:B,zy=Math.log,Hy=Math.LN2,mr=128,Tl=4194304,yf=Ks.unstable_scheduleCallback,id=Ks.unstable_cancelCallback,Gy=Ks.unstable_shouldYield,sd=Ks.unstable_requestPaint,Sa=Ks.unstable_now,ad=Ks.unstable_ImmediatePriority,Vy=Ks.unstable_UserBlockingPriority,rd=Ks.unstable_NormalPriority,CA=Ks.unstable_IdlePriority,ky=Ks.log,Hi=Ks.unstable_setDisableYieldValue,fi=null,Fs=null,zs=typeof Object.is=="function"?Object.is:Y,Um=new WeakMap,Cl=[],Rl=0,wl=null,kc=0,Zs=[],$s=0,qo=null,qa=1,Wa="",Ci=E(null),Xc=E(null),gr=E(null),Bl=E(null),$i=null,es=null,vn=!1,Ma=null,Gi=!1,vf=Error(s(519)),Ea=[],Dl=0,Ja=0,xf=null,io=null,Nl=!1,jn=!1,Lm=!1,jc=0,Yc=null,Ul=0,ea=0,Ll=null,so=!1,Ol=!1,yr=Object.prototype.hasOwnProperty,qc=Error(s(460)),_f=Error(s(474)),Af={then:function(){}},Wo=null,Jo=null,Ko=0,Qo=Mi(!0),vr=Mi(!1),Yn=E(null),Wc=E(0),ta=E(null),Hn=null,Ri=E(0),ao=0,en=null,Lt=null,_n=null,Ta=!1,Pl=!1,Zo=!1,od=0,Il=0,Vi=null,Ka=0,ld=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}},ii={readContext:Wi,use:Me,useCallback:Ln,useContext:Ln,useEffect:Ln,useImperativeHandle:Ln,useLayoutEffect:Ln,useInsertionEffect:Ln,useMemo:Ln,useReducer:Ln,useRef:Ln,useState:Ln,useDebugValue:Ln,useDeferredValue:Ln,useTransition:Ln,useSyncExternalStore:Ln,useId:Ln};ii.useCacheRefresh=Ln,ii.useMemoCache=Ln,ii.useHostTransitionStatus=Ln,ii.useFormState=Ln,ii.useActionState=Ln,ii.useOptimistic=Ln;var $o={readContext:Wi,use:Me,useCallback:function(c,f){return k().memoizedState=[c,f===void 0?null:f],c},useContext:Wi,useEffect:xh,useImperativeHandle:function(c,f,v){v=v!=null?v.concat([c]):null,Uu(4194308,4,_h.bind(null,f,c),v)},useLayoutEffect:function(c,f){return Uu(4194308,4,c,f)},useInsertionEffect:function(c,f){Uu(4,2,c,f)},useMemo:function(c,f){var v=k();f=f===void 0?null:f;var b=c();if(Zo){q(!0);try{c()}finally{q(!1)}}return v.memoizedState=[b,f],b},useReducer:function(c,f,v){var b=k();if(v!==void 0){var R=v(f);if(Zo){q(!0);try{v(f)}finally{q(!1)}}}else R=f;return b.memoizedState=b.baseState=R,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:R},b.queue=c,c=c.dispatch=bh.bind(null,en,c),[b.memoizedState,c]},useRef:function(c){var f=k();return c={current:c},f.memoizedState=c},useState:function(c){c=rn(c);var f=c.queue,v=Hp.bind(null,en,f);return f.dispatch=v,[c.memoizedState,v]},useDebugValue:Eo,useDeferredValue:function(c,f){var v=k();return Pu(v,c,f)},useTransition:function(){var c=rn(!1);return c=mc.bind(null,en,c.queue,!0,!1),k().memoizedState=c,[!1,c]},useSyncExternalStore:function(c,f,v){var b=en,R=k();if(vn){if(v===void 0)throw Error(s(407));v=v()}else{if(v=f(),Bn===null)throw Error(s(349));(un&60)!==0||wt(b,f,v)}R.memoizedState=v;var N={value:v,getSnapshot:f};return R.queue=N,xh($t.bind(null,b,N,c),[c]),b.flags|=2048,vs(9,Mt.bind(null,b,N,v,f),{destroy:void 0},null),v},useId:function(){var c=k(),f=Bn.identifierPrefix;if(vn){var v=Wa,b=qa;v=(b&~(1<<32-Ms(b)-1)).toString(32)+v,f=":"+f+"R"+v,v=od++,0<v&&(f+="H"+v.toString(32)),f+=":"}else v=Ka++,f=":"+f+"r"+v.toString(32)+":";return c.memoizedState=f},useCacheRefresh:function(){return k().memoizedState=zp.bind(null,en)}};$o.useMemoCache=de,$o.useHostTransitionStatus=Iu,$o.useFormState=On,$o.useActionState=On,$o.useOptimistic=function(c){var f=k();f.memoizedState=f.baseState=c;var v={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return f.queue=v,f=yc.bind(null,en,!0,v),v.dispatch=f,[c,f]};var Es={readContext:Wi,use:Me,useCallback:xl,useContext:Wi,useEffect:Pp,useImperativeHandle:Ah,useInsertionEffect:O0,useLayoutEffect:Ou,useMemo:Ip,useReducer:Ze,useRef:lr,useState:function(){return Ze(ke)},useDebugValue:Eo,useDeferredValue:function(c,f){var v=le();return Fp(v,Lt.memoizedState,c,f)},useTransition:function(){var c=Ze(ke)[0],f=le().memoizedState;return[typeof c=="boolean"?c:Se(c),f]},useSyncExternalStore:Ut,useId:gc};Es.useCacheRefresh=zr,Es.useMemoCache=de,Es.useHostTransitionStatus=Iu,Es.useFormState=Yi,Es.useActionState=Yi,Es.useOptimistic=function(c,f){var v=le();return cn(v,Lt,c,f)};var na={readContext:Wi,use:Me,useCallback:xl,useContext:Wi,useEffect:Pp,useImperativeHandle:Ah,useInsertionEffect:O0,useLayoutEffect:Ou,useMemo:Ip,useReducer:ut,useRef:lr,useState:function(){return ut(ke)},useDebugValue:Eo,useDeferredValue:function(c,f){var v=le();return Lt===null?Pu(v,c,f):Fp(v,Lt.memoizedState,c,f)},useTransition:function(){var c=ut(ke)[0],f=le().memoizedState;return[typeof c=="boolean"?c:Se(c),f]},useSyncExternalStore:Ut,useId:gc};na.useCacheRefresh=zr,na.useMemoCache=de,na.useHostTransitionStatus=Iu,na.useFormState=Ii,na.useActionState=Ii,na.useOptimistic=function(c,f){var v=le();return Lt!==null?cn(v,Lt,c,f):(v.baseState=c,[c,v.queue.dispatch])};var xr={isMounted:function(c){return(c=c._reactInternals)?y(c)===c:!1},enqueueSetState:function(c,f,v){c=c._reactInternals;var b=li(),R=Pe(b);R.payload=f,v!=null&&(R.callback=v),f=tt(c,R,b),f!==null&&(zi(f,c,b),At(f,c,b))},enqueueReplaceState:function(c,f,v){c=c._reactInternals;var b=li(),R=Pe(b);R.tag=1,R.payload=f,v!=null&&(R.callback=v),f=tt(c,R,b),f!==null&&(zi(f,c,b),At(f,c,b))},enqueueForceUpdate:function(c,f){c=c._reactInternals;var v=li(),b=Pe(v);b.tag=2,f!=null&&(b.callback=f),f=tt(c,b,v),f!==null&&(zi(f,c,v),At(f,c,v))}},cd=typeof reportError=="function"?reportError:function(c){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var f=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof c=="object"&&c!==null&&typeof c.message=="string"?String(c.message):String(c),error:c});if(!window.dispatchEvent(f))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",c);return}console.error(c)},ud=Error(s(461)),Gn=!1,fd={dehydrated:null,treeContext:null,retryLane:0},ro=E(null),Qa=null,ia=null,Jc=typeof AbortController<"u"?AbortController:function(){var c=[],f=this.signal={aborted:!1,addEventListener:function(v,b){c.push(b)}};this.abort=function(){f.aborted=!0,c.forEach(function(v){return v()})}},Xy=Ks.unstable_scheduleCallback,jy=Ks.unstable_NormalPriority,qn={$$typeof:Xa,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},Om=Gt.S;Gt.S=function(c,f){typeof f=="object"&&f!==null&&typeof f.then=="function"&&we(c,f),Om!==null&&Om(c,f)};var _r=E(null),Ar=!1,si=!1,Pm=!1,wn=typeof WeakSet=="function"?WeakSet:Set,jt=null,an=!1,Dt=null,Qt=!1,ti=null,sa=8192,Kc={getCacheForType:function(c){var f=Wi(qn),v=f.data.get(c);return v===void 0&&(v=c(),f.data.set(c,v)),v}},Qc=0,Ca=1,Kn=2,Za=3,br=4;if(typeof Symbol=="function"&&Symbol.for){var Fl=Symbol.for;Qc=Fl("selector.component"),Ca=Fl("selector.has_pseudo_class"),Kn=Fl("selector.role"),Za=Fl("selector.test_id"),br=Fl("selector.text")}var Ra=typeof WeakMap=="function"?WeakMap:Map,An=0,Bn=null,It=null,un=0,Pn=0,cs=null,wa=!1,aa=!1,wi=!1,us=0,Vn=0,ra=0,oo=0,bf=0,oa=0,Sr=0,zl=null,ai=null,hd=!1,Ts=0,Zc=1/0,Sf=null,el=null,$a=!1,Mr=null,Hl=0,tl=0,dd=null,$c=0,pd=null;return qt.attemptContinuousHydration=function(c){if(c.tag===13){var f=Ge(c,67108864);f!==null&&zi(f,c,67108864),af(c,67108864)}},qt.attemptHydrationAtCurrentPriority=function(c){if(c.tag===13){var f=li(),v=Ge(c,f);v!==null&&zi(v,c,f),af(c,f)}},qt.attemptSynchronousHydration=function(c){switch(c.tag){case 3:if(c=c.stateNode,c.current.memoizedState.isDehydrated){var f=D(c.pendingLanes);if(f!==0){for(c.pendingLanes|=2,c.entangledLanes|=2;f;){var v=1<<31-Ms(f);c.entanglements[1]|=v,f&=~v}Ve(c),(An&6)===0&&(Zc=Sa()+500,et(0))}}break;case 13:f=Ge(c,2),f!==null&&zi(f,c,2),ef(),af(c,2)}},qt.batchedUpdates=function(c,f){return c(f)},qt.createComponentSelector=function(c){return{$$typeof:Qc,value:c}},qt.createContainer=function(c,f,v,b,R,N,j,te,pe,De){return ny(c,f,!1,null,v,b,N,j,te,pe,De,null)},qt.createHasPseudoClassSelector=function(c){return{$$typeof:Ca,value:c}},qt.createHydrationContainer=function(c,f,v,b,R,N,j,te,pe,De,Ke,ot,ft){return c=ny(v,b,!0,c,R,N,te,pe,De,Ke,ot,ft),c.context=xi(null),v=c.current,b=li(),R=Pe(b),R.callback=f??null,tt(v,R,b),c.current.lanes=b,W(c,b),Ve(c),c},qt.createPortal=function(c,f,v){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_a,key:b==null?null:""+b,children:c,containerInfo:f,implementation:v}},qt.createRoleSelector=function(c){return{$$typeof:Kn,value:c}},qt.createTestNameSelector=function(c){return{$$typeof:Za,value:c}},qt.createTextSelector=function(c){return{$$typeof:br,value:c}},qt.defaultOnCaughtError=function(c){console.error(c)},qt.defaultOnRecoverableError=function(c){cd(c)},qt.defaultOnUncaughtError=function(c){cd(c)},qt.deferredUpdates=function(c){var f=Gt.T,v=eo();try{return ls(32),Gt.T=null,c()}finally{ls(v),Gt.T=f}},qt.discreteUpdates=function(c,f,v,b,R){var N=Gt.T,j=eo();try{return ls(2),Gt.T=null,c(f,v,b,R)}finally{ls(j),Gt.T=N,An===0&&(Zc=Sa()+500)}},qt.findAllNodes=Zu,qt.findBoundingRects=function(c,f){if(!ko)throw Error(s(363));f=Zu(c,f),c=[];for(var v=0;v<f.length;v++)c.push(Am(f[v]));for(f=c.length-1;0<f;f--){v=c[f];for(var b=v.x,R=b+v.width,N=v.y,j=N+v.height,te=f-1;0<=te;te--)if(f!==te){var pe=c[te],De=pe.x,Ke=De+pe.width,ot=pe.y,ft=ot+pe.height;if(b>=De&&N>=ot&&R<=Ke&&j<=ft){c.splice(f,1);break}else if(b!==De||v.width!==pe.width||ft<N||ot>j){if(!(N!==ot||v.height!==pe.height||Ke<b||De>R)){De>b&&(pe.width+=De-b,pe.x=b),Ke<R&&(pe.width=R-De),c.splice(f,1);break}}else{ot>N&&(pe.height+=ot-N,pe.y=N),ft<j&&(pe.height=j-ot),c.splice(f,1);break}}}return c},qt.findHostInstance=Hh,qt.findHostInstanceWithNoPortals=function(c){return c=_(c),c=c!==null?C(c):null,c===null?null:Ic(c.stateNode)},qt.findHostInstanceWithWarning=function(c){return Hh(c)},qt.flushPassiveEffects=ka,qt.flushSyncFromReconciler=function(c){var f=An;An|=1;var v=Gt.T,b=eo();try{if(ls(2),Gt.T=null,c)return c()}finally{ls(b),Gt.T=v,An=f,(An&6)===0&&et(0)}},qt.flushSyncWork=ef,qt.focusWithin=function(c,f){if(!ko)throw Error(s(363));for(c=Cc(c),f=Ps(c,f),f=Array.from(f),c=0;c<f.length;){var v=f[c++],b=v.tag;if(!zc(v)){if((b===5||b===26||b===27)&&fy(v.stateNode))return!0;for(v=v.child;v!==null;)f.push(v),v=v.sibling}}return!1},qt.getFindAllNodesFailureDescription=function(c,f){if(!ko)throw Error(s(363));var v=0,b=[];c=[Cc(c),0];for(var R=0;R<c.length;){var N=c[R++],j=N.tag,te=c[R++],pe=f[te];if((j!==5&&j!==26&&j!==27||!zc(N))&&(Lo(N,pe)&&(b.push(sm(pe)),te++,te>v&&(v=te)),te<f.length))for(N=N.child;N!==null;)c.push(N,te),N=N.sibling}if(v<f.length){for(c=[];v<f.length;v++)c.push(sm(f[v]));return`findAllNodes was able to match part of the selector:
  `+(b.join(" > ")+`

No matching component was found for:
  `)+c.join(" > ")}return null},qt.getPublicRootInstance=function(c){if(c=c.current,!c.child)return null;switch(c.child.tag){case 27:case 5:return Ic(c.child.stateNode);default:return c.child.stateNode}},qt.injectIntoDevTools=function(){var c={bundleType:0,version:mm,rendererPackageName:uf,currentDispatcherRef:Gt,findFiberByHostInstance:ry,reconcilerVersion:"19.0.0"};if(Pc!==null&&(c.rendererConfig=Pc),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")c=!1;else{var f=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(f.isDisabled||!f.supportsFiber)c=!0;else{try{fi=f.inject(c),Fs=f}catch{}c=!!f.checkDCE}}return c},qt.isAlreadyRendering=function(){return!1},qt.observeVisibleRects=function(c,f,v,b){if(!ko)throw Error(s(363));c=Zu(c,f);var R=hy(c,v,b).disconnect;return{disconnect:function(){R()}}},qt.shouldError=function(){return null},qt.shouldSuspend=function(){return!1},qt.startHostTransition=function(c,f,v,b){if(c.tag!==5)throw Error(s(476));var R=cr(c).queue;mc(c,R,f,Vo,v===null?i:function(){var N=cr(c).next.queue;return To(c,N,{},li()),v(b)})},qt.updateContainer=function(c,f,v,b){var R=f.current,N=li();return Dc(R,N,c,f,v,b),N},qt.updateContainerSync=function(c,f,v,b){return f.tag===0&&ka(),Dc(f.current,2,c,f,v,b),2},qt},n.exports.default=n.exports,Object.defineProperty(n.exports,"__esModule",{value:!0})}(yS)),yS.exports}var zw;function YX(){return zw||(zw=1,gS.exports=jX()),gS.exports}var qX=YX();const WX=c0(qX);var _S={exports:{}},AS={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hw;function JX(){return Hw||(Hw=1,function(n){function e(F,q){var Y=F.length;F.push(q);e:for(;0<Y;){var ue=Y-1>>>1,X=F[ue];if(0<s(X,q))F[ue]=q,F[Y]=X,Y=ue;else break e}}function t(F){return F.length===0?null:F[0]}function i(F){if(F.length===0)return null;var q=F[0],Y=F.pop();if(Y!==q){F[0]=Y;e:for(var ue=0,X=F.length,ie=X>>>1;ue<ie;){var xe=2*(ue+1)-1,_e=F[xe],ne=xe+1,Ce=F[ne];if(0>s(_e,Y))ne<X&&0>s(Ce,_e)?(F[ue]=Ce,F[ne]=Y,ue=ne):(F[ue]=_e,F[xe]=Y,ue=xe);else if(ne<X&&0>s(Ce,Y))F[ue]=Ce,F[ne]=Y,ue=ne;else break e}}return q}function s(F,q){var Y=F.sortIndex-q.sortIndex;return Y!==0?Y:F.id-q.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var r=performance;n.unstable_now=function(){return r.now()}}else{var o=Date,u=o.now();n.unstable_now=function(){return o.now()-u}}var h=[],p=[],m=1,y=null,x=3,_=!1,M=!1,C=!1,E=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;function B(F){for(var q=t(p);q!==null;){if(q.callback===null)i(p);else if(q.startTime<=F)i(p),q.sortIndex=q.expirationTime,e(h,q);else break;q=t(p)}}function D(F){if(C=!1,B(F),!M)if(t(h)!==null)M=!0,me();else{var q=t(p);q!==null&&fe(D,q.startTime-F)}}var P=!1,I=-1,G=5,z=-1;function U(){return!(n.unstable_now()-z<G)}function O(){if(P){var F=n.unstable_now();z=F;var q=!0;try{e:{M=!1,C&&(C=!1,S(I),I=-1),_=!0;var Y=x;try{t:{for(B(F),y=t(h);y!==null&&!(y.expirationTime>F&&U());){var ue=y.callback;if(typeof ue=="function"){y.callback=null,x=y.priorityLevel;var X=ue(y.expirationTime<=F);if(F=n.unstable_now(),typeof X=="function"){y.callback=X,B(F),q=!0;break t}y===t(h)&&i(h),B(F)}else i(h);y=t(h)}if(y!==null)q=!0;else{var ie=t(p);ie!==null&&fe(D,ie.startTime-F),q=!1}}break e}finally{y=null,x=Y,_=!1}q=void 0}}finally{q?W():P=!1}}}var W;if(typeof w=="function")W=function(){w(O)};else if(typeof MessageChannel<"u"){var ce=new MessageChannel,se=ce.port2;ce.port1.onmessage=O,W=function(){se.postMessage(null)}}else W=function(){E(O,0)};function me(){P||(P=!0,W())}function fe(F,q){I=E(function(){F(n.unstable_now())},q)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(F){F.callback=null},n.unstable_continueExecution=function(){M||_||(M=!0,me())},n.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<F?Math.floor(1e3/F):5},n.unstable_getCurrentPriorityLevel=function(){return x},n.unstable_getFirstCallbackNode=function(){return t(h)},n.unstable_next=function(F){switch(x){case 1:case 2:case 3:var q=3;break;default:q=x}var Y=x;x=q;try{return F()}finally{x=Y}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(F,q){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var Y=x;x=F;try{return q()}finally{x=Y}},n.unstable_scheduleCallback=function(F,q,Y){var ue=n.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?ue+Y:ue):Y=ue,F){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=Y+X,F={id:m++,callback:q,priorityLevel:F,startTime:Y,expirationTime:X,sortIndex:-1},Y>ue?(F.sortIndex=Y,e(p,F),t(h)===null&&F===t(p)&&(C?(S(I),I=-1):C=!0,fe(D,Y-ue))):(F.sortIndex=X,e(h,F),M||_||(M=!0,me())),F},n.unstable_shouldYield=U,n.unstable_wrapCallback=function(F){var q=x;return function(){var Y=x;x=q;try{return F.apply(this,arguments)}finally{x=Y}}}}(AS)),AS}var Gw;function KX(){return Gw||(Gw=1,_S.exports=JX()),_S.exports}var Vw=KX();const QX=n=>typeof n=="object"&&typeof n.then=="function",th=[];function lU(n,e,t=(i,s)=>i===s){if(n===e)return!0;if(!n||!e)return!1;const i=n.length;if(e.length!==i)return!1;for(let s=0;s<i;s++)if(!t(n[s],e[s]))return!1;return!0}function cU(n,e=null,t=!1,i={}){e===null&&(e=[n]);for(const r of th)if(lU(e,r.keys,r.equal)){if(t)return;if(Object.prototype.hasOwnProperty.call(r,"error"))throw r.error;if(Object.prototype.hasOwnProperty.call(r,"response"))return i.lifespan&&i.lifespan>0&&(r.timeout&&clearTimeout(r.timeout),r.timeout=setTimeout(r.remove,i.lifespan)),r.response;if(!t)throw r.promise}const s={keys:e,equal:i.equal,remove:()=>{const r=th.indexOf(s);r!==-1&&th.splice(r,1)},promise:(QX(n)?n:n(...e)).then(r=>{s.response=r,i.lifespan&&i.lifespan>0&&(s.timeout=setTimeout(s.remove,i.lifespan))}).catch(r=>s.error=r)};if(th.push(s),!t)throw s.promise}const ZX=(n,e,t)=>cU(n,e,!1,t),$X=(n,e,t)=>void cU(n,e,!0,t),ej=n=>{if(n===void 0||n.length===0)th.splice(0,th.length);else{const e=th.find(t=>lU(n,t.keys,t.equal));e&&e.remove()}};function xE(n,e,t){if(!n)return;if(t(n)===!0)return n;let i=e?n.return:n.child;for(;i;){const s=xE(i,e,t);if(s)return s;i=e?null:i.sibling}}function uU(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const _E=uU(Q.createContext(null));let fU=class extends Q.Component{render(){return Q.createElement(_E.Provider,{value:this._reactInternals},this.props.children)}};function hU(){const n=Q.useContext(_E);if(n===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=Q.useId();return Q.useMemo(()=>{for(const t of[n,n==null?void 0:n.alternate]){if(!t)continue;const i=xE(t,!1,s=>{let r=s.memoizedState;for(;r;){if(r.memoizedState===e)return!0;r=r.next}});if(i)return i}},[n,e])}const tj=Symbol.for("react.context"),nj=n=>n!==null&&typeof n=="object"&&"$$typeof"in n&&n.$$typeof===tj;function ij(){const n=hU(),[e]=Q.useState(()=>new Map);e.clear();let t=n;for(;t;){const i=t.type;nj(i)&&i!==_E&&!e.has(i)&&e.set(i,Q.use(uU(i))),t=t.return}return e}function sj(){const n=ij();return Q.useMemo(()=>Array.from(n.keys()).reduce((e,t)=>i=>Q.createElement(e,null,Q.createElement(t.Provider,{...i,value:n.get(t)})),e=>Q.createElement(fU,{...e})),[n])}function dU(n){let e=n.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const pU=n=>n&&n.isOrthographicCamera,aj=n=>n&&n.hasOwnProperty("current"),rj=n=>n!=null&&(typeof n=="string"||typeof n=="number"||n.isColor),w0=((n,e)=>typeof window<"u"&&(((n=window.document)==null?void 0:n.createElement)||((e=window.navigator)==null?void 0:e.product)==="ReactNative"))()?Q.useLayoutEffect:Q.useEffect;function mU(n){const e=Q.useRef(n);return w0(()=>void(e.current=n),[n]),e}function oj(){const n=hU(),e=sj();return Q.useMemo(()=>({children:t})=>{const s=!!xE(n,!0,r=>r.type===Q.StrictMode)?Q.StrictMode:Q.Fragment;return J.jsx(s,{children:J.jsx(e,{children:t})})},[n,e])}function lj({set:n}){return w0(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}const cj=(n=>(n=class extends Q.Component{constructor(...t){super(...t),this.state={error:!1}}componentDidCatch(t){this.props.set(t)}render(){return this.state.error?null:this.props.children}},n.getDerivedStateFromError=()=>({error:!0}),n))();function gU(n){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(n)?Math.min(Math.max(n[0],t),n[1]):n}function zd(n){var e;return(e=n.__r3f)==null?void 0:e.root.getState()}const ri={obj:n=>n===Object(n)&&!ri.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,nul:n=>n===null,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:i="reference",strict:s=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(ri.str(n)||ri.num(n)||ri.boo(n))return n===e;const r=ri.obj(n);if(r&&i==="reference")return n===e;const o=ri.arr(n);if(o&&t==="reference")return n===e;if((o||r)&&n===e)return!0;let u;for(u in n)if(!(u in e))return!1;if(r&&t==="shallow"&&i==="shallow"){for(u in s?e:n)if(!ri.equ(n[u],e[u],{strict:s,objects:"reference"}))return!1}else for(u in s?e:n)if(n[u]!==e[u])return!1;if(ri.und(u)){if(o&&n.length===0&&e.length===0||r&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function uj(n){const e={nodes:{},materials:{},meshes:{}};return n&&n.traverse(t=>{t.name&&(e.nodes[t.name]=t),t.material&&!e.materials[t.material.name]&&(e.materials[t.material.name]=t.material),t.isMesh&&!e.meshes[t.name]&&(e.meshes[t.name]=t)}),e}function fj(n){n.type!=="Scene"&&(n.dispose==null||n.dispose());for(const e in n){const t=n[e];(t==null?void 0:t.type)!=="Scene"&&(t==null||t.dispose==null||t.dispose())}}const yU=["children","key","ref"];function hj(n){const e={};for(const t in n)yU.includes(t)||(e[t]=n[t]);return e}function x_(n,e,t,i){const s=n;let r=s==null?void 0:s.__r3f;return r||(r={root:e,type:t,parent:null,children:[],props:hj(i),object:s,eventCount:0,handlers:{},isHidden:!1},s&&(s.__r3f=r)),r}function l0(n,e){let t=n[e];if(!e.includes("-"))return{root:n,key:e,target:t};t=n;for(const s of e.split("-")){var i;e=s,n=t,t=(i=t)==null?void 0:i[e]}return{root:n,key:e,target:t}}const kw=/-\d+$/;function __(n,e){if(ri.str(e.props.attach)){if(kw.test(e.props.attach)){const s=e.props.attach.replace(kw,""),{root:r,key:o}=l0(n.object,s);Array.isArray(r[o])||(r[o]=[])}const{root:t,key:i}=l0(n.object,e.props.attach);e.previousAttach=t[i],t[i]=e.object}else ri.fun(e.props.attach)&&(e.previousAttach=e.props.attach(n.object,e.object))}function A_(n,e){if(ri.str(e.props.attach)){const{root:t,key:i}=l0(n.object,e.props.attach),s=e.previousAttach;s===void 0?delete t[i]:t[i]=s}else e.previousAttach==null||e.previousAttach(n.object,e.object);delete e.previousAttach}const RM=[...yU,"args","dispose","attach","object","onUpdate","dispose"],Xw=new Map;function dj(n){let e=Xw.get(n.constructor);try{e||(e=new n.constructor,Xw.set(n.constructor,e))}catch{}return e}function pj(n,e){const t={};for(const i in e)if(!RM.includes(i)&&!ri.equ(e[i],n.props[i])){t[i]=e[i];for(const s in e)s.startsWith(`${i}-`)&&(t[s]=e[s])}for(const i in n.props){if(RM.includes(i)||e.hasOwnProperty(i))continue;const{root:s,key:r}=l0(n.object,i);if(s.constructor&&s.constructor.length===0){const o=dj(s);ri.und(o)||(t[r]=o[r])}else t[r]=0}return t}const mj=["map","emissiveMap","sheenColorMap","specularColorMap","envMap"],gj=/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/;function xu(n,e){var t;const i=n.__r3f,s=i&&dU(i).getState(),r=i==null?void 0:i.eventCount;for(const u in e){let h=e[u];if(RM.includes(u))continue;if(i&&gj.test(u)){typeof h=="function"?i.handlers[u]=h:delete i.handlers[u],i.eventCount=Object.keys(i.handlers).length;continue}if(h===void 0)continue;let{root:p,key:m,target:y}=l0(n,u);if(y instanceof mp&&h instanceof mp)y.mask=h.mask;else if(y instanceof nt&&rj(h))y.set(h);else if(y!==null&&typeof y=="object"&&typeof y.set=="function"&&typeof y.copy=="function"&&h!=null&&h.constructor&&y.constructor===h.constructor)y.copy(h);else if(y!==null&&typeof y=="object"&&typeof y.set=="function"&&Array.isArray(h))typeof y.fromArray=="function"?y.fromArray(h):y.set(...h);else if(y!==null&&typeof y=="object"&&typeof y.set=="function"&&typeof h=="number")typeof y.setScalar=="function"?y.setScalar(h):y.set(h);else{var o;p[m]=h,s&&!s.linear&&mj.includes(m)&&(o=p[m])!=null&&o.isTexture&&p[m].format===js&&p[m].type===Or&&(p[m].colorSpace=Xs)}}if(i!=null&&i.parent&&s!=null&&s.internal&&(t=i.object)!=null&&t.isObject3D&&r!==i.eventCount){const u=i.object,h=s.internal.interaction.indexOf(u);h>-1&&s.internal.interaction.splice(h,1),i.eventCount&&u.raycast!==null&&s.internal.interaction.push(u)}return i&&i.props.attach===void 0&&(i.object.isBufferGeometry?i.props.attach="geometry":i.object.isMaterial&&(i.props.attach="material")),i&&Op(i),n}function Op(n){var e;if(!n.parent)return;n.props.onUpdate==null||n.props.onUpdate(n.object);const t=(e=n.root)==null||e.getState==null?void 0:e.getState();t&&t.internal.frames===0&&t.invalidate()}function yj(n,e){n.manual||(pU(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix())}const ha=n=>n==null?void 0:n.isObject3D;function rx(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function vU(n,e,t,i){const s=t.get(e);s&&(t.delete(e),t.size===0&&(n.delete(i),s.target.releasePointerCapture(i)))}function vj(n,e){const{internal:t}=n.getState();t.interaction=t.interaction.filter(i=>i!==e),t.initialHits=t.initialHits.filter(i=>i!==e),t.hovered.forEach((i,s)=>{(i.eventObject===e||i.object===e)&&t.hovered.delete(s)}),t.capturedMap.forEach((i,s)=>{vU(t.capturedMap,e,i,s)})}function xj(n){function e(h){const{internal:p}=n.getState(),m=h.offsetX-p.initialClick[0],y=h.offsetY-p.initialClick[1];return Math.round(Math.sqrt(m*m+y*y))}function t(h){return h.filter(p=>["Move","Over","Enter","Out","Leave"].some(m=>{var y;return(y=p.__r3f)==null?void 0:y.handlers["onPointer"+m]}))}function i(h,p){const m=n.getState(),y=new Set,x=[],_=p?p(m.internal.interaction):m.internal.interaction;for(let S=0;S<_.length;S++){const w=zd(_[S]);w&&(w.raycaster.camera=void 0)}m.previousRoot||m.events.compute==null||m.events.compute(h,m);function M(S){const w=zd(S);if(!w||!w.events.enabled||w.raycaster.camera===null)return[];if(w.raycaster.camera===void 0){var B;w.events.compute==null||w.events.compute(h,w,(B=w.previousRoot)==null?void 0:B.getState()),w.raycaster.camera===void 0&&(w.raycaster.camera=null)}return w.raycaster.camera?w.raycaster.intersectObject(S,!0):[]}let C=_.flatMap(M).sort((S,w)=>{const B=zd(S.object),D=zd(w.object);return!B||!D?S.distance-w.distance:D.events.priority-B.events.priority||S.distance-w.distance}).filter(S=>{const w=rx(S);return y.has(w)?!1:(y.add(w),!0)});m.events.filter&&(C=m.events.filter(C,m));for(const S of C){let w=S.object;for(;w;){var E;(E=w.__r3f)!=null&&E.eventCount&&x.push({...S,eventObject:w}),w=w.parent}}if("pointerId"in h&&m.internal.capturedMap.has(h.pointerId))for(let S of m.internal.capturedMap.get(h.pointerId).values())y.has(rx(S.intersection))||x.push(S.intersection);return x}function s(h,p,m,y){if(h.length){const x={stopped:!1};for(const _ of h){let M=zd(_.object);if(M||_.object.traverseAncestors(C=>{const E=zd(C);if(E)return M=E,!1}),M){const{raycaster:C,pointer:E,camera:S,internal:w}=M,B=new Z(E.x,E.y,0).unproject(S),D=U=>{var O,W;return(O=(W=w.capturedMap.get(U))==null?void 0:W.has(_.eventObject))!=null?O:!1},P=U=>{const O={intersection:_,target:p.target};w.capturedMap.has(U)?w.capturedMap.get(U).set(_.eventObject,O):w.capturedMap.set(U,new Map([[_.eventObject,O]])),p.target.setPointerCapture(U)},I=U=>{const O=w.capturedMap.get(U);O&&vU(w.capturedMap,_.eventObject,O,U)};let G={};for(let U in p){let O=p[U];typeof O!="function"&&(G[U]=O)}let z={..._,...G,pointer:E,intersections:h,stopped:x.stopped,delta:m,unprojectedPoint:B,ray:C.ray,camera:S,stopPropagation(){const U="pointerId"in p&&w.capturedMap.get(p.pointerId);if((!U||U.has(_.eventObject))&&(z.stopped=x.stopped=!0,w.hovered.size&&Array.from(w.hovered.values()).find(O=>O.eventObject===_.eventObject))){const O=h.slice(0,h.indexOf(_));r([...O,_])}},target:{hasPointerCapture:D,setPointerCapture:P,releasePointerCapture:I},currentTarget:{hasPointerCapture:D,setPointerCapture:P,releasePointerCapture:I},nativeEvent:p};if(y(z),x.stopped===!0)break}}}return h}function r(h){const{internal:p}=n.getState();for(const m of p.hovered.values())if(!h.length||!h.find(y=>y.object===m.object&&y.index===m.index&&y.instanceId===m.instanceId)){const x=m.eventObject.__r3f;if(p.hovered.delete(rx(m)),x!=null&&x.eventCount){const _=x.handlers,M={...m,intersections:h};_.onPointerOut==null||_.onPointerOut(M),_.onPointerLeave==null||_.onPointerLeave(M)}}}function o(h,p){for(let m=0;m<p.length;m++){const y=p[m].__r3f;y==null||y.handlers.onPointerMissed==null||y.handlers.onPointerMissed(h)}}function u(h){switch(h){case"onPointerLeave":case"onPointerCancel":return()=>r([]);case"onLostPointerCapture":return p=>{const{internal:m}=n.getState();"pointerId"in p&&m.capturedMap.has(p.pointerId)&&requestAnimationFrame(()=>{m.capturedMap.has(p.pointerId)&&(m.capturedMap.delete(p.pointerId),r([]))})}}return function(m){const{onPointerMissed:y,internal:x}=n.getState();x.lastEvent.current=m;const _=h==="onPointerMove",M=h==="onClick"||h==="onContextMenu"||h==="onDoubleClick",E=i(m,_?t:void 0),S=M?e(m):0;h==="onPointerDown"&&(x.initialClick=[m.offsetX,m.offsetY],x.initialHits=E.map(B=>B.eventObject)),M&&!E.length&&S<=2&&(o(m,x.interaction),y&&y(m)),_&&r(E);function w(B){const D=B.eventObject,P=D.__r3f;if(!(P!=null&&P.eventCount))return;const I=P.handlers;if(_){if(I.onPointerOver||I.onPointerEnter||I.onPointerOut||I.onPointerLeave){const G=rx(B),z=x.hovered.get(G);z?z.stopped&&B.stopPropagation():(x.hovered.set(G,B),I.onPointerOver==null||I.onPointerOver(B),I.onPointerEnter==null||I.onPointerEnter(B))}I.onPointerMove==null||I.onPointerMove(B)}else{const G=I[h];G?(!M||x.initialHits.includes(D))&&(o(m,x.interaction.filter(z=>!x.initialHits.includes(z))),G(B)):M&&x.initialHits.includes(D)&&o(m,x.interaction.filter(z=>!x.initialHits.includes(z)))}}s(E,m,S,w)}}return{handlePointer:u}}const jw=n=>!!(n!=null&&n.render),xU=Q.createContext(null),_j=(n,e)=>{const t=VX((u,h)=>{const p=new Z,m=new Z,y=new Z;function x(S=h().camera,w=m,B=h().size){const{width:D,height:P,top:I,left:G}=B,z=D/P;w.isVector3?y.copy(w):y.set(...w);const U=S.getWorldPosition(p).distanceTo(y);if(pU(S))return{width:D/S.zoom,height:P/S.zoom,top:I,left:G,factor:1,distance:U,aspect:z};{const O=S.fov*Math.PI/180,W=2*Math.tan(O/2)*U,ce=W*(D/P);return{width:ce,height:W,top:I,left:G,factor:D/ce,distance:U,aspect:z}}}let _;const M=S=>u(w=>({performance:{...w.performance,current:S}})),C=new Fe;return{set:u,get:h,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},scene:null,xr:null,invalidate:(S=1)=>n(h(),S),advance:(S,w)=>e(S,w,h()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new dE,pointer:C,mouse:C,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const S=h();_&&clearTimeout(_),S.performance.current!==S.performance.min&&M(S.performance.min),_=setTimeout(()=>M(h().performance.max),S.performance.debounce)}},size:{width:0,height:0,top:0,left:0},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:x},setEvents:S=>u(w=>({...w,events:{...w.events,...S}})),setSize:(S,w,B=0,D=0)=>{const P=h().camera,I={width:S,height:w,top:B,left:D};u(G=>({size:I,viewport:{...G.viewport,...x(P,m,I)}}))},setDpr:S=>u(w=>{const B=gU(S);return{viewport:{...w.viewport,dpr:B,initialDpr:w.viewport.initialDpr||B}}}),setFrameloop:(S="always")=>{const w=h().clock;w.stop(),w.elapsedTime=0,S!=="never"&&(w.start(),w.elapsedTime=0),u(()=>({frameloop:S}))},previousRoot:void 0,internal:{interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,lastEvent:Q.createRef(),active:!1,frames:0,priority:0,subscribe:(S,w,B)=>{const D=h().internal;return D.priority=D.priority+(w>0?1:0),D.subscribers.push({ref:S,priority:w,store:B}),D.subscribers=D.subscribers.sort((P,I)=>P.priority-I.priority),()=>{const P=h().internal;P!=null&&P.subscribers&&(P.priority=P.priority-(w>0?1:0),P.subscribers=P.subscribers.filter(I=>I.ref!==S))}}}}}),i=t.getState();let s=i.size,r=i.viewport.dpr,o=i.camera;return t.subscribe(()=>{const{camera:u,size:h,viewport:p,gl:m,set:y}=t.getState();if(h.width!==s.width||h.height!==s.height||p.dpr!==r){s=h,r=p.dpr,yj(u,h),p.dpr>0&&m.setPixelRatio(p.dpr);const x=typeof HTMLCanvasElement<"u"&&m.domElement instanceof HTMLCanvasElement;m.setSize(h.width,h.height,x)}u!==o&&(o=u,y(x=>({viewport:{...x.viewport,...x.viewport.getCurrentViewport(u)}})))}),t.subscribe(u=>n(u)),t};function _U(){const n=Q.useContext(xU);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function Aj(n=t=>t,e){return _U()(n,e)}function B0(n,e=0){const t=_U(),i=t.getState().internal.subscribe,s=mU(n);return w0(()=>i(s,e,t),[e,i,t]),null}const Yw=new WeakMap,bj=n=>{var e;return typeof n=="function"&&(n==null||(e=n.prototype)==null?void 0:e.constructor)===n};function AU(n,e){return function(t,...i){let s;return bj(t)?(s=Yw.get(t),s||(s=new t,Yw.set(t,s))):s=t,n&&n(s),Promise.all(i.map(r=>new Promise((o,u)=>s.load(r,h=>{ha(h==null?void 0:h.scene)&&Object.assign(h,uj(h.scene)),o(h)},e,h=>u(new Error(`Could not load ${r}: ${h==null?void 0:h.message}`))))))}}function D0(n,e,t,i){const s=Array.isArray(e)?e:[e],r=ZX(AU(t,i),[n,...s],{equal:ri.equ});return Array.isArray(e)?r:r[0]}D0.preload=function(n,e,t){const i=Array.isArray(e)?e:[e];return $X(AU(t),[n,...i])};D0.clear=function(n,e){const t=Array.isArray(e)?e:[e];return ej([n,...t])};function Sj(n){const e=WX(n);return e.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:Q.version}),e}const bU=0,xp={},Mj=/^three(?=[A-Z])/,mA=n=>`${n[0].toUpperCase()}${n.slice(1)}`;let Ej=0;const Tj=n=>typeof n=="function";function Cj(n){if(Tj(n)){const e=`${Ej++}`;return xp[e]=n,e}else Object.assign(xp,n)}function SU(n,e){const t=mA(n),i=xp[t];if(n!=="primitive"&&!i)throw new Error(`R3F: ${t} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(n==="primitive"&&!e.object)throw new Error("R3F: Primitives without 'object' are invalid!");if(e.args!==void 0&&!Array.isArray(e.args))throw new Error("R3F: The args prop must be an array!")}function Rj(n,e,t){var i;return n=mA(n)in xp?n:n.replace(Mj,""),SU(n,e),n==="primitive"&&(i=e.object)!=null&&i.__r3f&&delete e.object.__r3f,x_(e.object,t,n,e)}function wj(n){if(!n.isHidden){var e;n.props.attach&&(e=n.parent)!=null&&e.object?A_(n.parent,n):ha(n.object)&&(n.object.visible=!1),n.isHidden=!0,Op(n)}}function MU(n){if(n.isHidden){var e;n.props.attach&&(e=n.parent)!=null&&e.object?__(n.parent,n):ha(n.object)&&n.props.visible!==!1&&(n.object.visible=!0),n.isHidden=!1,Op(n)}}function AE(n,e,t){const i=e.root.getState();if(!(!n.parent&&n.object!==i.scene)){if(!e.object){var s,r;const o=xp[mA(e.type)];e.object=(s=e.props.object)!=null?s:new o(...(r=e.props.args)!=null?r:[]),e.object.__r3f=e}if(xu(e.object,e.props),e.props.attach)__(n,e);else if(ha(e.object)&&ha(n.object)){const o=n.object.children.indexOf(t==null?void 0:t.object);if(t&&o!==-1){const u=n.object.children.indexOf(e.object);if(u!==-1){n.object.children.splice(u,1);const h=u<o?o-1:o;n.object.children.splice(h,0,e.object)}else e.object.parent=n.object,n.object.children.splice(o,0,e.object),e.object.dispatchEvent({type:"added"}),n.object.dispatchEvent({type:"childadded",child:e.object})}else n.object.add(e.object)}for(const o of e.children)AE(e,o);Op(e)}}function bS(n,e){e&&(e.parent=n,n.children.push(e),AE(n,e))}function qw(n,e,t){if(!e||!t)return;e.parent=n;const i=n.children.indexOf(t);i!==-1?n.children.splice(i,0,e):n.children.push(e),AE(n,e,t)}function EU(n){if(typeof n.dispose=="function"){const e=()=>{try{n.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT<"u"?e():Vw.unstable_scheduleCallback(Vw.unstable_IdlePriority,e)}}function wM(n,e,t){if(!e)return;e.parent=null;const i=n.children.indexOf(e);i!==-1&&n.children.splice(i,1),e.props.attach?A_(n,e):ha(e.object)&&ha(n.object)&&(n.object.remove(e.object),vj(dU(e),e.object));const s=e.props.dispose!==null&&t!==!1;for(let r=e.children.length-1;r>=0;r--){const o=e.children[r];wM(e,o,s)}e.children.length=0,delete e.object.__r3f,s&&e.type!=="primitive"&&e.object.type!=="Scene"&&EU(e.object),t===void 0&&Op(e)}function Bj(n,e){for(const t of[n,n.alternate])if(t!==null)if(typeof t.ref=="function"){t.refCleanup==null||t.refCleanup();const i=t.ref(e);typeof i=="function"&&(t.refCleanup=i)}else t.ref&&(t.ref.current=e)}const Ex=[];function Dj(){for(const[t]of Ex){const i=t.parent;if(i){t.props.attach?A_(i,t):ha(t.object)&&ha(i.object)&&i.object.remove(t.object);for(const s of t.children)s.props.attach?A_(t,s):ha(s.object)&&ha(t.object)&&t.object.remove(s.object)}t.isHidden&&MU(t),t.object.__r3f&&delete t.object.__r3f,t.type!=="primitive"&&EU(t.object)}for(const[t,i,s]of Ex){t.props=i;const r=t.parent;if(r){var n,e;const o=xp[mA(t.type)];t.object=(n=t.props.object)!=null?n:new o(...(e=t.props.args)!=null?e:[]),t.object.__r3f=t,Bj(s,t.object),xu(t.object,t.props),t.props.attach?__(r,t):ha(t.object)&&ha(r.object)&&r.object.add(t.object);for(const u of t.children)u.props.attach?__(t,u):ha(u.object)&&ha(t.object)&&t.object.add(u.object);Op(t)}}Ex.length=0}const SS=()=>{},Ww={};let ox=bU;const Nj=0,Uj=4,BM=Sj({isPrimaryRenderer:!1,warnsIfNotActing:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,createInstance:Rj,removeChild:wM,appendChild:bS,appendInitialChild:bS,insertBefore:qw,appendChildToContainer(n,e){const t=n.getState().scene.__r3f;!e||!t||bS(t,e)},removeChildFromContainer(n,e){const t=n.getState().scene.__r3f;!e||!t||wM(t,e)},insertInContainerBefore(n,e,t){const i=n.getState().scene.__r3f;!e||!t||!i||qw(i,e,t)},getRootHostContext:()=>Ww,getChildHostContext:()=>Ww,commitUpdate(n,e,t,i,s){var r,o,u;SU(e,i);let h=!1;if((n.type==="primitive"&&t.object!==i.object||((r=i.args)==null?void 0:r.length)!==((o=t.args)==null?void 0:o.length)||(u=i.args)!=null&&u.some((m,y)=>{var x;return m!==((x=t.args)==null?void 0:x[y])}))&&(h=!0),h)Ex.push([n,{...i},s]);else{const m=pj(n,i);Object.keys(m).length&&(Object.assign(n.props,m),xu(n.object,m))}(s.sibling===null||(s.flags&Uj)===Nj)&&Dj()},finalizeInitialChildren:()=>!1,commitMount(){},getPublicInstance:n=>n==null?void 0:n.object,prepareForCommit:()=>null,preparePortalMount:n=>x_(n.getState().scene,n,"",{}),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance:wj,unhideInstance:MU,createTextInstance:SS,hideTextInstance:SS,unhideTextInstance:SS,scheduleTimeout:typeof setTimeout=="function"?setTimeout:void 0,cancelTimeout:typeof clearTimeout=="function"?clearTimeout:void 0,noTimeout:-1,getInstanceFromNode:()=>null,beforeActiveInstanceBlur(){},afterActiveInstanceBlur(){},detachDeletedInstance(){},prepareScopeUpdate(){},getInstanceFromScope:()=>null,shouldAttemptEagerTransition:()=>!1,trackSchedulerEvent:()=>{},resolveEventType:()=>null,resolveEventTimeStamp:()=>-1.1,requestPostPaintCallback(){},maySuspendCommit:()=>!1,preloadInstance:()=>!0,startSuspendingCommit(){},suspendInstance(){},waitForCommitToBeReady:()=>null,NotPendingTransition:null,HostTransitionContext:Q.createContext(null),setCurrentUpdatePriority(n){ox=n},getCurrentUpdatePriority(){return ox},resolveUpdatePriority(){var n;if(ox!==bU)return ox;switch(typeof window<"u"&&((n=window.event)==null?void 0:n.type)){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Mx.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Mx.ContinuousEventPriority;default:return Mx.DefaultEventPriority}},resetFormInstance(){}}),ph=new Map,Hd={objects:"shallow",strict:!1};function Lj(n,e){if(!e&&typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&n.parentElement){const{width:t,height:i,top:s,left:r}=n.parentElement.getBoundingClientRect();return{width:t,height:i,top:s,left:r}}else if(!e&&typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height,top:0,left:0};return{width:0,height:0,top:0,left:0,...e}}function Oj(n){const e=ph.get(n),t=e==null?void 0:e.fiber,i=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const s=typeof reportError=="function"?reportError:console.error,r=i||_j(UM,Kw),o=t||BM.createContainer(r,Mx.ConcurrentRoot,null,!1,null,"",s,s,s,null);e||ph.set(n,{fiber:o,store:r});let u,h,p=!1,m=null;return{async configure(y={}){let x;m=new Promise(ie=>x=ie);let{gl:_,size:M,scene:C,events:E,onCreated:S,shadows:w=!1,linear:B=!1,flat:D=!1,legacy:P=!1,orthographic:I=!1,frameloop:G="always",dpr:z=[1,2],performance:U,raycaster:O,camera:W,onPointerMissed:ce}=y,se=r.getState(),me=se.gl;if(!se.gl){const ie={canvas:n,powerPreference:"high-performance",antialias:!0,alpha:!0},xe=typeof _=="function"?await _(ie):_;jw(xe)?me=xe:me=new rU({...ie,..._}),se.set({gl:me})}let fe=se.raycaster;fe||se.set({raycaster:fe=new QN});const{params:F,...q}=O||{};if(ri.equ(q,fe,Hd)||xu(fe,{...q}),ri.equ(F,fe.params,Hd)||xu(fe,{params:{...fe.params,...F}}),!se.camera||se.camera===h&&!ri.equ(h,W,Hd)){h=W;const ie=W==null?void 0:W.isCamera,xe=ie?W:I?new Du(0,0,0,0,.1,1e3):new Ni(75,0,.1,1e3);ie||(xe.position.z=5,W&&(xu(xe,W),xe.manual||("aspect"in W||"left"in W||"right"in W||"bottom"in W||"top"in W)&&(xe.manual=!0,xe.updateProjectionMatrix())),!se.camera&&!(W!=null&&W.rotation)&&xe.lookAt(0,0,0)),se.set({camera:xe}),fe.camera=xe}if(!se.scene){let ie;C!=null&&C.isScene?(ie=C,x_(ie,r,"",{})):(ie=new k1,x_(ie,r,"",{}),C&&xu(ie,C)),se.set({scene:ie})}E&&!se.events.handlers&&se.set({events:E(r)});const Y=Lj(n,M);if(ri.equ(Y,se.size,Hd)||se.setSize(Y.width,Y.height,Y.top,Y.left),z&&se.viewport.dpr!==gU(z)&&se.setDpr(z),se.frameloop!==G&&se.setFrameloop(G),se.onPointerMissed||se.set({onPointerMissed:ce}),U&&!ri.equ(U,se.performance,Hd)&&se.set(ie=>({performance:{...ie.performance,...U}})),!se.xr){var ue;const ie=(ne,Ce)=>{const Oe=r.getState();Oe.frameloop!=="never"&&Kw(ne,!0,Oe,Ce)},xe=()=>{const ne=r.getState();ne.gl.xr.enabled=ne.gl.xr.isPresenting,ne.gl.xr.setAnimationLoop(ne.gl.xr.isPresenting?ie:null),ne.gl.xr.isPresenting||UM(ne)},_e={connect(){const ne=r.getState().gl;ne.xr.addEventListener("sessionstart",xe),ne.xr.addEventListener("sessionend",xe)},disconnect(){const ne=r.getState().gl;ne.xr.removeEventListener("sessionstart",xe),ne.xr.removeEventListener("sessionend",xe)}};typeof((ue=me.xr)==null?void 0:ue.addEventListener)=="function"&&_e.connect(),se.set({xr:_e})}if(me.shadowMap){const ie=me.shadowMap.enabled,xe=me.shadowMap.type;if(me.shadowMap.enabled=!!w,ri.boo(w))me.shadowMap.type=Ug;else if(ri.str(w)){var X;const _e={basic:h3,percentage:O_,soft:Ug,variance:mo};me.shadowMap.type=(X=_e[w])!=null?X:Ug}else ri.obj(w)&&Object.assign(me.shadowMap,w);(ie!==me.shadowMap.enabled||xe!==me.shadowMap.type)&&(me.shadowMap.needsUpdate=!0)}return bn.enabled=!P,p||(me.outputColorSpace=B?Eu:Xs,me.toneMapping=D?fl:C1),se.legacy!==P&&se.set(()=>({legacy:P})),se.linear!==B&&se.set(()=>({linear:B})),se.flat!==D&&se.set(()=>({flat:D})),_&&!ri.fun(_)&&!jw(_)&&!ri.equ(_,me,Hd)&&xu(me,_),u=S,p=!0,x(),this},render(y){return!p&&!m&&this.configure(),m.then(()=>{BM.updateContainer(J.jsx(Pj,{store:r,children:y,onCreated:u,rootElement:n}),o,null,()=>{})}),r},unmount(){TU(n)}}}function Pj({store:n,children:e,onCreated:t,rootElement:i}){return w0(()=>{const s=n.getState();s.set(r=>({internal:{...r.internal,active:!0}})),t&&t(s),n.getState().events.connected||s.events.connect==null||s.events.connect(i)},[]),J.jsx(xU.Provider,{value:n,children:e})}function TU(n,e){const t=ph.get(n),i=t==null?void 0:t.fiber;if(i){const s=t==null?void 0:t.store.getState();s&&(s.internal.active=!1),BM.updateContainer(null,i,null,()=>{s&&setTimeout(()=>{try{var r,o,u,h;s.events.disconnect==null||s.events.disconnect(),(r=s.gl)==null||(o=r.renderLists)==null||o.dispose==null||o.dispose(),(u=s.gl)==null||u.forceContextLoss==null||u.forceContextLoss(),(h=s.gl)!=null&&h.xr&&s.xr.disconnect(),fj(s.scene),ph.delete(n)}catch{}},500)})}}const Ij=new Set,Fj=new Set,zj=new Set;function MS(n,e){if(n.size)for(const{callback:t}of n.values())t(e)}function Vg(n,e){switch(n){case"before":return MS(Ij,e);case"after":return MS(Fj,e);case"tail":return MS(zj,e)}}let ES,TS;function DM(n,e,t){let i=e.clock.getDelta();e.frameloop==="never"&&typeof n=="number"&&(i=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),ES=e.internal.subscribers;for(let s=0;s<ES.length;s++)TS=ES[s],TS.ref.current(TS.store.getState(),i,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}let b_=!1,NM=!1,CS,Jw,Gd;function CU(n){Jw=requestAnimationFrame(CU),b_=!0,CS=0,Vg("before",n),NM=!0;for(const t of ph.values()){var e;Gd=t.store.getState(),Gd.internal.active&&(Gd.frameloop==="always"||Gd.internal.frames>0)&&!((e=Gd.gl.xr)!=null&&e.isPresenting)&&(CS+=DM(n,Gd))}if(NM=!1,Vg("after",n),CS===0)return Vg("tail",n),b_=!1,cancelAnimationFrame(Jw)}function UM(n,e=1){var t;if(!n)return ph.forEach(i=>UM(i.store.getState(),e));(t=n.gl.xr)!=null&&t.isPresenting||!n.internal.active||n.frameloop==="never"||(e>1?n.internal.frames=Math.min(60,n.internal.frames+e):NM?n.internal.frames=2:n.internal.frames=1,b_||(b_=!0,requestAnimationFrame(CU)))}function Kw(n,e=!0,t,i){if(e&&Vg("before",n),t)DM(n,t,i);else for(const s of ph.values())DM(n,s.store.getState());e&&Vg("after",n)}const RS={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function Hj(n){const{handlePointer:e}=xj(n);return{priority:1,enabled:!0,compute(t,i,s){i.pointer.set(t.offsetX/i.size.width*2-1,-(t.offsetY/i.size.height)*2+1),i.raycaster.setFromCamera(i.pointer,i.camera)},connected:void 0,handlers:Object.keys(RS).reduce((t,i)=>({...t,[i]:e(i)}),{}),update:()=>{var t;const{events:i,internal:s}=n.getState();(t=s.lastEvent)!=null&&t.current&&i.handlers&&i.handlers.onPointerMove(s.lastEvent.current)},connect:t=>{const{set:i,events:s}=n.getState();if(s.disconnect==null||s.disconnect(),i(r=>({events:{...r.events,connected:t}})),s.handlers)for(const r in s.handlers){const o=s.handlers[r],[u,h]=RS[r];t.addEventListener(u,o,{passive:h})}},disconnect:()=>{const{set:t,events:i}=n.getState();if(i.connected){if(i.handlers)for(const s in i.handlers){const r=i.handlers[s],[o]=RS[s];i.connected.removeEventListener(o,r)}t(s=>({events:{...s.events,connected:void 0}}))}}}}function Qw(n,e){let t;return(...i)=>{window.clearTimeout(t),t=window.setTimeout(()=>n(...i),e)}}function Gj({debounce:n,scroll:e,polyfill:t,offsetSize:i}={debounce:0,scroll:!1,offsetSize:!1}){const s=t||(typeof window>"u"?class{}:window.ResizeObserver);if(!s)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[r,o]=Q.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),u=Q.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:r,orientationHandler:null}),h=n?typeof n=="number"?n:n.scroll:null,p=n?typeof n=="number"?n:n.resize:null,m=Q.useRef(!1);Q.useEffect(()=>(m.current=!0,()=>void(m.current=!1)));const[y,x,_]=Q.useMemo(()=>{const S=()=>{if(!u.current.element)return;const{left:w,top:B,width:D,height:P,bottom:I,right:G,x:z,y:U}=u.current.element.getBoundingClientRect(),O={left:w,top:B,width:D,height:P,bottom:I,right:G,x:z,y:U};u.current.element instanceof HTMLElement&&i&&(O.height=u.current.element.offsetHeight,O.width=u.current.element.offsetWidth),Object.freeze(O),m.current&&!jj(u.current.lastBounds,O)&&o(u.current.lastBounds=O)};return[S,p?Qw(S,p):S,h?Qw(S,h):S]},[o,i,h,p]);function M(){u.current.scrollContainers&&(u.current.scrollContainers.forEach(S=>S.removeEventListener("scroll",_,!0)),u.current.scrollContainers=null),u.current.resizeObserver&&(u.current.resizeObserver.disconnect(),u.current.resizeObserver=null),u.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",u.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",u.current.orientationHandler))}function C(){u.current.element&&(u.current.resizeObserver=new s(_),u.current.resizeObserver.observe(u.current.element),e&&u.current.scrollContainers&&u.current.scrollContainers.forEach(S=>S.addEventListener("scroll",_,{capture:!0,passive:!0})),u.current.orientationHandler=()=>{_()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",u.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",u.current.orientationHandler))}const E=S=>{!S||S===u.current.element||(M(),u.current.element=S,u.current.scrollContainers=RU(S),C())};return kj(_,!!e),Vj(x),Q.useEffect(()=>{M(),C()},[e,_,x]),Q.useEffect(()=>M,[]),[E,r,y]}function Vj(n){Q.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function kj(n,e){Q.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function RU(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:i,overflowY:s}=window.getComputedStyle(n);return[t,i,s].some(r=>r==="auto"||r==="scroll")&&e.push(n),[...e,...RU(n.parentElement)]}const Xj=["x","y","top","bottom","left","right","width","height"],jj=(n,e)=>Xj.every(t=>n[t]===e[t]);function Yj({ref:n,children:e,fallback:t,resize:i,style:s,gl:r,events:o=Hj,eventSource:u,eventPrefix:h,shadows:p,linear:m,flat:y,legacy:x,orthographic:_,frameloop:M,dpr:C,performance:E,raycaster:S,camera:w,scene:B,onPointerMissed:D,onCreated:P,...I}){Q.useMemo(()=>Cj(BX),[]);const G=oj(),[z,U]=Gj({scroll:!0,debounce:{scroll:50,resize:0},...i}),O=Q.useRef(null),W=Q.useRef(null);Q.useImperativeHandle(n,()=>O.current);const ce=mU(D),[se,me]=Q.useState(!1),[fe,F]=Q.useState(!1);if(se)throw se;if(fe)throw fe;const q=Q.useRef(null);w0(()=>{const ue=O.current;if(U.width>0&&U.height>0&&ue){q.current||(q.current=Oj(ue));async function X(){await q.current.configure({gl:r,scene:B,events:o,shadows:p,linear:m,flat:y,legacy:x,orthographic:_,frameloop:M,dpr:C,performance:E,raycaster:S,camera:w,size:U,onPointerMissed:(...ie)=>ce.current==null?void 0:ce.current(...ie),onCreated:ie=>{ie.events.connect==null||ie.events.connect(u?aj(u)?u.current:u:W.current),h&&ie.setEvents({compute:(xe,_e)=>{const ne=xe[h+"X"],Ce=xe[h+"Y"];_e.pointer.set(ne/_e.size.width*2-1,-(Ce/_e.size.height)*2+1),_e.raycaster.setFromCamera(_e.pointer,_e.camera)}}),P==null||P(ie)}}),q.current.render(J.jsx(G,{children:J.jsx(cj,{set:F,children:J.jsx(Q.Suspense,{fallback:J.jsx(lj,{set:me}),children:e??null})})}))}X()}}),Q.useEffect(()=>{const ue=O.current;if(ue)return()=>TU(ue)},[]);const Y=u?"none":"auto";return J.jsx("div",{ref:W,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:Y,...s},...I,children:J.jsx("div",{ref:z,style:{width:"100%",height:"100%"},children:J.jsx("canvas",{ref:O,style:{display:"block"},children:t})})})}function qj(n){return J.jsx(fU,{children:J.jsx(Yj,{...n})})}function LM(){return LM=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},LM.apply(null,arguments)}const N0=new Z,bE=new Z,Wj=new Z,Zw=new Fe;function Jj(n,e,t){const i=N0.setFromMatrixPosition(n.matrixWorld);i.project(e);const s=t.width/2,r=t.height/2;return[i.x*s+s,-(i.y*r)+r]}function Kj(n,e){const t=N0.setFromMatrixPosition(n.matrixWorld),i=bE.setFromMatrixPosition(e.matrixWorld),s=t.sub(i),r=e.getWorldDirection(Wj);return s.angleTo(r)>Math.PI/2}function Qj(n,e,t,i){const s=N0.setFromMatrixPosition(n.matrixWorld),r=s.clone();r.project(e),Zw.set(r.x,r.y),t.setFromCamera(Zw,e);const o=t.intersectObjects(i,!0);if(o.length){const u=o[0].distance;return s.distanceTo(t.ray.origin)<u}return!0}function Zj(n,e){if(e instanceof Du)return e.zoom;if(e instanceof Ni){const t=N0.setFromMatrixPosition(n.matrixWorld),i=bE.setFromMatrixPosition(e.matrixWorld),s=e.fov*Math.PI/180,r=t.distanceTo(i);return 1/(2*Math.tan(s/2)*r)}else return 1}function $j(n,e,t){if(e instanceof Ni||e instanceof Du){const i=N0.setFromMatrixPosition(n.matrixWorld),s=bE.setFromMatrixPosition(e.matrixWorld),r=i.distanceTo(s),o=(t[1]-t[0])/(e.far-e.near),u=t[1]-o*e.far;return Math.round(o*r+u)}}const OM=n=>Math.abs(n)<1e-10?0:n;function wU(n,e,t=""){let i="matrix3d(";for(let s=0;s!==16;s++)i+=OM(e[s]*n.elements[s])+(s!==15?",":")");return t+i}const eY=(n=>e=>wU(e,n))([1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1]),tY=(n=>(e,t)=>wU(e,n(t),"translate(-50%,-50%)"))(n=>[1/n,1/n,1/n,1,-1/n,-1/n,-1/n,-1,1/n,1/n,1/n,1,1,1,1,1]);function nY(n){return n&&typeof n=="object"&&"current"in n}const iY=Q.forwardRef(({children:n,eps:e=.001,style:t,className:i,prepend:s,center:r,fullscreen:o,portal:u,distanceFactor:h,sprite:p=!1,transform:m=!1,occlude:y,onOcclude:x,castShadow:_,receiveShadow:M,material:C,geometry:E,zIndexRange:S=[16777271,0],calculatePosition:w=Jj,as:B="div",wrapperClass:D,pointerEvents:P="auto",...I},G)=>{const{gl:z,camera:U,scene:O,size:W,raycaster:ce,events:se,viewport:me}=Aj(),[fe]=Q.useState(()=>document.createElement(B)),F=Q.useRef(null),q=Q.useRef(null),Y=Q.useRef(0),ue=Q.useRef([0,0]),X=Q.useRef(null),ie=Q.useRef(null),xe=(u==null?void 0:u.current)||se.connected||z.domElement.parentNode,_e=Q.useRef(null),ne=Q.useRef(!1),Ce=Q.useMemo(()=>y&&y!=="blending"||Array.isArray(y)&&y.length&&nY(y[0]),[y]);Q.useLayoutEffect(()=>{const it=z.domElement;y&&y==="blending"?(it.style.zIndex=`${Math.floor(S[0]/2)}`,it.style.position="absolute",it.style.pointerEvents="none"):(it.style.zIndex=null,it.style.position=null,it.style.pointerEvents=null)},[y]),Q.useLayoutEffect(()=>{if(q.current){const it=F.current=tB.createRoot(fe);if(O.updateMatrixWorld(),m)fe.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{const mt=w(q.current,U,W);fe.style.cssText=`position:absolute;top:0;left:0;transform:translate3d(${mt[0]}px,${mt[1]}px,0);transform-origin:0 0;`}return xe&&(s?xe.prepend(fe):xe.appendChild(fe)),()=>{xe&&xe.removeChild(fe),it.unmount()}}},[xe,m]),Q.useLayoutEffect(()=>{D&&(fe.className=D)},[D]);const Oe=Q.useMemo(()=>m?{position:"absolute",top:0,left:0,width:W.width,height:W.height,transformStyle:"preserve-3d",pointerEvents:"none"}:{position:"absolute",transform:r?"translate3d(-50%,-50%,0)":"none",...o&&{top:-W.height/2,left:-W.width/2,width:W.width,height:W.height},...t},[t,r,o,W,m]),He=Q.useMemo(()=>({position:"absolute",pointerEvents:P}),[P]);Q.useLayoutEffect(()=>{if(ne.current=!1,m){var it;(it=F.current)==null||it.render(Q.createElement("div",{ref:X,style:Oe},Q.createElement("div",{ref:ie,style:He},Q.createElement("div",{ref:G,className:i,style:t,children:n}))))}else{var mt;(mt=F.current)==null||mt.render(Q.createElement("div",{ref:G,style:Oe,className:i,children:n}))}});const Ye=Q.useRef(!0);B0(it=>{if(q.current){U.updateMatrixWorld(),q.current.updateWorldMatrix(!0,!1);const mt=m?ue.current:w(q.current,U,W);if(m||Math.abs(Y.current-U.zoom)>e||Math.abs(ue.current[0]-mt[0])>e||Math.abs(ue.current[1]-mt[1])>e){const Rt=Kj(q.current,U);let St=!1;Ce&&(Array.isArray(y)?St=y.map(Ge=>Ge.current):y!=="blending"&&(St=[O]));const K=Ye.current;if(St){const Ge=Qj(q.current,U,ce,St);Ye.current=Ge&&!Rt}else Ye.current=!Rt;K!==Ye.current&&(x?x(!Ye.current):fe.style.display=Ye.current?"block":"none");const Je=Math.floor(S[0]/2),Xe=y?Ce?[S[0],Je]:[Je-1,0]:S;if(fe.style.zIndex=`${$j(q.current,U,Xe)}`,m){const[Ge,Ue]=[W.width/2,W.height/2],at=U.projectionMatrix.elements[5]*Ue,{isOrthographicCamera:Ve,top:et,left:Ht,bottom:$,right:H}=U,ge=eY(U.matrixWorldInverse),Re=Ve?`scale(${at})translate(${OM(-(H+Ht)/2)}px,${OM((et+$)/2)}px)`:`translateZ(${at}px)`;let Be=q.current.matrixWorld;p&&(Be=U.matrixWorldInverse.clone().transpose().copyPosition(Be).scale(q.current.scale),Be.elements[3]=Be.elements[7]=Be.elements[11]=0,Be.elements[15]=1),fe.style.width=W.width+"px",fe.style.height=W.height+"px",fe.style.perspective=Ve?"":`${at}px`,X.current&&ie.current&&(X.current.style.transform=`${Re}${ge}translate(${Ge}px,${Ue}px)`,ie.current.style.transform=tY(Be,1/((h||10)/400)))}else{const Ge=h===void 0?1:Zj(q.current,U)*h;fe.style.transform=`translate3d(${mt[0]}px,${mt[1]}px,0) scale(${Ge})`}ue.current=mt,Y.current=U.zoom}}if(!Ce&&_e.current&&!ne.current)if(m){if(X.current){const mt=X.current.children[0];if(mt!=null&&mt.clientWidth&&mt!=null&&mt.clientHeight){const{isOrthographicCamera:Rt}=U;if(Rt||E)I.scale&&(Array.isArray(I.scale)?I.scale instanceof Z?_e.current.scale.copy(I.scale.clone().divideScalar(1)):_e.current.scale.set(1/I.scale[0],1/I.scale[1],1/I.scale[2]):_e.current.scale.setScalar(1/I.scale));else{const St=(h||10)/400,K=mt.clientWidth*St,Je=mt.clientHeight*St;_e.current.scale.set(K,Je,1)}ne.current=!0}}}else{const mt=fe.children[0];if(mt!=null&&mt.clientWidth&&mt!=null&&mt.clientHeight){const Rt=1/me.factor,St=mt.clientWidth*Rt,K=mt.clientHeight*Rt;_e.current.scale.set(St,K,1),ne.current=!0}_e.current.lookAt(it.camera.position)}});const bt=Q.useMemo(()=>({vertexShader:m?void 0:`
          /*
            This shader is from the THREE's SpriteMaterial.
            We need to turn the backing plane into a Sprite
            (make it always face the camera) if "transfrom"
            is false.
          */
          #include <common>

          void main() {
            vec2 center = vec2(0., 1.);
            float rotation = 0.0;

            // This is somewhat arbitrary, but it seems to work well
            // Need to figure out how to derive this dynamically if it even matters
            float size = 0.03;

            vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
            vec2 scale;
            scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
            scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );

            bool isPerspective = isPerspectiveMatrix( projectionMatrix );
            if ( isPerspective ) scale *= - mvPosition.z;

            vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;
            vec2 rotatedPosition;
            rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
            rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
            mvPosition.xy += rotatedPosition;

            gl_Position = projectionMatrix * mvPosition;
          }
      `,fragmentShader:`
        void main() {
          gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
        }
      `}),[m]);return Q.createElement("group",LM({},I,{ref:q}),y&&!Ce&&Q.createElement("mesh",{castShadow:_,receiveShadow:M,ref:_e},E||Q.createElement("planeGeometry",null),C||Q.createElement("shaderMaterial",{side:Nr,vertexShader:bt.vertexShader,fragmentShader:bt.fragmentShader})))}),sY=n=>n;function aY(n,e=sY){const t=sp.useSyncExternalStore(n.subscribe,()=>e(n.getState()),()=>e(n.getInitialState()));return sp.useDebugValue(t),t}const $w=n=>{const e=oU(n),t=i=>aY(e,i);return Object.assign(t,e),t},rY=n=>n?$w(n):$w;let pg=0;const oY=rY(n=>(Qd.onStart=(e,t,i)=>{n({active:!0,item:e,loaded:t,total:i,progress:(t-pg)/(i-pg)*100})},Qd.onLoad=()=>{n({active:!1})},Qd.onError=e=>n(t=>({errors:[...t.errors,e]})),Qd.onProgress=(e,t,i)=>{t===i&&(pg=i),n({active:!0,item:e,loaded:t,total:i,progress:(t-pg)/(i-pg)*100||100})},{errors:[],active:!1,progress:0,item:"",loaded:0,total:0}));function kg(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function PM(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function lY(n,e){if(n){if(typeof n=="string")return PM(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return PM(n,e)}}function cY(n){if(Array.isArray(n))return PM(n)}function uY(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function fY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hY(n){return cY(n)||uY(n)||lY(n)||fY()}new Fe;new Fe;function dY(n,e,t){return Math.max(e,Math.min(t,n))}function pY(n,e){return dY(n-Math.floor(n/e)*e,0,e)}function mY(n,e){var t=pY(e-n,Math.PI*2);return t>Math.PI&&(t-=Math.PI*2),t}function BU(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}var wr=function n(e,t,i){var s=this;BU(this,n),kg(this,"dot2",function(r,o){return s.x*r+s.y*o}),kg(this,"dot3",function(r,o,u){return s.x*r+s.y*o+s.z*u}),this.x=e,this.y=t,this.z=i},gY=[new wr(1,1,0),new wr(-1,1,0),new wr(1,-1,0),new wr(-1,-1,0),new wr(1,0,1),new wr(-1,0,1),new wr(1,0,-1),new wr(-1,0,-1),new wr(0,1,1),new wr(0,-1,1),new wr(0,1,-1),new wr(0,-1,-1)],e2=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],t2=new Array(512),n2=new Array(512),yY=function(e){e>0&&e<1&&(e*=65536),e=Math.floor(e),e<256&&(e|=e<<8);for(var t=0;t<256;t++){var i;t&1?i=e2[t]^e&255:i=e2[t]^e>>8&255,t2[t]=t2[t+256]=i,n2[t]=n2[t+256]=gY[i%12]}};yY(0);function vY(n){if(typeof n=="number")n=Math.abs(n);else if(typeof n=="string"){var e=n;n=0;for(var t=0;t<e.length;t++)n=(n+(t+1)*(e.charCodeAt(t)%96))%2147483647}return n===0&&(n=311),n}function i2(n){var e=vY(n);return function(){var t=e*48271%2147483647;return e=t,t/2147483647}}var xY=function n(e){var t=this;BU(this,n),kg(this,"seed",0),kg(this,"init",function(i){t.seed=i,t.value=i2(i)}),kg(this,"value",i2(this.seed)),this.init(e)};new xY(Math.random());var _Y=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.01,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1/(2*Math.PI);return i/Math.atan(1/t)*Math.atan(Math.sin(2*Math.PI*e*s)/t)},DU=function(e){return 1/(1+e+.48*e*e+.235*e*e*e)},AY=function(e){return e},bY={in:function(e){return 1-Math.cos(e*Math.PI/2)},out:function(e){return Math.sin(e*Math.PI/2)},inOut:function(e){return-(Math.cos(Math.PI*e)-1)/2}},SY={in:function(e){return e*e*e},out:function(e){return 1-Math.pow(1-e,3)},inOut:function(e){return e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2}},MY={in:function(e){return e*e*e*e*e},out:function(e){return 1-Math.pow(1-e,5)},inOut:function(e){return e<.5?16*e*e*e*e*e:1-Math.pow(-2*e+2,5)/2}},EY={in:function(e){return 1-Math.sqrt(1-Math.pow(e,2))},out:function(e){return Math.sqrt(1-Math.pow(e-1,2))},inOut:function(e){return e<.5?(1-Math.sqrt(1-Math.pow(2*e,2)))/2:(Math.sqrt(1-Math.pow(-2*e+2,2))+1)/2}},TY={in:function(e){return e*e*e*e},out:function(e){return 1- --e*e*e*e},inOut:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e}},CY={in:function(e){return e===0?0:Math.pow(2,10*e-10)},out:function(e){return e===1?1:1-Math.pow(2,-10*e)},inOut:function(e){return e===0?0:e===1?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2}};function ns(n,e,t){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:.25,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:.01,r=arguments.length>5&&arguments[5]!==void 0?arguments[5]:1/0,o=arguments.length>6&&arguments[6]!==void 0?arguments[6]:DU,u=arguments.length>7&&arguments[7]!==void 0?arguments[7]:.001,h="velocity_"+e;if(n.__damp===void 0&&(n.__damp={}),n.__damp[h]===void 0&&(n.__damp[h]=0),Math.abs(n[e]-t)<=u)return n[e]=t,!1;i=Math.max(1e-4,i);var p=2/i,m=o(p*s),y=n[e]-t,x=t,_=r*i;y=Math.min(Math.max(y,-_),_),t=n[e]-y;var M=(n.__damp[h]+p*y)*s;n.__damp[h]=(n.__damp[h]-p*M)*m;var C=t+(y+M)*m;return x-n[e]>0==C>x&&(C=x,n.__damp[h]=(C-x)/s),n[e]=C,!0}var RY=function(e){return e&&e.isCamera},wY=function(e){return e&&e.isLight},mg=new Z,s2=new Oi,a2=new Oi,gg=new Nt,wS=new Z;function BY(n,e,t,i,s,r,o){typeof e=="number"?mg.setScalar(e):Array.isArray(e)?mg.set(e[0],e[1],e[2]):mg.copy(e);var u=n.parent;n.updateWorldMatrix(!0,!1),wS.setFromMatrixPosition(n.matrixWorld),RY(n)||wY(n)?gg.lookAt(wS,mg,n.up):gg.lookAt(mg,wS,n.up),S_(n.quaternion,a2.setFromRotationMatrix(gg),t,i,s,r,o),u&&(gg.extractRotation(u.matrixWorld),s2.setFromRotationMatrix(gg),S_(n.quaternion,a2.copy(n.quaternion).premultiply(s2.invert()),t,i,s,r,o))}function np(n,e,t,i,s,r,o,u){return ns(n,e,n[e]+mY(n[e],t),i,s,r,o,u)}var yg=new Fe,r2,o2;function DY(n,e,t,i,s,r,o){return typeof e=="number"?yg.setScalar(e):Array.isArray(e)?yg.set(e[0],e[1]):yg.copy(e),r2=ns(n,"x",yg.x,t,i,s,r,o),o2=ns(n,"y",yg.y,t,i,s,r,o),r2||o2}var Vd=new Z,l2,c2,u2;function IM(n,e,t,i,s,r,o){return typeof e=="number"?Vd.setScalar(e):Array.isArray(e)?Vd.set(e[0],e[1],e[2]):Vd.copy(e),l2=ns(n,"x",Vd.x,t,i,s,r,o),c2=ns(n,"y",Vd.y,t,i,s,r,o),u2=ns(n,"z",Vd.z,t,i,s,r,o),l2||c2||u2}var Gf=new mn,f2,h2,d2,p2;function NY(n,e,t,i,s,r,o){return typeof e=="number"?Gf.setScalar(e):Array.isArray(e)?Gf.set(e[0],e[1],e[2],e[3]):Gf.copy(e),f2=ns(n,"x",Gf.x,t,i,s,r,o),h2=ns(n,"y",Gf.y,t,i,s,r,o),d2=ns(n,"z",Gf.z,t,i,s,r,o),p2=ns(n,"w",Gf.w,t,i,s,r,o),f2||h2||d2||p2}var vg=new Pa,m2,g2,y2;function UY(n,e,t,i,s,r,o){return Array.isArray(e)?vg.set(e[0],e[1],e[2],e[3]):vg.copy(e),m2=np(n,"x",vg.x,t,i,s,r,o),g2=np(n,"y",vg.y,t,i,s,r,o),y2=np(n,"z",vg.z,t,i,s,r,o),m2||g2||y2}var kd=new nt,v2,x2,_2;function LY(n,e,t,i,s,r,o){return e instanceof nt?kd.copy(e):Array.isArray(e)?kd.setRGB(e[0],e[1],e[2]):kd.set(e),v2=ns(n,"r",kd.r,t,i,s,r,o),x2=ns(n,"g",kd.g,t,i,s,r,o),_2=ns(n,"b",kd.b,t,i,s,r,o),v2||x2||_2}var ho=new Oi,Kl=new mn,A2=new mn,xg=new mn,b2,S2,M2,E2;function S_(n,e,t,i,s,r,o){var u=n;Array.isArray(e)?ho.set(e[0],e[1],e[2],e[3]):ho.copy(e);var h=n.dot(ho)>0?1:-1;return ho.x*=h,ho.y*=h,ho.z*=h,ho.w*=h,b2=ns(n,"x",ho.x,t,i,s,r,o),S2=ns(n,"y",ho.y,t,i,s,r,o),M2=ns(n,"z",ho.z,t,i,s,r,o),E2=ns(n,"w",ho.w,t,i,s,r,o),Kl.set(n.x,n.y,n.z,n.w).normalize(),A2.set(u.__damp.velocity_x,u.__damp.velocity_y,u.__damp.velocity_z,u.__damp.velocity_w),xg.copy(Kl).multiplyScalar(A2.dot(Kl)/Kl.dot(Kl)),u.__damp.velocity_x-=xg.x,u.__damp.velocity_y-=xg.y,u.__damp.velocity_z-=xg.z,u.__damp.velocity_w-=xg.w,n.set(Kl.x,Kl.y,Kl.z,Kl.w),b2||S2||M2||E2}var _g=new ZN,T2,C2,R2;function OY(n,e,t,i,s,r,o){return Array.isArray(e)?_g.set(e[0],e[1],e[2]):_g.copy(e),T2=ns(n,"radius",_g.radius,t,i,s,r,o),C2=np(n,"phi",_g.phi,t,i,s,r,o),R2=np(n,"theta",_g.theta,t,i,s,r,o),T2||C2||R2}var lx=new Nt,w2=new Z,B2=new Oi,D2=new Z,N2,U2,L2;function PY(n,e,t,i,s,r,o){var u=n;return u.__damp===void 0&&(u.__damp={position:new Z,rotation:new Oi,scale:new Z},n.decompose(u.__damp.position,u.__damp.rotation,u.__damp.scale)),Array.isArray(e)?lx.set.apply(lx,hY(e)):lx.copy(e),lx.decompose(w2,B2,D2),N2=IM(u.__damp.position,w2,t,i,s,r,o),U2=S_(u.__damp.rotation,B2,t,i,s,r,o),L2=IM(u.__damp.scale,D2,t,i,s,r,o),n.compose(u.__damp.position,u.__damp.rotation,u.__damp.scale),N2||U2||L2}var IY=Object.freeze({__proto__:null,rsqw:_Y,exp:DU,linear:AY,sine:bY,cubic:SY,quint:MY,circ:EY,quart:TY,expo:CY,damp:ns,dampLookAt:BY,dampAngle:np,damp2:DY,damp3:IM,damp4:NY,dampE:UY,dampC:LY,dampQ:S_,dampS:OY,dampM:PY});const FY=parseInt(v0.replace(/\D+/g,""));function O2(n,e){if(e===k3)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),n;if(e===p_||e===P1){let t=n.getIndex();if(t===null){const o=[],u=n.getAttribute("position");if(u!==void 0){for(let h=0;h<u.count;h++)o.push(h);n.setIndex(o),t=n.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),n}const i=t.count-2,s=[];if(t)if(e===p_)for(let o=1;o<=i;o++)s.push(t.getX(0)),s.push(t.getX(o)),s.push(t.getX(o+1));else for(let o=0;o<i;o++)o%2===0?(s.push(t.getX(o)),s.push(t.getX(o+1)),s.push(t.getX(o+2))):(s.push(t.getX(o+2)),s.push(t.getX(o+1)),s.push(t.getX(o)));s.length/3!==i&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const r=n.clone();return r.setIndex(s),r.clearGroups(),r}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),n}function M_(n){if(typeof TextDecoder<"u")return new TextDecoder().decode(n);let e="";for(let t=0,i=n.length;t<i;t++)e+=String.fromCharCode(n[t]);try{return decodeURIComponent(escape(e))}catch{return e}}const nh="srgb",rc="srgb-linear",P2=3001,zY=3e3;class SE extends qs{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new XY(t)}),this.register(function(t){return new jY(t)}),this.register(function(t){return new eq(t)}),this.register(function(t){return new tq(t)}),this.register(function(t){return new nq(t)}),this.register(function(t){return new qY(t)}),this.register(function(t){return new WY(t)}),this.register(function(t){return new JY(t)}),this.register(function(t){return new KY(t)}),this.register(function(t){return new kY(t)}),this.register(function(t){return new QY(t)}),this.register(function(t){return new YY(t)}),this.register(function(t){return new $Y(t)}),this.register(function(t){return new ZY(t)}),this.register(function(t){return new GY(t)}),this.register(function(t){return new iq(t)}),this.register(function(t){return new sq(t)})}load(e,t,i,s){const r=this;let o;if(this.resourcePath!=="")o=this.resourcePath;else if(this.path!==""){const p=Au.extractUrlBase(e);o=Au.resolveURL(p,this.path)}else o=Au.extractUrlBase(e);this.manager.itemStart(e);const u=function(p){s?s(p):console.error(p),r.manager.itemError(e),r.manager.itemEnd(e)},h=new ar(this.manager);h.setPath(this.path),h.setResponseType("arraybuffer"),h.setRequestHeader(this.requestHeader),h.setWithCredentials(this.withCredentials),h.load(e,function(p){try{r.parse(p,o,function(m){t(m),r.manager.itemEnd(e)},u)}catch(m){u(m)}},i,u)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,i,s){let r;const o={},u={};if(typeof e=="string")r=JSON.parse(e);else if(e instanceof ArrayBuffer)if(M_(new Uint8Array(e.slice(0,4)))===NU){try{o[pn.KHR_BINARY_GLTF]=new aq(e)}catch(m){s&&s(m);return}r=JSON.parse(o[pn.KHR_BINARY_GLTF].content)}else r=JSON.parse(M_(new Uint8Array(e)));else r=e;if(r.asset===void 0||r.asset.version[0]<2){s&&s(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const h=new vq(r,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});h.fileLoader.setRequestHeader(this.requestHeader);for(let p=0;p<this.pluginCallbacks.length;p++){const m=this.pluginCallbacks[p](h);m.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),u[m.name]=m,o[m.name]=!0}if(r.extensionsUsed)for(let p=0;p<r.extensionsUsed.length;++p){const m=r.extensionsUsed[p],y=r.extensionsRequired||[];switch(m){case pn.KHR_MATERIALS_UNLIT:o[m]=new VY;break;case pn.KHR_DRACO_MESH_COMPRESSION:o[m]=new rq(r,this.dracoLoader);break;case pn.KHR_TEXTURE_TRANSFORM:o[m]=new oq;break;case pn.KHR_MESH_QUANTIZATION:o[m]=new lq;break;default:y.indexOf(m)>=0&&u[m]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+m+'".')}}h.setExtensions(o),h.setPlugins(u),h.parse(i,s)}parseAsync(e,t){const i=this;return new Promise(function(s,r){i.parse(e,t,s,r)})}}function HY(){let n={};return{get:function(e){return n[e]},add:function(e,t){n[e]=t},remove:function(e){delete n[e]},removeAll:function(){n={}}}}const pn={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class GY{constructor(e){this.parser=e,this.name=pn.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let i=0,s=t.length;i<s;i++){const r=t[i];r.extensions&&r.extensions[this.name]&&r.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,r.extensions[this.name].light)}}_loadLight(e){const t=this.parser,i="light:"+e;let s=t.cache.get(i);if(s)return s;const r=t.json,h=((r.extensions&&r.extensions[this.name]||{}).lights||[])[e];let p;const m=new nt(16777215);h.color!==void 0&&m.setRGB(h.color[0],h.color[1],h.color[2],rc);const y=h.range!==void 0?h.range:0;switch(h.type){case"directional":p=new fE(m),p.target.position.set(0,0,-1),p.add(p.target);break;case"point":p=new uE(m),p.distance=y;break;case"spot":p=new cE(m),p.distance=y,h.spot=h.spot||{},h.spot.innerConeAngle=h.spot.innerConeAngle!==void 0?h.spot.innerConeAngle:0,h.spot.outerConeAngle=h.spot.outerConeAngle!==void 0?h.spot.outerConeAngle:Math.PI/4,p.angle=h.spot.outerConeAngle,p.penumbra=1-h.spot.innerConeAngle/h.spot.outerConeAngle,p.target.position.set(0,0,-1),p.add(p.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+h.type)}return p.position.set(0,0,0),p.decay=2,Zl(p,h),h.intensity!==void 0&&(p.intensity=h.intensity),p.name=t.createUniqueName(h.name||"light_"+e),s=Promise.resolve(p),t.cache.add(i,s),s}getDependency(e,t){if(e==="light")return this._loadLight(t)}createNodeAttachment(e){const t=this,i=this.parser,r=i.json.nodes[e],u=(r.extensions&&r.extensions[this.name]||{}).light;return u===void 0?null:this._loadLight(u).then(function(h){return i._getNodeRef(t.cache,u,h)})}}class VY{constructor(){this.name=pn.KHR_MATERIALS_UNLIT}getMaterialType(){return ir}extendParams(e,t,i){const s=[];e.color=new nt(1,1,1),e.opacity=1;const r=t.pbrMetallicRoughness;if(r){if(Array.isArray(r.baseColorFactor)){const o=r.baseColorFactor;e.color.setRGB(o[0],o[1],o[2],rc),e.opacity=o[3]}r.baseColorTexture!==void 0&&s.push(i.assignTexture(e,"map",r.baseColorTexture,nh))}return Promise.all(s)}}class kY{constructor(e){this.parser=e,this.name=pn.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const s=this.parser.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const r=s.extensions[this.name].emissiveStrength;return r!==void 0&&(t.emissiveIntensity=r),Promise.resolve()}}class XY{constructor(e){this.parser=e,this.name=pn.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Pr}extendMaterialParams(e,t){const i=this.parser,s=i.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const r=[],o=s.extensions[this.name];if(o.clearcoatFactor!==void 0&&(t.clearcoat=o.clearcoatFactor),o.clearcoatTexture!==void 0&&r.push(i.assignTexture(t,"clearcoatMap",o.clearcoatTexture)),o.clearcoatRoughnessFactor!==void 0&&(t.clearcoatRoughness=o.clearcoatRoughnessFactor),o.clearcoatRoughnessTexture!==void 0&&r.push(i.assignTexture(t,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),o.clearcoatNormalTexture!==void 0&&(r.push(i.assignTexture(t,"clearcoatNormalMap",o.clearcoatNormalTexture)),o.clearcoatNormalTexture.scale!==void 0)){const u=o.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new Fe(u,u)}return Promise.all(r)}}class jY{constructor(e){this.parser=e,this.name=pn.KHR_MATERIALS_DISPERSION}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Pr}extendMaterialParams(e,t){const s=this.parser.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const r=s.extensions[this.name];return t.dispersion=r.dispersion!==void 0?r.dispersion:0,Promise.resolve()}}class YY{constructor(e){this.parser=e,this.name=pn.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Pr}extendMaterialParams(e,t){const i=this.parser,s=i.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const r=[],o=s.extensions[this.name];return o.iridescenceFactor!==void 0&&(t.iridescence=o.iridescenceFactor),o.iridescenceTexture!==void 0&&r.push(i.assignTexture(t,"iridescenceMap",o.iridescenceTexture)),o.iridescenceIor!==void 0&&(t.iridescenceIOR=o.iridescenceIor),t.iridescenceThicknessRange===void 0&&(t.iridescenceThicknessRange=[100,400]),o.iridescenceThicknessMinimum!==void 0&&(t.iridescenceThicknessRange[0]=o.iridescenceThicknessMinimum),o.iridescenceThicknessMaximum!==void 0&&(t.iridescenceThicknessRange[1]=o.iridescenceThicknessMaximum),o.iridescenceThicknessTexture!==void 0&&r.push(i.assignTexture(t,"iridescenceThicknessMap",o.iridescenceThicknessTexture)),Promise.all(r)}}class qY{constructor(e){this.parser=e,this.name=pn.KHR_MATERIALS_SHEEN}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Pr}extendMaterialParams(e,t){const i=this.parser,s=i.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const r=[];t.sheenColor=new nt(0,0,0),t.sheenRoughness=0,t.sheen=1;const o=s.extensions[this.name];if(o.sheenColorFactor!==void 0){const u=o.sheenColorFactor;t.sheenColor.setRGB(u[0],u[1],u[2],rc)}return o.sheenRoughnessFactor!==void 0&&(t.sheenRoughness=o.sheenRoughnessFactor),o.sheenColorTexture!==void 0&&r.push(i.assignTexture(t,"sheenColorMap",o.sheenColorTexture,nh)),o.sheenRoughnessTexture!==void 0&&r.push(i.assignTexture(t,"sheenRoughnessMap",o.sheenRoughnessTexture)),Promise.all(r)}}class WY{constructor(e){this.parser=e,this.name=pn.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Pr}extendMaterialParams(e,t){const i=this.parser,s=i.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const r=[],o=s.extensions[this.name];return o.transmissionFactor!==void 0&&(t.transmission=o.transmissionFactor),o.transmissionTexture!==void 0&&r.push(i.assignTexture(t,"transmissionMap",o.transmissionTexture)),Promise.all(r)}}class JY{constructor(e){this.parser=e,this.name=pn.KHR_MATERIALS_VOLUME}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Pr}extendMaterialParams(e,t){const i=this.parser,s=i.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const r=[],o=s.extensions[this.name];t.thickness=o.thicknessFactor!==void 0?o.thicknessFactor:0,o.thicknessTexture!==void 0&&r.push(i.assignTexture(t,"thicknessMap",o.thicknessTexture)),t.attenuationDistance=o.attenuationDistance||1/0;const u=o.attenuationColor||[1,1,1];return t.attenuationColor=new nt().setRGB(u[0],u[1],u[2],rc),Promise.all(r)}}class KY{constructor(e){this.parser=e,this.name=pn.KHR_MATERIALS_IOR}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Pr}extendMaterialParams(e,t){const s=this.parser.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const r=s.extensions[this.name];return t.ior=r.ior!==void 0?r.ior:1.5,Promise.resolve()}}class QY{constructor(e){this.parser=e,this.name=pn.KHR_MATERIALS_SPECULAR}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Pr}extendMaterialParams(e,t){const i=this.parser,s=i.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const r=[],o=s.extensions[this.name];t.specularIntensity=o.specularFactor!==void 0?o.specularFactor:1,o.specularTexture!==void 0&&r.push(i.assignTexture(t,"specularIntensityMap",o.specularTexture));const u=o.specularColorFactor||[1,1,1];return t.specularColor=new nt().setRGB(u[0],u[1],u[2],rc),o.specularColorTexture!==void 0&&r.push(i.assignTexture(t,"specularColorMap",o.specularColorTexture,nh)),Promise.all(r)}}class ZY{constructor(e){this.parser=e,this.name=pn.EXT_MATERIALS_BUMP}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Pr}extendMaterialParams(e,t){const i=this.parser,s=i.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const r=[],o=s.extensions[this.name];return t.bumpScale=o.bumpFactor!==void 0?o.bumpFactor:1,o.bumpTexture!==void 0&&r.push(i.assignTexture(t,"bumpMap",o.bumpTexture)),Promise.all(r)}}class $Y{constructor(e){this.parser=e,this.name=pn.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Pr}extendMaterialParams(e,t){const i=this.parser,s=i.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const r=[],o=s.extensions[this.name];return o.anisotropyStrength!==void 0&&(t.anisotropy=o.anisotropyStrength),o.anisotropyRotation!==void 0&&(t.anisotropyRotation=o.anisotropyRotation),o.anisotropyTexture!==void 0&&r.push(i.assignTexture(t,"anisotropyMap",o.anisotropyTexture)),Promise.all(r)}}class eq{constructor(e){this.parser=e,this.name=pn.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,i=t.json,s=i.textures[e];if(!s.extensions||!s.extensions[this.name])return null;const r=s.extensions[this.name],o=t.options.ktx2Loader;if(!o){if(i.extensionsRequired&&i.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,r.source,o)}}class tq{constructor(e){this.parser=e,this.name=pn.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,i=this.parser,s=i.json,r=s.textures[e];if(!r.extensions||!r.extensions[t])return null;const o=r.extensions[t],u=s.images[o.source];let h=i.textureLoader;if(u.uri){const p=i.options.manager.getHandler(u.uri);p!==null&&(h=p)}return this.detectSupport().then(function(p){if(p)return i.loadTextureImage(e,o.source,h);if(s.extensionsRequired&&s.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return i.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class nq{constructor(e){this.parser=e,this.name=pn.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const t=this.name,i=this.parser,s=i.json,r=s.textures[e];if(!r.extensions||!r.extensions[t])return null;const o=r.extensions[t],u=s.images[o.source];let h=i.textureLoader;if(u.uri){const p=i.options.manager.getHandler(u.uri);p!==null&&(h=p)}return this.detectSupport().then(function(p){if(p)return i.loadTextureImage(e,o.source,h);if(s.extensionsRequired&&s.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return i.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class iq{constructor(e){this.name=pn.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,i=t.bufferViews[e];if(i.extensions&&i.extensions[this.name]){const s=i.extensions[this.name],r=this.parser.getDependency("buffer",s.buffer),o=this.parser.options.meshoptDecoder;if(!o||!o.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return r.then(function(u){const h=s.byteOffset||0,p=s.byteLength||0,m=s.count,y=s.byteStride,x=new Uint8Array(u,h,p);return o.decodeGltfBufferAsync?o.decodeGltfBufferAsync(m,y,x,s.mode,s.filter).then(function(_){return _.buffer}):o.ready.then(function(){const _=new ArrayBuffer(m*y);return o.decodeGltfBuffer(new Uint8Array(_),m,y,x,s.mode,s.filter),_})})}else return null}}class sq{constructor(e){this.name=pn.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const t=this.parser.json,i=t.nodes[e];if(!i.extensions||!i.extensions[this.name]||i.mesh===void 0)return null;const s=t.meshes[i.mesh];for(const p of s.primitives)if(p.mode!==Dr.TRIANGLES&&p.mode!==Dr.TRIANGLE_STRIP&&p.mode!==Dr.TRIANGLE_FAN&&p.mode!==void 0)return null;const o=i.extensions[this.name].attributes,u=[],h={};for(const p in o)u.push(this.parser.getDependency("accessor",o[p]).then(m=>(h[p]=m,h[p])));return u.length<1?null:(u.push(this.parser.createNodeMesh(e)),Promise.all(u).then(p=>{const m=p.pop(),y=m.isGroup?m.children:[m],x=p[0].count,_=[];for(const M of y){const C=new Nt,E=new Z,S=new Oi,w=new Z(1,1,1),B=new Y1(M.geometry,M.material,x);for(let D=0;D<x;D++)h.TRANSLATION&&E.fromBufferAttribute(h.TRANSLATION,D),h.ROTATION&&S.fromBufferAttribute(h.ROTATION,D),h.SCALE&&w.fromBufferAttribute(h.SCALE,D),B.setMatrixAt(D,C.compose(E,S,w));for(const D in h)if(D==="_COLOR_0"){const P=h[D];B.instanceColor=new ch(P.array,P.itemSize,P.normalized)}else D!=="TRANSLATION"&&D!=="ROTATION"&&D!=="SCALE"&&M.geometry.setAttribute(D,h[D]);gn.prototype.copy.call(B,M),this.parser.assignFinalMaterial(B),_.push(B)}return m.isGroup?(m.clear(),m.add(..._),m):_[0]}))}}const NU="glTF",Ag=12,I2={JSON:1313821514,BIN:5130562};class aq{constructor(e){this.name=pn.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,Ag);if(this.header={magic:M_(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==NU)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const i=this.header.length-Ag,s=new DataView(e,Ag);let r=0;for(;r<i;){const o=s.getUint32(r,!0);r+=4;const u=s.getUint32(r,!0);if(r+=4,u===I2.JSON){const h=new Uint8Array(e,Ag+r,o);this.content=M_(h)}else if(u===I2.BIN){const h=Ag+r;this.body=e.slice(h,h+o)}r+=o}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class rq{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=pn.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const i=this.json,s=this.dracoLoader,r=e.extensions[this.name].bufferView,o=e.extensions[this.name].attributes,u={},h={},p={};for(const m in o){const y=FM[m]||m.toLowerCase();u[y]=o[m]}for(const m in e.attributes){const y=FM[m]||m.toLowerCase();if(o[m]!==void 0){const x=i.accessors[e.attributes[m]],_=ip[x.componentType];p[y]=_.name,h[y]=x.normalized===!0}}return t.getDependency("bufferView",r).then(function(m){return new Promise(function(y,x){s.decodeDracoFile(m,function(_){for(const M in _.attributes){const C=_.attributes[M],E=h[M];E!==void 0&&(C.normalized=E)}y(_)},u,p,rc,x)})})}}class oq{constructor(){this.name=pn.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return(t.texCoord===void 0||t.texCoord===e.channel)&&t.offset===void 0&&t.rotation===void 0&&t.scale===void 0||(e=e.clone(),t.texCoord!==void 0&&(e.channel=t.texCoord),t.offset!==void 0&&e.offset.fromArray(t.offset),t.rotation!==void 0&&(e.rotation=t.rotation),t.scale!==void 0&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class lq{constructor(){this.name=pn.KHR_MESH_QUANTIZATION}}class UU extends Up{constructor(e,t,i,s){super(e,t,i,s)}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,s=this.valueSize,r=e*s*3+s;for(let o=0;o!==s;o++)t[o]=i[r+o];return t}interpolate_(e,t,i,s){const r=this.resultBuffer,o=this.sampleValues,u=this.valueSize,h=u*2,p=u*3,m=s-t,y=(i-t)/m,x=y*y,_=x*y,M=e*p,C=M-p,E=-2*_+3*x,S=_-x,w=1-E,B=S-x+y;for(let D=0;D!==u;D++){const P=o[C+D+u],I=o[C+D+h]*m,G=o[M+D+u],z=o[M+D]*m;r[D]=w*P+B*I+E*G+S*z}return r}}const cq=new Oi;class uq extends UU{interpolate_(e,t,i,s){const r=super.interpolate_(e,t,i,s);return cq.fromArray(r).normalize().toArray(r),r}}const Dr={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},ip={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},F2={9728:ms,9729:Ui,9984:I_,9985:$d,9986:Qf,9987:Ur},z2={33071:nr,33648:op,10497:Mu},BS={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},FM={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...FY>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},pu={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},fq={CUBICSPLINE:void 0,LINEAR:dp,STEP:hp},DS={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function hq(n){return n.DefaultMaterial===void 0&&(n.DefaultMaterial=new R0({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:pl})),n.DefaultMaterial}function Vf(n,e,t){for(const i in t.extensions)n[i]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[i]=t.extensions[i])}function Zl(n,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(n.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function dq(n,e,t){let i=!1,s=!1,r=!1;for(let p=0,m=e.length;p<m;p++){const y=e[p];if(y.POSITION!==void 0&&(i=!0),y.NORMAL!==void 0&&(s=!0),y.COLOR_0!==void 0&&(r=!0),i&&s&&r)break}if(!i&&!s&&!r)return Promise.resolve(n);const o=[],u=[],h=[];for(let p=0,m=e.length;p<m;p++){const y=e[p];if(i){const x=y.POSITION!==void 0?t.getDependency("accessor",y.POSITION):n.attributes.position;o.push(x)}if(s){const x=y.NORMAL!==void 0?t.getDependency("accessor",y.NORMAL):n.attributes.normal;u.push(x)}if(r){const x=y.COLOR_0!==void 0?t.getDependency("accessor",y.COLOR_0):n.attributes.color;h.push(x)}}return Promise.all([Promise.all(o),Promise.all(u),Promise.all(h)]).then(function(p){const m=p[0],y=p[1],x=p[2];return i&&(n.morphAttributes.position=m),s&&(n.morphAttributes.normal=y),r&&(n.morphAttributes.color=x),n.morphTargetsRelative=!0,n})}function pq(n,e){if(n.updateMorphTargets(),e.weights!==void 0)for(let t=0,i=e.weights.length;t<i;t++)n.morphTargetInfluences[t]=e.weights[t];if(e.extras&&Array.isArray(e.extras.targetNames)){const t=e.extras.targetNames;if(n.morphTargetInfluences.length===t.length){n.morphTargetDictionary={};for(let i=0,s=t.length;i<s;i++)n.morphTargetDictionary[t[i]]=i}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function mq(n){let e;const t=n.extensions&&n.extensions[pn.KHR_DRACO_MESH_COMPRESSION];if(t?e="draco:"+t.bufferView+":"+t.indices+":"+NS(t.attributes):e=n.indices+":"+NS(n.attributes)+":"+n.mode,n.targets!==void 0)for(let i=0,s=n.targets.length;i<s;i++)e+=":"+NS(n.targets[i]);return e}function NS(n){let e="";const t=Object.keys(n).sort();for(let i=0,s=t.length;i<s;i++)e+=t[i]+":"+n[t[i]]+";";return e}function zM(n){switch(n){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function gq(n){return n.search(/\.jpe?g($|\?)/i)>0||n.search(/^data\:image\/jpeg/)===0?"image/jpeg":n.search(/\.webp($|\?)/i)>0||n.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const yq=new Nt;class vq{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new HY,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let i=!1,s=!1,r=-1;typeof navigator<"u"&&typeof navigator.userAgent<"u"&&(i=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,s=navigator.userAgent.indexOf("Firefox")>-1,r=s?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||i||s&&r<98?this.textureLoader=new IN(this.options.manager):this.textureLoader=new jN(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new ar(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const i=this,s=this.json,r=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(o){return o._markDefs&&o._markDefs()}),Promise.all(this._invokeAll(function(o){return o.beforeRoot&&o.beforeRoot()})).then(function(){return Promise.all([i.getDependencies("scene"),i.getDependencies("animation"),i.getDependencies("camera")])}).then(function(o){const u={scene:o[0][s.scene||0],scenes:o[0],animations:o[1],cameras:o[2],asset:s.asset,parser:i,userData:{}};return Vf(r,u,s),Zl(u,s),Promise.all(i._invokeAll(function(h){return h.afterRoot&&h.afterRoot(u)})).then(function(){for(const h of u.scenes)h.updateMatrixWorld();e(u)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],i=this.json.meshes||[];for(let s=0,r=t.length;s<r;s++){const o=t[s].joints;for(let u=0,h=o.length;u<h;u++)e[o[u]].isBone=!0}for(let s=0,r=e.length;s<r;s++){const o=e[s];o.mesh!==void 0&&(this._addNodeRef(this.meshCache,o.mesh),o.skin!==void 0&&(i[o.mesh].isSkinnedMesh=!0)),o.camera!==void 0&&this._addNodeRef(this.cameraCache,o.camera)}}_addNodeRef(e,t){t!==void 0&&(e.refs[t]===void 0&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,i){if(e.refs[t]<=1)return i;const s=i.clone(),r=(o,u)=>{const h=this.associations.get(o);h!=null&&this.associations.set(u,h);for(const[p,m]of o.children.entries())r(m,u.children[p])};return r(i,s),s.name+="_instance_"+e.uses[t]++,s}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let i=0;i<t.length;i++){const s=e(t[i]);if(s)return s}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const i=[];for(let s=0;s<t.length;s++){const r=e(t[s]);r&&i.push(r)}return i}getDependency(e,t){const i=e+":"+t;let s=this.cache.get(i);if(!s){switch(e){case"scene":s=this.loadScene(t);break;case"node":s=this._invokeOne(function(r){return r.loadNode&&r.loadNode(t)});break;case"mesh":s=this._invokeOne(function(r){return r.loadMesh&&r.loadMesh(t)});break;case"accessor":s=this.loadAccessor(t);break;case"bufferView":s=this._invokeOne(function(r){return r.loadBufferView&&r.loadBufferView(t)});break;case"buffer":s=this.loadBuffer(t);break;case"material":s=this._invokeOne(function(r){return r.loadMaterial&&r.loadMaterial(t)});break;case"texture":s=this._invokeOne(function(r){return r.loadTexture&&r.loadTexture(t)});break;case"skin":s=this.loadSkin(t);break;case"animation":s=this._invokeOne(function(r){return r.loadAnimation&&r.loadAnimation(t)});break;case"camera":s=this.loadCamera(t);break;default:if(s=this._invokeOne(function(r){return r!=this&&r.getDependency&&r.getDependency(e,t)}),!s)throw new Error("Unknown type: "+e);break}this.cache.add(i,s)}return s}getDependencies(e){let t=this.cache.get(e);if(!t){const i=this,s=this.json[e+(e==="mesh"?"es":"s")]||[];t=Promise.all(s.map(function(r,o){return i.getDependency(e,o)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],i=this.fileLoader;if(t.type&&t.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(t.uri===void 0&&e===0)return Promise.resolve(this.extensions[pn.KHR_BINARY_GLTF].body);const s=this.options;return new Promise(function(r,o){i.load(Au.resolveURL(t.uri,s.path),r,void 0,function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(i){const s=t.byteLength||0,r=t.byteOffset||0;return i.slice(r,r+s)})}loadAccessor(e){const t=this,i=this.json,s=this.json.accessors[e];if(s.bufferView===void 0&&s.sparse===void 0){const o=BS[s.type],u=ip[s.componentType],h=s.normalized===!0,p=new u(s.count*o);return Promise.resolve(new Cn(p,o,h))}const r=[];return s.bufferView!==void 0?r.push(this.getDependency("bufferView",s.bufferView)):r.push(null),s.sparse!==void 0&&(r.push(this.getDependency("bufferView",s.sparse.indices.bufferView)),r.push(this.getDependency("bufferView",s.sparse.values.bufferView))),Promise.all(r).then(function(o){const u=o[0],h=BS[s.type],p=ip[s.componentType],m=p.BYTES_PER_ELEMENT,y=m*h,x=s.byteOffset||0,_=s.bufferView!==void 0?i.bufferViews[s.bufferView].byteStride:void 0,M=s.normalized===!0;let C,E;if(_&&_!==y){const S=Math.floor(x/_),w="InterleavedBuffer:"+s.bufferView+":"+s.componentType+":"+S+":"+s.count;let B=t.cache.get(w);B||(C=new p(u,S*_,s.count*_/m),B=new b0(C,_/m),t.cache.add(w,B)),E=new Tu(B,h,x%_/m,M)}else u===null?C=new p(s.count*h):C=new p(u,x,s.count*h),E=new Cn(C,h,M);if(s.sparse!==void 0){const S=BS.SCALAR,w=ip[s.sparse.indices.componentType],B=s.sparse.indices.byteOffset||0,D=s.sparse.values.byteOffset||0,P=new w(o[1],B,s.sparse.count*S),I=new p(o[2],D,s.sparse.count*h);u!==null&&(E=new Cn(E.array.slice(),E.itemSize,E.normalized));for(let G=0,z=P.length;G<z;G++){const U=P[G];if(E.setX(U,I[G*h]),h>=2&&E.setY(U,I[G*h+1]),h>=3&&E.setZ(U,I[G*h+2]),h>=4&&E.setW(U,I[G*h+3]),h>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return E})}loadTexture(e){const t=this.json,i=this.options,r=t.textures[e].source,o=t.images[r];let u=this.textureLoader;if(o.uri){const h=i.manager.getHandler(o.uri);h!==null&&(u=h)}return this.loadTextureImage(e,r,u)}loadTextureImage(e,t,i){const s=this,r=this.json,o=r.textures[e],u=r.images[t],h=(u.uri||u.bufferView)+":"+o.sampler;if(this.textureCache[h])return this.textureCache[h];const p=this.loadImageSource(t,i).then(function(m){m.flipY=!1,m.name=o.name||u.name||"",m.name===""&&typeof u.uri=="string"&&u.uri.startsWith("data:image/")===!1&&(m.name=u.uri);const x=(r.samplers||{})[o.sampler]||{};return m.magFilter=F2[x.magFilter]||Ui,m.minFilter=F2[x.minFilter]||Ur,m.wrapS=z2[x.wrapS]||Mu,m.wrapT=z2[x.wrapT]||Mu,s.associations.set(m,{textures:e}),m}).catch(function(){return null});return this.textureCache[h]=p,p}loadImageSource(e,t){const i=this,s=this.json,r=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(y=>y.clone());const o=s.images[e],u=self.URL||self.webkitURL;let h=o.uri||"",p=!1;if(o.bufferView!==void 0)h=i.getDependency("bufferView",o.bufferView).then(function(y){p=!0;const x=new Blob([y],{type:o.mimeType});return h=u.createObjectURL(x),h});else if(o.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const m=Promise.resolve(h).then(function(y){return new Promise(function(x,_){let M=x;t.isImageBitmapLoader===!0&&(M=function(C){const E=new oi(C);E.needsUpdate=!0,x(E)}),t.load(Au.resolveURL(y,r.path),M,void 0,_)})}).then(function(y){return p===!0&&u.revokeObjectURL(h),Zl(y,o),y.userData.mimeType=o.mimeType||gq(o.uri),y}).catch(function(y){throw console.error("THREE.GLTFLoader: Couldn't load texture",h),y});return this.sourceCache[e]=m,m}assignTexture(e,t,i,s){const r=this;return this.getDependency("texture",i.index).then(function(o){if(!o)return null;if(i.texCoord!==void 0&&i.texCoord>0&&(o=o.clone(),o.channel=i.texCoord),r.extensions[pn.KHR_TEXTURE_TRANSFORM]){const u=i.extensions!==void 0?i.extensions[pn.KHR_TEXTURE_TRANSFORM]:void 0;if(u){const h=r.associations.get(o);o=r.extensions[pn.KHR_TEXTURE_TRANSFORM].extendTexture(o,u),r.associations.set(o,h)}}return s!==void 0&&(typeof s=="number"&&(s=s===P2?nh:rc),"colorSpace"in o?o.colorSpace=s:o.encoding=s===nh?P2:zY),e[t]=o,o})}assignFinalMaterial(e){const t=e.geometry;let i=e.material;const s=t.attributes.tangent===void 0,r=t.attributes.color!==void 0,o=t.attributes.normal===void 0;if(e.isPoints){const u="PointsMaterial:"+i.uuid;let h=this.cache.get(u);h||(h=new Z_,is.prototype.copy.call(h,i),h.color.copy(i.color),h.map=i.map,h.sizeAttenuation=!1,this.cache.add(u,h)),i=h}else if(e.isLine){const u="LineBasicMaterial:"+i.uuid;let h=this.cache.get(u);h||(h=new Ys,is.prototype.copy.call(h,i),h.color.copy(i.color),h.map=i.map,this.cache.add(u,h)),i=h}if(s||r||o){let u="ClonedMaterial:"+i.uuid+":";s&&(u+="derivative-tangents:"),r&&(u+="vertex-colors:"),o&&(u+="flat-shading:");let h=this.cache.get(u);h||(h=i.clone(),r&&(h.vertexColors=!0),o&&(h.flatShading=!0),s&&(h.normalScale&&(h.normalScale.y*=-1),h.clearcoatNormalScale&&(h.clearcoatNormalScale.y*=-1)),this.cache.add(u,h),this.associations.set(h,this.associations.get(i))),i=h}e.material=i}getMaterialType(){return R0}loadMaterial(e){const t=this,i=this.json,s=this.extensions,r=i.materials[e];let o;const u={},h=r.extensions||{},p=[];if(h[pn.KHR_MATERIALS_UNLIT]){const y=s[pn.KHR_MATERIALS_UNLIT];o=y.getMaterialType(),p.push(y.extendParams(u,r,t))}else{const y=r.pbrMetallicRoughness||{};if(u.color=new nt(1,1,1),u.opacity=1,Array.isArray(y.baseColorFactor)){const x=y.baseColorFactor;u.color.setRGB(x[0],x[1],x[2],rc),u.opacity=x[3]}y.baseColorTexture!==void 0&&p.push(t.assignTexture(u,"map",y.baseColorTexture,nh)),u.metalness=y.metallicFactor!==void 0?y.metallicFactor:1,u.roughness=y.roughnessFactor!==void 0?y.roughnessFactor:1,y.metallicRoughnessTexture!==void 0&&(p.push(t.assignTexture(u,"metalnessMap",y.metallicRoughnessTexture)),p.push(t.assignTexture(u,"roughnessMap",y.metallicRoughnessTexture))),o=this._invokeOne(function(x){return x.getMaterialType&&x.getMaterialType(e)}),p.push(Promise.all(this._invokeAll(function(x){return x.extendMaterialParams&&x.extendMaterialParams(e,u)})))}r.doubleSided===!0&&(u.side=Nr);const m=r.alphaMode||DS.OPAQUE;if(m===DS.BLEND?(u.transparent=!0,u.depthWrite=!1):(u.transparent=!1,m===DS.MASK&&(u.alphaTest=r.alphaCutoff!==void 0?r.alphaCutoff:.5)),r.normalTexture!==void 0&&o!==ir&&(p.push(t.assignTexture(u,"normalMap",r.normalTexture)),u.normalScale=new Fe(1,1),r.normalTexture.scale!==void 0)){const y=r.normalTexture.scale;u.normalScale.set(y,y)}if(r.occlusionTexture!==void 0&&o!==ir&&(p.push(t.assignTexture(u,"aoMap",r.occlusionTexture)),r.occlusionTexture.strength!==void 0&&(u.aoMapIntensity=r.occlusionTexture.strength)),r.emissiveFactor!==void 0&&o!==ir){const y=r.emissiveFactor;u.emissive=new nt().setRGB(y[0],y[1],y[2],rc)}return r.emissiveTexture!==void 0&&o!==ir&&p.push(t.assignTexture(u,"emissiveMap",r.emissiveTexture,nh)),Promise.all(p).then(function(){const y=new o(u);return r.name&&(y.name=r.name),Zl(y,r),t.associations.set(y,{materials:e}),r.extensions&&Vf(s,y,r),y})}createUniqueName(e){const t=Tn.sanitizeNodeName(e||"");return t in this.nodeNamesUsed?t+"_"+ ++this.nodeNamesUsed[t]:(this.nodeNamesUsed[t]=0,t)}loadGeometries(e){const t=this,i=this.extensions,s=this.primitiveCache;function r(u){return i[pn.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(u,t).then(function(h){return H2(h,u,t)})}const o=[];for(let u=0,h=e.length;u<h;u++){const p=e[u],m=mq(p),y=s[m];if(y)o.push(y.promise);else{let x;p.extensions&&p.extensions[pn.KHR_DRACO_MESH_COMPRESSION]?x=r(p):x=H2(new Kt,p,t),s[m]={primitive:p,promise:x},o.push(x)}}return Promise.all(o)}loadMesh(e){const t=this,i=this.json,s=this.extensions,r=i.meshes[e],o=r.primitives,u=[];for(let h=0,p=o.length;h<p;h++){const m=o[h].material===void 0?hq(this.cache):this.getDependency("material",o[h].material);u.push(m)}return u.push(t.loadGeometries(o)),Promise.all(u).then(function(h){const p=h.slice(0,h.length-1),m=h[h.length-1],y=[];for(let _=0,M=m.length;_<M;_++){const C=m[_],E=o[_];let S;const w=p[_];if(E.mode===Dr.TRIANGLES||E.mode===Dr.TRIANGLE_STRIP||E.mode===Dr.TRIANGLE_FAN||E.mode===void 0)S=r.isSkinnedMesh===!0?new j1(C,w):new Li(C,w),S.isSkinnedMesh===!0&&S.normalizeSkinWeights(),E.mode===Dr.TRIANGLE_STRIP?S.geometry=O2(S.geometry,P1):E.mode===Dr.TRIANGLE_FAN&&(S.geometry=O2(S.geometry,p_));else if(E.mode===Dr.LINES)S=new bo(C,w);else if(E.mode===Dr.LINE_STRIP)S=new fc(C,w);else if(E.mode===Dr.LINE_LOOP)S=new q1(C,w);else if(E.mode===Dr.POINTS)S=new W1(C,w);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+E.mode);Object.keys(S.geometry.morphAttributes).length>0&&pq(S,r),S.name=t.createUniqueName(r.name||"mesh_"+e),Zl(S,r),E.extensions&&Vf(s,S,E),t.assignFinalMaterial(S),y.push(S)}for(let _=0,M=y.length;_<M;_++)t.associations.set(y[_],{meshes:e,primitives:_});if(y.length===1)return r.extensions&&Vf(s,y[0],r),y[0];const x=new tc;r.extensions&&Vf(s,x,r),t.associations.set(x,{meshes:e});for(let _=0,M=y.length;_<M;_++)x.add(y[_]);return x})}loadCamera(e){let t;const i=this.json.cameras[e],s=i[i.type];if(!s){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return i.type==="perspective"?t=new Ni(z1.radToDeg(s.yfov),s.aspectRatio||1,s.znear||1,s.zfar||2e6):i.type==="orthographic"&&(t=new Du(-s.xmag,s.xmag,s.ymag,-s.ymag,s.znear,s.zfar)),i.name&&(t.name=this.createUniqueName(i.name)),Zl(t,i),Promise.resolve(t)}loadSkin(e){const t=this.json.skins[e],i=[];for(let s=0,r=t.joints.length;s<r;s++)i.push(this._loadNodeShallow(t.joints[s]));return t.inverseBindMatrices!==void 0?i.push(this.getDependency("accessor",t.inverseBindMatrices)):i.push(null),Promise.all(i).then(function(s){const r=s.pop(),o=s,u=[],h=[];for(let p=0,m=o.length;p<m;p++){const y=o[p];if(y){u.push(y);const x=new Nt;r!==null&&x.fromArray(r.array,p*16),h.push(x)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[p])}return new S0(u,h)})}loadAnimation(e){const t=this.json,i=this,s=t.animations[e],r=s.name?s.name:"animation_"+e,o=[],u=[],h=[],p=[],m=[];for(let y=0,x=s.channels.length;y<x;y++){const _=s.channels[y],M=s.samplers[_.sampler],C=_.target,E=C.node,S=s.parameters!==void 0?s.parameters[M.input]:M.input,w=s.parameters!==void 0?s.parameters[M.output]:M.output;C.node!==void 0&&(o.push(this.getDependency("node",E)),u.push(this.getDependency("accessor",S)),h.push(this.getDependency("accessor",w)),p.push(M),m.push(C))}return Promise.all([Promise.all(o),Promise.all(u),Promise.all(h),Promise.all(p),Promise.all(m)]).then(function(y){const x=y[0],_=y[1],M=y[2],C=y[3],E=y[4],S=[];for(let w=0,B=x.length;w<B;w++){const D=x[w],P=_[w],I=M[w],G=C[w],z=E[w];if(D===void 0)continue;D.updateMatrix&&D.updateMatrix();const U=i._createAnimationTracks(D,P,I,G,z);if(U)for(let O=0;O<U.length;O++)S.push(U[O])}return new vp(r,void 0,S)})}createNodeMesh(e){const t=this.json,i=this,s=t.nodes[e];return s.mesh===void 0?null:i.getDependency("mesh",s.mesh).then(function(r){const o=i._getNodeRef(i.meshCache,s.mesh,r);return s.weights!==void 0&&o.traverse(function(u){if(u.isMesh)for(let h=0,p=s.weights.length;h<p;h++)u.morphTargetInfluences[h]=s.weights[h]}),o})}loadNode(e){const t=this.json,i=this,s=t.nodes[e],r=i._loadNodeShallow(e),o=[],u=s.children||[];for(let p=0,m=u.length;p<m;p++)o.push(i.getDependency("node",u[p]));const h=s.skin===void 0?Promise.resolve(null):i.getDependency("skin",s.skin);return Promise.all([r,Promise.all(o),h]).then(function(p){const m=p[0],y=p[1],x=p[2];x!==null&&m.traverse(function(_){_.isSkinnedMesh&&_.bind(x,yq)});for(let _=0,M=y.length;_<M;_++)m.add(y[_]);return m})}_loadNodeShallow(e){const t=this.json,i=this.extensions,s=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const r=t.nodes[e],o=r.name?s.createUniqueName(r.name):"",u=[],h=s._invokeOne(function(p){return p.createNodeMesh&&p.createNodeMesh(e)});return h&&u.push(h),r.camera!==void 0&&u.push(s.getDependency("camera",r.camera).then(function(p){return s._getNodeRef(s.cameraCache,r.camera,p)})),s._invokeAll(function(p){return p.createNodeAttachment&&p.createNodeAttachment(e)}).forEach(function(p){u.push(p)}),this.nodeCache[e]=Promise.all(u).then(function(p){let m;if(r.isBone===!0?m=new K_:p.length>1?m=new tc:p.length===1?m=p[0]:m=new gn,m!==p[0])for(let y=0,x=p.length;y<x;y++)m.add(p[y]);if(r.name&&(m.userData.name=r.name,m.name=o),Zl(m,r),r.extensions&&Vf(i,m,r),r.matrix!==void 0){const y=new Nt;y.fromArray(r.matrix),m.applyMatrix4(y)}else r.translation!==void 0&&m.position.fromArray(r.translation),r.rotation!==void 0&&m.quaternion.fromArray(r.rotation),r.scale!==void 0&&m.scale.fromArray(r.scale);return s.associations.has(m)||s.associations.set(m,{}),s.associations.get(m).nodes=e,m}),this.nodeCache[e]}loadScene(e){const t=this.extensions,i=this.json.scenes[e],s=this,r=new tc;i.name&&(r.name=s.createUniqueName(i.name)),Zl(r,i),i.extensions&&Vf(t,r,i);const o=i.nodes||[],u=[];for(let h=0,p=o.length;h<p;h++)u.push(s.getDependency("node",o[h]));return Promise.all(u).then(function(h){for(let m=0,y=h.length;m<y;m++)r.add(h[m]);const p=m=>{const y=new Map;for(const[x,_]of s.associations)(x instanceof is||x instanceof oi)&&y.set(x,_);return m.traverse(x=>{const _=s.associations.get(x);_!=null&&y.set(x,_)}),y};return s.associations=p(r),r})}_createAnimationTracks(e,t,i,s,r){const o=[],u=e.name?e.name:e.uuid,h=[];pu[r.path]===pu.weights?e.traverse(function(x){x.morphTargetInfluences&&h.push(x.name?x.name:x.uuid)}):h.push(u);let p;switch(pu[r.path]){case pu.weights:p=fh;break;case pu.rotation:p=hh;break;case pu.position:case pu.scale:p=dh;break;default:switch(i.itemSize){case 1:p=fh;break;case 2:case 3:default:p=dh;break}break}const m=s.interpolation!==void 0?fq[s.interpolation]:dp,y=this._getArrayFromAccessor(i);for(let x=0,_=h.length;x<_;x++){const M=new p(h[x]+"."+pu[r.path],t.array,y,m);s.interpolation==="CUBICSPLINE"&&this._createCubicSplineTrackInterpolant(M),o.push(M)}return o}_getArrayFromAccessor(e){let t=e.array;if(e.normalized){const i=zM(t.constructor),s=new Float32Array(t.length);for(let r=0,o=t.length;r<o;r++)s[r]=t[r]*i;t=s}return t}_createCubicSplineTrackInterpolant(e){e.createInterpolant=function(i){const s=this instanceof hh?uq:UU;return new s(this.times,this.values,this.getValueSize()/3,i)},e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function xq(n,e,t){const i=e.attributes,s=new ws;if(i.POSITION!==void 0){const u=t.json.accessors[i.POSITION],h=u.min,p=u.max;if(h!==void 0&&p!==void 0){if(s.set(new Z(h[0],h[1],h[2]),new Z(p[0],p[1],p[2])),u.normalized){const m=zM(ip[u.componentType]);s.min.multiplyScalar(m),s.max.multiplyScalar(m)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const r=e.targets;if(r!==void 0){const u=new Z,h=new Z;for(let p=0,m=r.length;p<m;p++){const y=r[p];if(y.POSITION!==void 0){const x=t.json.accessors[y.POSITION],_=x.min,M=x.max;if(_!==void 0&&M!==void 0){if(h.setX(Math.max(Math.abs(_[0]),Math.abs(M[0]))),h.setY(Math.max(Math.abs(_[1]),Math.abs(M[1]))),h.setZ(Math.max(Math.abs(_[2]),Math.abs(M[2]))),x.normalized){const C=zM(ip[x.componentType]);h.multiplyScalar(C)}u.max(h)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}s.expandByVector(u)}n.boundingBox=s;const o=new gs;s.getCenter(o.center),o.radius=s.min.distanceTo(s.max)/2,n.boundingSphere=o}function H2(n,e,t){const i=e.attributes,s=[];function r(o,u){return t.getDependency("accessor",o).then(function(h){n.setAttribute(u,h)})}for(const o in i){const u=FM[o]||o.toLowerCase();u in n.attributes||s.push(r(i[o],u))}if(e.indices!==void 0&&!n.index){const o=t.getDependency("accessor",e.indices).then(function(u){n.setIndex(u)});s.push(o)}return Zl(n,e),xq(n,e,t),Promise.all(s).then(function(){return e.targets!==void 0?dq(n,e.targets,t):n})}const US=new WeakMap;class _q extends qs{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,i,s){const r=new ar(this.manager);r.setPath(this.path),r.setResponseType("arraybuffer"),r.setRequestHeader(this.requestHeader),r.setWithCredentials(this.withCredentials),r.load(e,o=>{const u={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(o,u).then(t).catch(s)},i,s)}decodeDracoFile(e,t,i,s){const r={attributeIDs:i||this.defaultAttributeIDs,attributeTypes:s||this.defaultAttributeTypes,useUniqueIDs:!!i};this.decodeGeometry(e,r).then(t)}decodeGeometry(e,t){for(const h in t.attributeTypes){const p=t.attributeTypes[h];p.BYTES_PER_ELEMENT!==void 0&&(t.attributeTypes[h]=p.name)}const i=JSON.stringify(t);if(US.has(e)){const h=US.get(e);if(h.key===i)return h.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let s;const r=this.workerNextTaskID++,o=e.byteLength,u=this._getWorker(r,o).then(h=>(s=h,new Promise((p,m)=>{s._callbacks[r]={resolve:p,reject:m},s.postMessage({type:"decode",id:r,taskConfig:t,buffer:e},[e])}))).then(h=>this._createGeometry(h.geometry));return u.catch(()=>!0).then(()=>{s&&r&&this._releaseTask(s,r)}),US.set(e,{key:i,promise:u}),u}_createGeometry(e){const t=new Kt;e.index&&t.setIndex(new Cn(e.index.array,1));for(let i=0;i<e.attributes.length;i++){const s=e.attributes[i],r=s.name,o=s.array,u=s.itemSize;t.setAttribute(r,new Cn(o,u))}return t}_loadLibrary(e,t){const i=new ar(this.manager);return i.setPath(this.decoderPath),i.setResponseType(t),i.setWithCredentials(this.withCredentials),new Promise((s,r)=>{i.load(e,s,void 0,r)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then(i=>{const s=i[0];e||(this.decoderConfig.wasmBinary=i[1]);const r=Aq.toString(),o=["/* draco decoder */",s,"","/* worker */",r.substring(r.indexOf("{")+1,r.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([o]))}),this.decoderPending}_getWorker(e,t){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const s=new Worker(this.workerSourceURL);s._callbacks={},s._taskCosts={},s._taskLoad=0,s.postMessage({type:"init",decoderConfig:this.decoderConfig}),s.onmessage=function(r){const o=r.data;switch(o.type){case"decode":s._callbacks[o.id].resolve(o);break;case"error":s._callbacks[o.id].reject(o);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+o.type+'"')}},this.workerPool.push(s)}else this.workerPool.sort(function(s,r){return s._taskLoad>r._taskLoad?-1:1});const i=this.workerPool[this.workerPool.length-1];return i._taskCosts[e]=t,i._taskLoad+=t,i})}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function Aq(){let n,e;onmessage=function(o){const u=o.data;switch(u.type){case"init":n=u.decoderConfig,e=new Promise(function(m){n.onModuleLoaded=function(y){m({draco:y})},DracoDecoderModule(n)});break;case"decode":const h=u.buffer,p=u.taskConfig;e.then(m=>{const y=m.draco,x=new y.Decoder,_=new y.DecoderBuffer;_.Init(new Int8Array(h),h.byteLength);try{const M=t(y,x,_,p),C=M.attributes.map(E=>E.array.buffer);M.index&&C.push(M.index.array.buffer),self.postMessage({type:"decode",id:u.id,geometry:M},C)}catch(M){console.error(M),self.postMessage({type:"error",id:u.id,error:M.message})}finally{y.destroy(_),y.destroy(x)}});break}};function t(o,u,h,p){const m=p.attributeIDs,y=p.attributeTypes;let x,_;const M=u.GetEncodedGeometryType(h);if(M===o.TRIANGULAR_MESH)x=new o.Mesh,_=u.DecodeBufferToMesh(h,x);else if(M===o.POINT_CLOUD)x=new o.PointCloud,_=u.DecodeBufferToPointCloud(h,x);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!_.ok()||x.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+_.error_msg());const C={index:null,attributes:[]};for(const E in m){const S=self[y[E]];let w,B;if(p.useUniqueIDs)B=m[E],w=u.GetAttributeByUniqueId(x,B);else{if(B=u.GetAttributeId(x,o[m[E]]),B===-1)continue;w=u.GetAttribute(x,B)}C.attributes.push(s(o,u,x,E,S,w))}return M===o.TRIANGULAR_MESH&&(C.index=i(o,u,x)),o.destroy(x),C}function i(o,u,h){const m=h.num_faces()*3,y=m*4,x=o._malloc(y);u.GetTrianglesUInt32Array(h,y,x);const _=new Uint32Array(o.HEAPF32.buffer,x,m).slice();return o._free(x),{array:_,itemSize:1}}function s(o,u,h,p,m,y){const x=y.num_components(),M=h.num_points()*x,C=M*m.BYTES_PER_ELEMENT,E=r(o,m),S=o._malloc(C);u.GetAttributeDataArrayForAllPoints(h,y,E,C,S);const w=new m(o.HEAPF32.buffer,S,M).slice();return o._free(S),{name:p,array:w,itemSize:x}}function r(o,u){switch(u){case Float32Array:return o.DT_FLOAT32;case Int8Array:return o.DT_INT8;case Int16Array:return o.DT_INT16;case Int32Array:return o.DT_INT32;case Uint8Array:return o.DT_UINT8;case Uint16Array:return o.DT_UINT16;case Uint32Array:return o.DT_UINT32}}}let cx;const LS=()=>{if(cx)return cx;const n="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",e="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",t=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),i=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let s=n;WebAssembly.validate(t)&&(s=e);let r;const o=WebAssembly.instantiate(u(s),{}).then(y=>{r=y.instance,r.exports.__wasm_call_ctors()});function u(y){const x=new Uint8Array(y.length);for(let M=0;M<y.length;++M){const C=y.charCodeAt(M);x[M]=C>96?C-71:C>64?C-65:C>47?C+4:C>46?63:62}let _=0;for(let M=0;M<y.length;++M)x[_++]=x[M]<60?i[x[M]]:(x[M]-60)*64+x[++M];return x.buffer.slice(0,_)}function h(y,x,_,M,C,E){const S=r.exports.sbrk,w=_+3&-4,B=S(w*M),D=S(C.length),P=new Uint8Array(r.exports.memory.buffer);P.set(C,D);const I=y(B,_,M,D,C.length);if(I===0&&E&&E(B,w,M),x.set(P.subarray(B,B+_*M)),S(B-S(0)),I!==0)throw new Error(`Malformed buffer data: ${I}`)}const p={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},m={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return cx={ready:o,supported:!0,decodeVertexBuffer(y,x,_,M,C){h(r.exports.meshopt_decodeVertexBuffer,y,x,_,M,r.exports[p[C]])},decodeIndexBuffer(y,x,_,M){h(r.exports.meshopt_decodeIndexBuffer,y,x,_,M)},decodeIndexSequence(y,x,_,M){h(r.exports.meshopt_decodeIndexSequence,y,x,_,M)},decodeGltfBuffer(y,x,_,M,C,E){h(r.exports[m[C]],y,x,_,M,r.exports[p[E]])}},cx};let ux=null,LU="https://www.gstatic.com/draco/versioned/decoders/1.5.5/";function OU(n=!0,e=!0,t){return i=>{t&&t(i),n&&(ux||(ux=new _q),ux.setDecoderPath(typeof n=="string"?n:LU),i.setDRACOLoader(ux)),e&&i.setMeshoptDecoder(typeof LS=="function"?LS():LS)}}const U0=(n,e,t,i)=>D0(SE,n,OU(e,t,i));U0.preload=(n,e,t,i)=>D0.preload(SE,n,OU(e,t,i));U0.clear=n=>D0.clear(SE,n);U0.setDecoderPath=n=>{LU=n};function bq(n,e){const t=Q.useRef(null),[i]=Q.useState(()=>e?e instanceof gn?{current:e}:e:t),[s]=Q.useState(()=>new KN(void 0));Q.useLayoutEffect(()=>{e&&(i.current=e instanceof gn?e:e.current),s._root=i.current});const r=Q.useRef({}),o=Q.useMemo(()=>{const u={};return n.forEach(h=>Object.defineProperty(u,h.name,{enumerable:!0,get(){if(i.current)return r.current[h.name]||(r.current[h.name]=s.clipAction(h,i.current))},configurable:!0})),{ref:i,clips:n,actions:u,names:n.map(h=>h.name),mixer:s}},[n]);return B0((u,h)=>s.update(h)),Q.useEffect(()=>{const u=i.current;return()=>{r.current={},s.stopAllAction(),Object.values(o.actions).forEach(h=>{u&&s.uncacheAction(h,u)})}},[n]),o}const Sq=Q.forwardRef(({children:n,enabled:e=!0,speed:t=1,rotationIntensity:i=1,floatIntensity:s=1,floatingRange:r=[-.1,.1],autoInvalidate:o=!1,...u},h)=>{const p=Q.useRef(null);Q.useImperativeHandle(h,()=>p.current,[]);const m=Q.useRef(Math.random()*1e4);return B0(y=>{var x,_;if(!e||t===0)return;o&&y.invalidate();const M=m.current+y.clock.elapsedTime;p.current.rotation.x=Math.cos(M/4*t)/8*i,p.current.rotation.y=Math.sin(M/4*t)/8*i,p.current.rotation.z=Math.sin(M/4*t)/20*i;let C=Math.sin(M/4*t)/10;C=z1.mapLinear(C,-.1,.1,(x=r==null?void 0:r[0])!==null&&x!==void 0?x:-.1,(_=r==null?void 0:r[1])!==null&&_!==void 0?_:.1),p.current.position.y=C*s,p.current.updateMatrix()}),Q.createElement("group",u,Q.createElement("group",{ref:p,matrixAutoUpdate:!1},n))});function Mq(n){const e=Q.useRef(),{nodes:t,materials:i,animations:s}=U0("/models/tenhun_falling_spaceman_fanart.glb"),{actions:r}=bq(s,e);Q.useEffect(()=>{var h;s.length>0&&((h=r[s[0].name])==null||h.play())},[r,s]);const o=L_(5),u=E1(o,{damping:30});return Q.useEffect(()=>{u.set(-1)},[u]),B0(()=>{e.current.position.y=u.get()}),J.jsx("group",{ref:e,...n,dispose:null,rotation:[-Math.PI/2,-.2,2.2],scale:n.scale||.25,position:n.position||[2,-1,0],children:J.jsx("group",{name:"Sketchfab_Scene",children:J.jsx("group",{name:"Sketchfab_model",children:J.jsx("group",{name:"Root",children:J.jsxs("group",{name:"metarig",children:[J.jsx("primitive",{object:t.metarig_rootJoint}),J.jsx("skinnedMesh",{name:"Cube001_0",geometry:t.Cube001_0.geometry,material:i["AstronautFallingTexture.png"],skeleton:t.Cube001_0.skeleton}),J.jsx("skinnedMesh",{name:"Cube005_0",geometry:t.Cube005_0.geometry,material:i["AstronautFallingTexture.png"],skeleton:t.Cube005_0.skeleton}),J.jsx("skinnedMesh",{name:"Cube002_0",geometry:t.Cube002_0.geometry,material:i["AstronautFallingTexture.png"],skeleton:t.Cube002_0.skeleton}),J.jsx("skinnedMesh",{name:"Plane_0",geometry:t.Plane_0.geometry,material:i["AstronautFallingTexture.png"],skeleton:t.Plane_0.skeleton}),J.jsx("skinnedMesh",{name:"Cube008_0",geometry:t.Cube008_0.geometry,material:i["AstronautFallingTexture.png"],skeleton:t.Cube008_0.skeleton}),J.jsx("skinnedMesh",{name:"Cube004_0",geometry:t.Cube004_0.geometry,material:i["AstronautFallingTexture.png"],skeleton:t.Cube004_0.skeleton}),J.jsx("skinnedMesh",{name:"Cube003_0",geometry:t.Cube003_0.geometry,material:i["AstronautFallingTexture.png"],skeleton:t.Cube003_0.skeleton}),J.jsx("skinnedMesh",{name:"Cube_0",geometry:t.Cube_0.geometry,material:i["AstronautFallingTexture.png"],skeleton:t.Cube_0.skeleton}),J.jsx("skinnedMesh",{name:"Cube009_0",geometry:t.Cube009_0.geometry,material:i["AstronautFallingTexture.png"],skeleton:t.Cube009_0.skeleton}),J.jsx("skinnedMesh",{name:"Cube011_0",geometry:t.Cube011_0.geometry,material:i["AstronautFallingTexture.png"],skeleton:t.Cube011_0.skeleton}),J.jsx("group",{name:"Cube001"}),J.jsx("group",{name:"Cube005"}),J.jsx("group",{name:"Cube002"}),J.jsx("group",{name:"Plane"}),J.jsx("group",{name:"Cube008"}),J.jsx("group",{name:"Cube004"}),J.jsx("group",{name:"Cube003"}),J.jsx("group",{name:"Cube"}),J.jsx("group",{name:"Cube009",rotation:[-2.708,.013,-1.447],scale:1.307}),J.jsx("group",{name:"Cube011"})]})})})})})}U0.preload("/models/tenhun_falling_spaceman_fanart.glb");var fx={},G2;function Eq(){if(G2)return fx;G2=1,fx.match=r,fx.parse=o;var n=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,e=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,t=/^(?:(min|max)-)?(.+)/,i=/(em|rem|px|cm|mm|in|pt|pc)?$/,s=/(dpi|dpcm|dppx)?$/;function r(m,y){return o(m).some(function(x){var _=x.inverse,M=x.type==="all"||y.type===x.type;if(M&&_||!(M||_))return!1;var C=x.expressions.every(function(E){var S=E.feature,w=E.modifier,B=E.value,D=y[S];if(!D)return!1;switch(S){case"orientation":case"scan":return D.toLowerCase()===B.toLowerCase();case"width":case"height":case"device-width":case"device-height":B=p(B),D=p(D);break;case"resolution":B=h(B),D=h(D);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":B=u(B),D=u(D);break;case"grid":case"color":case"color-index":case"monochrome":B=parseInt(B,10)||1,D=parseInt(D,10)||0;break}switch(w){case"min":return D>=B;case"max":return D<=B;default:return D===B}});return C&&!_||!C&&_})}function o(m){return m.split(",").map(function(y){y=y.trim();var x=y.match(n),_=x[1],M=x[2],C=x[3]||"",E={};return E.inverse=!!_&&_.toLowerCase()==="not",E.type=M?M.toLowerCase():"all",C=C.match(/\([^\)]+\)/g)||[],E.expressions=C.map(function(S){var w=S.match(e),B=w[1].toLowerCase().match(t);return{modifier:B[1],feature:B[2],value:w[2]}}),E})}function u(m){var y=Number(m),x;return y||(x=m.match(/^(\d+)\s*\/\s*(\d+)$/),y=x[1]/x[2]),y}function h(m){var y=parseFloat(m),x=String(m).match(s)[1];switch(x){case"dpcm":return y/2.54;case"dppx":return y*96;default:return y}}function p(m){var y=parseFloat(m),x=String(m).match(i)[1];switch(x){case"em":return y*16;case"rem":return y*16;case"cm":return y*96/2.54;case"mm":return y*96/2.54/10;case"in":return y*96;case"pt":return y*72;case"pc":return y*72/12;default:return y}}return fx}var OS,V2;function Tq(){if(V2)return OS;V2=1;var n=Eq().match,e=typeof window<"u"?window.matchMedia:null;function t(s,r,o){var u=this,h;e&&!o&&(h=e.call(window,s)),h?(this.matches=h.matches,this.media=h.media,h.addListener(y)):(this.matches=n(s,r),this.media=s),this.addListener=p,this.removeListener=m,this.dispose=x;function p(_){h&&h.addListener(_)}function m(_){h&&h.removeListener(_)}function y(_){u.matches=_.matches,u.media=_.media}function x(){h&&h.removeListener(y)}}function i(s,r,o){return new t(s,r,o)}return OS=i,OS}var Cq=Tq();const Rq=c0(Cq);var wq=/[A-Z]/g,Bq=/^ms-/,PS={};function Dq(n){return"-"+n.toLowerCase()}function PU(n){if(PS.hasOwnProperty(n))return PS[n];var e=n.replace(wq,Dq);return PS[n]=Bq.test(e)?"-"+e:e}function Nq(n,e){if(n===e)return!0;if(!n||!e)return!1;const t=Object.keys(n),i=Object.keys(e),s=t.length;if(i.length!==s)return!1;for(let r=0;r<s;r++){const o=t[r];if(n[o]!==e[o]||!Object.prototype.hasOwnProperty.call(e,o))return!1}return!0}var IS={exports:{}},FS,k2;function Uq(){if(k2)return FS;k2=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return FS=n,FS}var zS,X2;function Lq(){if(X2)return zS;X2=1;var n=Uq();function e(){}function t(){}return t.resetWarningCache=e,zS=function(){function i(o,u,h,p,m,y){if(y!==n){var x=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw x.name="Invariant Violation",x}}i.isRequired=i;function s(){return i}var r={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:s,element:i,elementType:i,instanceOf:s,node:i,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:t,resetWarningCache:e};return r.PropTypes=r,r},zS}var j2;function Oq(){return j2||(j2=1,IS.exports=Lq()()),IS.exports}var Pq=Oq();const Un=c0(Pq),fa=Un.oneOfType([Un.string,Un.number]),IU={all:Un.bool,grid:Un.bool,aural:Un.bool,braille:Un.bool,handheld:Un.bool,print:Un.bool,projection:Un.bool,screen:Un.bool,tty:Un.bool,tv:Un.bool,embossed:Un.bool},Iq={orientation:Un.oneOf(["portrait","landscape"]),scan:Un.oneOf(["progressive","interlace"]),aspectRatio:Un.string,deviceAspectRatio:Un.string,height:fa,deviceHeight:fa,width:fa,deviceWidth:fa,color:Un.bool,colorIndex:Un.bool,monochrome:Un.bool,resolution:fa,type:Object.keys(IU)},{type:HW,...Fq}=Iq,zq={minAspectRatio:Un.string,maxAspectRatio:Un.string,minDeviceAspectRatio:Un.string,maxDeviceAspectRatio:Un.string,minHeight:fa,maxHeight:fa,minDeviceHeight:fa,maxDeviceHeight:fa,minWidth:fa,maxWidth:fa,minDeviceWidth:fa,maxDeviceWidth:fa,minColor:Un.number,maxColor:Un.number,minColorIndex:Un.number,maxColorIndex:Un.number,minMonochrome:Un.number,maxMonochrome:Un.number,minResolution:fa,maxResolution:fa,...Fq},Hq={...IU,...zq};var Gq={all:Hq};const Vq=n=>`not ${n}`,kq=(n,e)=>{const t=PU(n);return typeof e=="number"&&(e=`${e}px`),e===!0?t:e===!1?Vq(t):`(${t}: ${e})`},Xq=n=>n.join(" and "),jq=n=>{const e=[];return Object.keys(Gq.all).forEach(t=>{const i=n[t];i!=null&&e.push(kq(t,i))}),Xq(e)},Yq=Q.createContext(void 0),qq=n=>n.query||jq(n),Y2=n=>n?Object.keys(n).reduce((t,i)=>(t[PU(i)]=n[i],t),{}):void 0,FU=()=>{const n=Q.useRef(!1);return Q.useEffect(()=>{n.current=!0},[]),n.current},Wq=n=>{const e=Q.useContext(Yq),t=()=>Y2(n)||Y2(e),[i,s]=Q.useState(t);return Q.useEffect(()=>{const r=t();Nq(i,r)||s(r)},[n,e]),i},Jq=n=>{const e=()=>qq(n),[t,i]=Q.useState(e);return Q.useEffect(()=>{const s=e();t!==s&&i(s)},[n]),t},Kq=(n,e)=>{const t=()=>Rq(n,e||{},!!e),[i,s]=Q.useState(t),r=FU();return Q.useEffect(()=>{if(r){const o=t();return s(o),()=>{o&&o.dispose()}}},[n,e]),i},Qq=n=>{const[e,t]=Q.useState(n.matches);return Q.useEffect(()=>{const i=s=>{t(s.matches)};return n.addListener(i),t(n.matches),()=>{n.removeListener(i)}},[n]),e},Zq=(n,e,t)=>{const i=Wq(e),s=Jq(n);if(!s)throw new Error("Invalid or missing MediaQuery!");const r=Kq(s,i),o=Qq(r);return FU(),Q.useEffect(()=>{},[o]),Q.useEffect(()=>()=>{r&&r.dispose()},[]),o},$q=()=>{const{progress:n}=oY();return J.jsxs(iY,{center:!0,className:"text-xl font-normal text-center",children:[n,"% Loaded"]})},eW=()=>{const n=Zq({maxWidth:853});return J.jsxs("section",{className:`flex items-start\r
        justify-center md:items-start\r
        md:justify-start min-h-screen \r
        overflow-hidden c-space`,id:"home",children:[J.jsx(xG,{}),J.jsx(_G,{}),J.jsx("figure",{className:"absolute inset-0",style:{width:"100vw",height:"100vh"},children:J.jsx(qj,{camera:{position:[0,1,3]},children:J.jsxs(Q.Suspense,{fallback:J.jsx($q,{}),children:[J.jsx(Sq,{children:J.jsx(Mq,{scale:n&&.25,position:n&&[0,-1.5,0]})}),J.jsx(tW,{})]})})})]})};function tW(){return B0((n,e)=>{IY.damp3(n.camera.position,[n.mouse.x/10,1+n.mouse.y/10,3],.5,e)})}var q2=["x","y","z"],Ql=function(n){Object.assign(this,{uniforms:{},geometry:{vertices:[{x:0,y:0,z:0}]},mode:0,modifiers:{},attributes:[],multiplier:1,buffers:[]}),Object.assign(this,n),this.prepareProgram(),this.prepareUniforms(),this.prepareAttributes()};Ql.prototype.compileShader=function(n,e){var t=this.gl.createShader(n);return this.gl.shaderSource(t,e),this.gl.compileShader(t),t},Ql.prototype.prepareProgram=function(){var n=this.gl,e=this.vertex,t=this.fragment,i=n.createProgram();n.attachShader(i,this.compileShader(35633,e)),n.attachShader(i,this.compileShader(35632,t)),n.linkProgram(i),n.useProgram(i),this.program=i},Ql.prototype.prepareUniforms=function(){for(var n=Object.keys(this.uniforms),e=0;e<n.length;e+=1){var t=this.gl.getUniformLocation(this.program,n[e]);this.uniforms[n[e]].location=t}},Ql.prototype.prepareAttributes=function(){this.geometry.vertices!==void 0&&this.attributes.push({name:"aPosition",size:3}),this.geometry.normal!==void 0&&this.attributes.push({name:"aNormal",size:3}),this.attributeKeys=[];for(var n=0;n<this.attributes.length;n+=1)this.attributeKeys.push(this.attributes[n].name),this.prepareAttribute(this.attributes[n])},Ql.prototype.prepareAttribute=function(n){for(var e=this.geometry,t=this.multiplier,i=e.vertices,s=e.normal,r=new Float32Array(t*i.length*n.size),o=0;o<t;o+=1)for(var u=n.data&&n.data(o,t),h=o*i.length*n.size,p=0;p<i.length;p+=1)for(var m=0;m<n.size;m+=1){var y=this.modifiers[n.name];r[h]=y!==void 0?y(u,p,m,this):n.name==="aPosition"?i[p][q2[m]]:n.name==="aNormal"?s[p][q2[m]]:u[m],h+=1}this.attributes[this.attributeKeys.indexOf(n.name)].data=r,this.prepareBuffer(this.attributes[this.attributeKeys.indexOf(n.name)])},Ql.prototype.prepareBuffer=function(n){var e=n.data,t=n.name,i=n.size,s=this.gl.createBuffer();this.gl.bindBuffer(34962,s),this.gl.bufferData(34962,e,35044);var r=this.gl.getAttribLocation(this.program,t);this.gl.enableVertexAttribArray(r),this.gl.vertexAttribPointer(r,i,5126,!1,0,0),this.buffers[this.attributeKeys.indexOf(n.name)]={buffer:s,location:r,size:i}},Ql.prototype.render=function(n){var e=this,t=this.uniforms,i=this.multiplier,s=this.gl;s.useProgram(this.program);for(var r=0;r<this.buffers.length;r+=1){var o=this.buffers[r],u=o.location,h=o.buffer,p=o.size;s.enableVertexAttribArray(u),s.bindBuffer(34962,h),s.vertexAttribPointer(u,p,5126,!1,0,0)}Object.keys(n).forEach(function(m){t[m].value=n[m].value}),Object.keys(t).forEach(function(m){var y=t[m];e.uniformMap[y.type](y.location,y.value)}),s.drawArrays(this.mode,0,i*this.geometry.vertices.length),this.onRender&&this.onRender(this)},Ql.prototype.destroy=function(){for(var n=0;n<this.buffers.length;n+=1)this.gl.deleteBuffer(this.buffers[n].buffer);this.gl.deleteProgram(this.program),this.gl=null};var Yf=function(n){var e=this,t=n||{},i=t.canvas;i===void 0&&(i=document.querySelector("canvas"));var s=t.context;s===void 0&&(s={});var r=t.contextType;r===void 0&&(r="experimental-webgl");var o=t.settings;o===void 0&&(o={});var u=i.getContext(r,Object.assign({alpha:!1,antialias:!1},s));Object.assign(this,{gl:u,canvas:i,uniforms:{},instances:new Map,shouldRender:!0}),Object.assign(this,{devicePixelRatio:1,clearColor:[1,1,1,1],position:{x:0,y:0,z:2},clip:[.001,100]}),Object.assign(this,o),this.uniformMap={float:function(h,p){return u.uniform1f(h,p)},vec2:function(h,p){return u.uniform2fv(h,p)},vec3:function(h,p){return u.uniform3fv(h,p)},vec4:function(h,p){return u.uniform4fv(h,p)},mat2:function(h,p){return u.uniformMatrix2fv(h,!1,p)},mat3:function(h,p){return u.uniformMatrix3fv(h,!1,p)},mat4:function(h,p){return u.uniformMatrix4fv(h,!1,p)}},u.enable(u.DEPTH_TEST),u.depthFunc(u.LEQUAL),u.getContextAttributes().alpha===!1&&(u.clearColor.apply(u,this.clearColor),u.clearDepth(1)),this.onSetup&&this.onSetup(u),window.addEventListener("resize",function(){return e.resize()}),this.resize(),this.render()};Yf.prototype.resize=function(){var n=this.gl,e=this.canvas,t=this.devicePixelRatio,i=this.position;e.width=e.clientWidth*t,e.height=e.clientHeight*t;var s=n.drawingBufferWidth,r=n.drawingBufferHeight,o=s/r;n.viewport(0,0,s,r);var u=Math.tan(Math.PI/180*22.5),h=[1,0,0,0,0,1,0,0,0,0,1,0,i.x,i.y,(o<1?1:o)*-i.z,1];this.uniforms.uProjectionMatrix={type:"mat4",value:[.5/u,0,0,0,0,o/u*.5,0,0,0,0,-(this.clip[1]+this.clip[0])/(this.clip[1]-this.clip[0]),-1,0,0,-2*this.clip[1]*(this.clip[0]/(this.clip[1]-this.clip[0])),0]},this.uniforms.uViewMatrix={type:"mat4",value:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},this.uniforms.uModelMatrix={type:"mat4",value:h}},Yf.prototype.toggle=function(n){n!==this.shouldRender&&(this.shouldRender=n!==void 0?n:!this.shouldRender,this.shouldRender&&this.render())},Yf.prototype.render=function(){var n=this;this.gl.clear(16640),this.instances.forEach(function(e){e.render(n.uniforms)}),this.onRender&&this.onRender(this),this.shouldRender&&requestAnimationFrame(function(){return n.render()})},Yf.prototype.add=function(n,e){e===void 0&&(e={uniforms:{}}),e.uniforms===void 0&&(e.uniforms={}),Object.assign(e.uniforms,JSON.parse(JSON.stringify(this.uniforms))),Object.assign(e,{gl:this.gl,uniformMap:this.uniformMap});var t=new Ql(e);return this.instances.set(n,t),t},Yf.prototype.remove=function(n){var e=this.instances.get(n);e!==void 0&&(e.destroy(),this.instances.delete(n))},Yf.prototype.destroy=function(){var n=this;this.instances.forEach(function(e,t){e.destroy(),n.instances.delete(t)}),this.toggle(!1)};var zU="phi",HU="theta",GU="mapSamples",VU="mapBrightness",kU="baseColor",XU="markerColor",jU="glowColor",bg="markers",YU="diffuse",W2="devicePixelRatio",qU="dark",WU="offset",JU="scale",KU="opacity",QU="mapBaseBrightness",J2={[zU]:"A",[HU]:"B",[GU]:"m",[VU]:"E",[kU]:"R",[XU]:"S",[jU]:"z",[YU]:"F",[qU]:"G",[WU]:"y",[JU]:"C",[KU]:"H",[QU]:"I"},{PI:HS,sin:K2,cos:Q2}=Math,Z2=n=>[].concat(...n.map(e=>{let[t,i]=e.location;t=t*HS/180,i=i*HS/180-HS;let s=Q2(t),r=[-s*Q2(i),K2(t),s*K2(i),e.size],o=e.color?[...e.color,1]:[0,0,0,0];return[...r,...o]}),[0,0,0,0,0,0,0,0]),nW=(n,e)=>{let t=(r,o,u)=>({type:r,value:typeof e[o]>"u"?u:e[o]}),i=n.getContext("webgl2")?"webgl2":n.getContext("webgl")?"webgl":"experimental-webgl",s=new Yf({canvas:n,contextType:i,context:{alpha:!0,stencil:!1,antialias:!0,depth:!1,preserveDrawingBuffer:!1,...e.context},settings:{[W2]:e[W2]||1,onSetup:r=>{let o=r.RGB,u=r.UNSIGNED_BYTE,h=r.TEXTURE_2D,p=r.createTexture();r.bindTexture(h,p),r.texImage2D(h,0,o,1,1,0,o,u,new Uint8Array([0,0,0,0]));let m=new Image;m.onload=()=>{r.bindTexture(h,p),r.texImage2D(h,0,o,o,u,m),r.generateMipmap(h);let y=r.getParameter(r.CURRENT_PROGRAM),x=r.getUniformLocation(y,"J");r.texParameteri(h,r.TEXTURE_MIN_FILTER,r.NEAREST),r.texParameteri(h,r.TEXTURE_MAG_FILTER,r.NEAREST),r.uniform1i(x,0)},m.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAACAAQAAAADMzoqnAAAAAXNSR0IArs4c6QAABA5JREFUeNrV179uHEUAx/Hf3JpbF+E2VASBsmVKTBcpKJs3SMEDcDwBiVJAAewYEBUivIHT0uUBIt0YCovKD0CRjUC4QfHYh8hYXu+P25vZ2Zm9c66gMd/GJ/tz82d3bk8GN4SrByYF2366FNTACIAkivVAAazQdnf3MvAlbNUQfOPAdQDvSAimMWhwy4I2g4SU+Kp04ISLpPBAKLxPyic3O/CCi+Y7rUJbiodcpDOFY7CgxCEXmdYD2EYK2s5lApOx5pEDDYCUwM1XdJUwBV11QQMg59kePSCaPAASQMEL2hwo6TJFgxpg+TgC2ymXPbuvc40awr3D1QCFfbH9kcoqAOkZozpQo0aqAGQRKCog/+tjkgbNFEtg2FffBvBGlSxHoAaAa1u6X4PBAwDiR8FFsrQgeUhfJTSALaB9jy5NCybJPn1SVFiWk7ywN+KzhH1aKAuydhGkbEF4lWohLXDXavlyFgHY7LBnLRdlAP6BS5Cc8RfVDXbkwN/oIvmY+6obbNeBP0JwTuMGu9gTzy1Q4RS/cWpfzszeYwd+CAFrtBW/Hur0gLbJGlD+/OjVwe/drfBxkbbg63dndEDfiEBlAd7ac0BPe1D6Jd8dfbLH+RI0OzseFB5s01/M+gMdAeluLOCAuaUA9Lezo/vSgXoCX9rtEiXnp7Q1W/CNyWcd8DXoS6jH/YZ5vAJEWY2dXFQe2TUgaFaNejCzJ98g6HnlVrsE58sDcYqg+9XY75fPqdoh/kRQWiXKg8MWlJQxUFMPjqnyujhFBE7UxIMjyszk0QwQlFsezImsyvUYYYVED2pk6m0Tg8T04Fwjk2kdAwSACqlM6gRRt3vQYAFGX0Ah7Ebx1H+MDRI5ui0QldH4j7FGcm90XdxD2Jg1AOEAVAKhEFXSn4cKUELurIAKwJ3MArypPscQaLhJFICJ0ohjDySAdH8AhDtCiTuMycH8CXzhH9jUACAO5uMhoAwA5i+T6WAKmmAqnLy80wxHqIPFYpqCwxGaYLt4Dyievg5kEoVEUAhs6pqKgFtDQYOuaXypaWKQfIuwwoGSZgfLsu/XAtI8cGN+h7Cc1A5oLOMhwlIPXuhu48AIvsSBkvtV9wsJRKCyYLfq5lTrQMFd1a262oqBck9K1V0YjQg0iEYYgpS1A9GlXQV5cykwm4A7BzVsxQqo7E+zCegO7Ma7yKgsuOcfKbMBwLC8wvVNYDsANYalEpOAa6zpWjTeMKGwEwC1CiQewJc5EKfgy7GmRAZA4vUVGwE2dPM/g0xuAInE/yG5aZ8ISxWGfYigUVbdyBElTHh2uCwGdfCkOLGgQVBh3Ewp+/QK4CDlR5Ws/Zf7yhCf8pH7vinWAvoVCQ6zz0NX5V/6GkAVV+2/5qsJ/gU8bsxpM8IeAQAAAABJRU5ErkJggg=="}}});return s.add("",{vertex:"attribute vec3 aPosition;uniform mat4 uProjectionMatrix;uniform mat4 uModelMatrix;uniform mat4 uViewMatrix;void main(){gl_Position=uProjectionMatrix*uModelMatrix*uViewMatrix*vec4(aPosition,1.);}",fragment:"precision highp float;uniform vec2 t,y;uniform vec3 R,S,z;uniform vec4 v[64*2];uniform float A,B,m,C,D,E,F,G,H,I;uniform sampler2D J;float K=1./m;mat3 L(float a,float b){float c=cos(a),d=cos(b),e=sin(a),f=sin(b);return mat3(d,f*e,-f*c,0.,c,e,f,d*-e,d*c);}vec3 w(vec3 c,out float x){c=c.xzy;float p=max(2.,floor(log2(2.236068*m*3.141593*(1.-c.z*c.z))*.72021));vec2 g=floor(pow(1.618034,p)/2.236068*vec2(1.,1.618034)+.5),d=fract((g+1.)*.618034)*6.283185-3.883222,e=-2.*g,f=vec2(atan(c.y,c.x),c.z-1.),q=floor(vec2(e.y*f.x-d.y*(f.y*m+1.),-e.x*f.x+d.x*(f.y*m+1.))/(d.x*e.y-e.x*d.y));float n=3.141593;vec3 r;for(float h=0.;h<4.;h+=1.){vec2 s=vec2(mod(h,2.),floor(h*.5));float j=dot(g,q+s);if(j>m)continue;float a=j,b=0.;if(a>=524288.)a-=524288.,b+=.803894;if(a>=262144.)a-=262144.,b+=.901947;if(a>=131072.)a-=131072.,b+=.950973;if(a>=65536.)a-=65536.,b+=.475487;if(a>=32768.)a-=32768.,b+=.737743;if(a>=16384.)a-=16384.,b+=.868872;if(a>=8192.)a-=8192.,b+=.934436;if(a>=4096.)a-=4096.,b+=.467218;if(a>=2048.)a-=2048.,b+=.733609;if(a>=1024.)a-=1024.,b+=.866804;if(a>=512.)a-=512.,b+=.433402;if(a>=256.)a-=256.,b+=.216701;if(a>=128.)a-=128.,b+=.108351;if(a>=64.)a-=64.,b+=.554175;if(a>=32.)a-=32.,b+=.777088;if(a>=16.)a-=16.,b+=.888544;if(a>=8.)a-=8.,b+=.944272;if(a>=4.)a-=4.,b+=.472136;if(a>=2.)a-=2.,b+=.236068;if(a>=1.)a-=1.,b+=.618034;float k=fract(b)*6.283185,i=1.-2.*j*K,l=sqrt(1.-i*i);vec3 o=vec3(cos(k)*l,sin(k)*l,i);float u=length(c-o);if(u<n)n=u,r=o;}x=n;return r.xzy;}void main(){vec2 b=(gl_FragCoord.xy/t*2.-1.)/C-y*vec2(1.,-1.)/t;b.x*=t.x/t.y;float c=dot(b,b);vec4 x=vec4(0.);float n=0.;if(c<=.64){for(int g=0;g<2;g++){vec4 e=vec4(0.);float a;vec3 u=vec3(0.,0.,1.),h=normalize(vec3(b,sqrt(.64-c)));h.z*=g>0?-1.:1.,u.z*=g>0?-1.:1.;vec3 i=h*L(B,A),j=w(i,a);float o=asin(j.y),k=acos(-j.x/cos(o));k=j.z<0.?-k:k;float M=max(texture2D(J,vec2(k*.5/3.141593,-(o/3.141593+.5))).x,I),N=smoothstep(8e-3,0.,a),l=dot(h,u),p=pow(l,F)*E,q=M*N*p,T=mix((1.-q)*pow(l,.4),q,G)+.1;e+=vec4(R*T,1.);int U=int(D);float V=0.;for(int d=0;d<64;d++){if(d>=U)break;vec4 r=v[d*2],O=v[d*2+1];vec3 s=r.xyz,P=s-i;float f=r.w;if(dot(P,P)>f*f*4.)continue;vec3 W=w(s,a);a=length(W-i);if(a<f)V+=smoothstep(f*.5,0.,a),e.xyz=O.w>.5?mix(e.xyz,O.xyz,smoothstep(f*.5,0.,a)*p):mix(e.xyz,S,smoothstep(f*.5,0.,a)*p);}e.xyz+=pow(1.-l,4.)*z,x+=e*(1.+(g>0?-H:H))/2.;}n=pow(dot(normalize(vec3(-b,sqrt(1.-c))),vec3(0.,0.,1.)),4.)*smoothstep(0.,1.,.2/(c-.64));}else{float Q=sqrt(.2/(c-.64));n=smoothstep(.5,1.,Q/(Q+1.));}gl_FragColor=x+vec4(n*z,n);}",uniforms:{t:{type:"vec2",value:[e.width,e.height]},A:t("float",zU),B:t("float",HU),m:t("float",GU),E:t("float",VU),I:t("float",QU),R:t("vec3",kU),S:t("vec3",XU),F:t("float",YU),z:t("vec3",jU),G:t("float",qU),v:{type:"vec4",value:Z2(e[bg])},D:{type:"float",value:e[bg].length},y:t("vec2",WU,[0,0]),C:t("float",JU,1),H:t("float",KU,1)},mode:4,geometry:{vertices:[{x:-100,y:100,z:0},{x:-100,y:-100,z:0},{x:100,y:100,z:0},{x:100,y:-100,z:0},{x:-100,y:-100,z:0},{x:100,y:100,z:0}]},onRender:({uniforms:r})=>{let o={};if(e.onRender){o=e.onRender(o)||o;for(let u in J2)o[u]!==void 0&&(r[J2[u]].value=o[u]);o[bg]!==void 0&&(r.v.value=Z2(o[bg]),r.D.value=o[bg].length),o.width&&o.height&&(r.t.value=[o.width,o.height])}}}),s};const iW=1400,sW={width:800,height:800,onRender:()=>{},devicePixelRatio:2,phi:0,theta:.3,dark:1,diffuse:.4,mapSamples:2e3,mapBrightness:1.2,baseColor:[1,1,1],markerColor:[1,1,1],glowColor:[1,1,1],markers:[{location:[14.5995,120.9842],size:.03},{location:[19.076,72.8777],size:.1},{location:[23.8103,90.4125],size:.05},{location:[30.0444,31.2357],size:.07},{location:[39.9042,116.4074],size:.08},{location:[-23.5505,-46.6333],size:.1},{location:[19.4326,-99.1332],size:.1},{location:[40.7128,-74.006],size:.1},{location:[34.6937,135.5022],size:.05},{location:[41.0082,28.9784],size:.06}]};function aW({className:n,config:e=sW}){let t=0,i=0;const s=Q.useRef(null),r=Q.useRef(null),o=Q.useRef(0),u=L_(0),h=E1(u,{mass:1,damping:30,stiffness:100}),p=y=>{r.current=y,s.current&&(s.current.style.cursor=y!==null?"grabbing":"grab")},m=y=>{if(r.current!==null){const x=y-r.current;o.current=x,u.set(u.get()+x/iW)}};return Q.useEffect(()=>{const y=()=>{s.current&&(i=s.current.offsetWidth)};window.addEventListener("resize",y),y();const x=nW(s.current,{...e,width:i*1.5,height:i*1.5,onRender:_=>{r.current||(t+=.005),_.phi=t+h.get(),_.width=i*2,_.height=i*2}});return setTimeout(()=>s.current.style.opacity="1",0),()=>{x.destroy(),window.removeEventListener("resize",y)}},[h,e]),J.jsx("div",{className:Nx("mx-auto aspect-[1/1] w-full max-w-[600px]",n),children:J.jsx("canvas",{className:Nx("size-[30rem] opacity-0 transition-opacity duration-500 [contain:layout_paint_size]"),ref:s,onPointerDown:y=>{r.current=y.clientX,p(y.clientX)},onPointerUp:()=>p(null),onPointerOut:()=>p(null),onMouseMove:y=>m(y.clientX),onTouchMove:y=>y.touches[0]&&m(y.touches[0].clientX)})})}const rW=()=>{const[n,e]=Q.useState(!1),t="satyamkhanna66@gmail.com",i=()=>{navigator.clipboard.writeText(t),e(!0),setTimeout(()=>{e(!1)},2e3)};return J.jsx("button",{className:`relative px-2 py-3 text-sm text-center 
            rounded-full font-extralight w-[12rem] cursor-pointer
            overflow-hidden transition-colors duration-300
            ${n?"bg-green-500":"bg-primary"}`,onClick:i,children:J.jsxs("p",{className:"flex items-center justify-center gap-2",children:[J.jsx("img",{src:"assets/copy.svg",className:"w-5",alt:"copy"}),n?"Copied!":"Get My Email"]})})};function $2({className:n,children:e,reverse:t,duration:i=20,radius:s=160,path:r=!0,iconSize:o=30,speed:u=1,...h}){const p=i/u;return J.jsxs(J.Fragment,{children:[r&&J.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",className:"absolute inset-0 pointer-events-none size-full",children:J.jsx("circle",{className:"stroke-1 stroke-white/10",cx:"50%",cy:"50%",r:s,fill:"none"})}),sp.Children.map(e,(m,y)=>{const x=360/sp.Children.count(e)*y;return J.jsx("div",{style:{"--duration":p,"--radius":s,"--angle":x,"--icon-size":`${o}px`},className:Nx(`absolute flex size-[var(--icon-size)] transform-gpu animate-orbit items-center justify-center rounded-full ${t?"[animation-direction:reverse]":""}`,n),...h,children:m})})]})}function oW(){const n=["altium","android","arduino","cplusplus","cubemx","debian","embeddedc","espressif","git","kicad","linux","platformio","python","raspberrypi"];return J.jsxs("div",{className:`relative flex h-[15rem] w-full \r
        flex-col items-center justify-center`,children:[J.jsx($2,{iconSize:40,children:n.map((e,t)=>J.jsx(eB,{src:`assets/logos/${e}.svg`},t))}),J.jsx($2,{iconSize:25,radius:100,reverse:!0,speed:2,children:n.reverse().map((e,t)=>J.jsx(eB,{src:`assets/logos/${e}.svg`},t))})]})}const eB=({src:n})=>J.jsx("img",{src:n,className:"duration-200 rounded-sm","hover:scale-110":!0}),lW=()=>J.jsxs("section",{className:"c-space section-spacing",id:"about",children:[J.jsx("h2",{className:"text-heading",children:" ⚡ Under the Hood — In a Flash! "}),J.jsxs("div",{className:`grid grid-cols-1 gap-4 md:grid-cols-6\r
    md:auto-rows-[18rem] mt-12`,children:[J.jsxs("div",{className:"flex items-end grid-default-color grid-1",children:[J.jsx("img",{src:"assets/coding-pov.png",className:`absolute scale-[1.75] -right-[5rem] \r
          -top-[1rem] md:scale-[3] md:left-50 md:inset-y-0\r
          lg:scale-[2.5]`}),J.jsxs("div",{className:"z-10",children:[J.jsx("p",{className:"headtext",children:"Brief About Me"}),J.jsx("p",{className:"subtext",children:"Over the last few years, I've built good expertise in embedded hardware design, developing rugged systems for Industrial and IoT applications that meet demanding real-world requirements. Having completed multiple internships during my college years and now working full time in this field, I continue to drive high-reliability solutions from concept to deployment."})]}),J.jsx("div",{className:`absolute inset-x-0 pointer-events-none\r
          -bottom-4 h-1/2 sm:h-1/3 bg-gradient-to-t from-indigo`})]}),J.jsx("div",{className:"grid-default-color grid-2",children:J.jsx("div",{className:"flex items-center justify-center w-full h-full",children:J.jsx("p",{className:"flex items-end text-5xl text-gray-500",children:"Electronics is craft 🧡"})})}),J.jsxs("div",{className:"grid-black-color grid-3",children:[J.jsxs("div",{className:"z-10 w-[50%]",children:[J.jsx("p",{className:"headtext",children:"Time Zone"}),J.jsx("p",{className:"subtext",children:"I am based in India, and open to work opportunities worldwide"})]}),J.jsx("figure",{className:"absolute left-[30%] top[10%]",children:J.jsx(aW,{})})]}),J.jsx("div",{className:"grid-special-color grid-4",children:J.jsxs("div",{className:`flex flex-col items-center justify-center\r
          gap-1`,children:[J.jsx("p",{className:"text-center headtext",children:"Do you want to start a project together ?"}),J.jsx(rW,{}),J.jsx("img",{src:"assets/cup-meeting.png",className:`absolute \r
              lg:inset-y-7 lg:scale-60\r
              md:inset-y-25 md:scale-80 \r
              inset-y-0 scale-35`})]})}),J.jsxs("div",{className:"grid-default-color grid-5",children:[J.jsxs("div",{className:"flex-col w-[60%] md:w-[55%] items-center justify-between",children:[J.jsx("p",{className:"headText sm:py-5",children:"Teck Stack"}),J.jsx("p",{className:"subtext",children:"Focused on hardware design, schematics, high-speed layout, and signal integrity for rugged IoT and various industrial systems. Hands-on with using Altium Designer and incorporating various pheripherals for control and communication."})]}),J.jsx("div",{className:"scale-75 md:scale-125 absolute inset-y-0 md:inset-y-9 w-full h-full start-[50%]",children:J.jsx(oW,{})})]})]})]}),cW=[{id:1,title:"LED Matrix Panel Driver (RP2040)",description:"Developed a high-performance LED matrix panel driver using RP2040 microcontroller, enabling animated graphics and seamless multi-panel chaining.",subDescription:["Implemented scanline multiplexing with dynamic PWM brightness correction on dual M0+ cores.","Supported cascading multiple LED panels for extended displays with perfect frame sync.","Designed compact PCB with constant current drivers and thermal considerations.","Created a protocol to receive pixel data over SPI/I2C from upstream controllers."],href:"",logo:"",image:"/assets/projects/led-matrix.jpg",tags:[{id:1,name:"RP2040",path:"/assets/logos/raspberrypi.svg"},{id:2,name:"Vscode",path:"/assets/logos/visualstudiocode.svg"},{id:3,name:"PCB",path:"/assets/logos/altium.svg"}]},{id:2,title:"IO Board — STM32 Based Industrial Controller",description:"A modular STM32 development board designed with robust relay outputs, surge-protected inputs, and onboard Ethernet connectivity for industrial control & monitoring.",subDescription:["Integrated multiple digital inputs with MOVs & opto-isolation for surge and ESD immunity.","Equipped with relay outputs rated for industrial loads with status feedback.","Included 10/100 Ethernet PHY for web dashboard / Modbus TCP experiments.","Designed to serve as a scalable platform for various power and sensor modules."],href:"",logo:"",image:"/assets/projects/io-board.jpg",tags:[{id:1,name:"STM32",path:"/assets/logos/stm32.svg"},{id:2,name:"TCPIP",path:"/assets/logos/tcpip.svg"},{id:3,name:"Vscode",path:"/assets/logos/visualstudiocode.svg"}]},{id:3,title:"Veloce — CM4 Network Aggregator",description:"A carrier board and system built around Raspberry Pi Compute Module 4, aggregating multiple USB LTE/4G dongles and Ethernet for combined high-speed uplinks, running OpenWRT.",subDescription:["Designed to host up to 4 USB dongles for concurrent LTE connectivity.","Included onboard gigabit Ethernet and SD card interface for OpenWRT storage.","Optimized power distribution and protection for simultaneous modem loads.","Developed OpenWRT build with mwan3 for multi-link aggregation and failover."],href:"",logo:"",image:"/assets/projects/veloce.jpg",tags:[{id:1,name:"CM4",path:"/assets/logos/cm4.svg"},{id:2,name:"LTE",path:"/assets/logos/lte.svg"},{id:3,name:"Ethernet",path:"/assets/logos/ethernet.svg"},{id:4,name:"OpenWRT",path:"/assets/logos/openwrt.svg"}]},{id:4,title:"PMDC Motor Speed Controller",description:"Developed an STM32-based driver for precise speed control of PMDC motors, featuring feedback stabilization and protection for industrial applications.",subDescription:["Implemented PWM modulation with soft-start, torque curve compensation, and stall detection.","Integrated frequency feedback from hall/optical encoders for closed-loop speed stabilization.","Optimized for low ripple and minimal EMI with spread-spectrum switching.","Provided analog debug headers for field calibration and oscilloscope monitoring."],href:"",logo:"",image:"/assets/projects/pmdc-driver.png",tags:[{id:1,name:"STM32",path:"/assets/logos/stm32.svg"},{id:2,name:"PWM",path:"/assets/logos/pwm.svg"},{id:3,name:"Motor Control",path:"/assets/logos/motor.svg"},{id:4,name:"EMI",path:"/assets/logos/emi.svg"}]},{id:5,title:"Flyback SMPS (STM32 Controlled DCM)",description:"Designed a flyback converter operating in Discontinuous Conduction Mode (DCM), with custom STM32 firmware for primary-side control, suitable for isolated low power applications.",subDescription:["Implemented variable frequency and peak current control on STM32 timer + ADC.","Added soft start, short circuit protection, and dynamic load response tuning.","PCB optimized for low EMI and creepage/clearance compliant with industrial standards.","Prototyped with isolated feedback for stable output across wide load conditions."],href:"",logo:"",image:"/assets/projects/flyback.png",tags:[{id:1,name:"Flyback",path:"/assets/logos/flyback.svg"},{id:2,name:"STM32",path:"/assets/logos/stm32.svg"},{id:3,name:"DCM",path:"/assets/logos/dcm.svg"},{id:4,name:"Power",path:"/assets/logos/power.svg"}]},{id:6,title:"6S BMS with Balancing",description:"Battery management system for 6-series lithium packs, featuring analog-first protection and STM32 monitoring with event logs, passive balancing, and field debug interfaces.",subDescription:["Handled over-voltage, under-voltage, short-circuit, thermal protections.","Implemented passive balancing to maintain cell voltage integrity.","Integrated UART/I2C interfaces for debug + calibration, with event/fault logging.","Designed as a stackable system for scalable energy storage applications."],href:"",logo:"",image:"/assets/projects/6s.jpg",tags:[{id:1,name:"BMS",path:"/assets/logos/bms.svg"},{id:2,name:"Power",path:"/assets/logos/power.svg"},{id:3,name:"UART/I2C",path:"/assets/logos/uart.svg"},{id:4,name:"STM32",path:"/assets/logos/stm32.svg"}]}],uW=[{name:"LinkedIn",href:"https://www.linkedin.com/in/skhanna23/",icon:"/assets/socials/linkedIn.svg"},{name:"WhatsApp",href:"https://wa.me/918630426831",icon:"/assets/socials/whatsApp.svg"},{name:"Email",href:"mailto:satyamkhanna66@gmail.com",icon:"/assets/socials/email.svg"}],fW=[{title:"Full Time: Senior IoT Engineer",job:"Vylt Technologies",date:"Jun 2024 - Present",contents:["Designed modular, stackable PCB architectures for IoT devices, enabling flexible hardware expansion and streamlined integration of sensor, communication, and power modules.","Developed end-to-end electronics concepts from functional block diagrams to detailed schematics and multi-layer PCB layouts, ensuring robust signal integrity and EMI performance. ","Deployed distributed node + broker IoT systems with LoRa & LTE.","Created 3D CAD models for custom enclosures, aligning mechanical constraints with thermal, antenna placement, and serviceability considerations."]},{title:"Internship: Embedded Engineer",job:"Otomator Technologies",date:"Feb 2022 - Dec 2022",contents:["Developed PCB designs for IoT stack modules, ensuring alignment with system architecture and scalability requirements.","Analyzed new hardware feature requests and prepared detailed technical documentation to capture specifications and implementation plans.","Implemented circuit and layout updates for evolving IoT designs, and participated in design reviews to troubleshoot and resolve hardware issues."]},{title:"Internship: PCB Designer",job:"Bipolar Factory",date:"Jul 2021 - Oct 2021",contents:["Designed the PCB for a network aggregator leveraging a CM4 carrier architecture, integrating high-speed Ethernet and USB interfaces for seamless data throughput.","Optimized multi-layer routing, impedance control, and power distribution on the CM4 carrier board to ensure robust performance and scalability.","Collaborated with firmware teams to validate hardware bring-up, supporting rapid prototyping and deployment of the aggregator system."]},{title:"Internship: Product Designer",job:"Electrofield",date:"Feb 2019 - Feb 2020",contents:[" Designed a basic motor driver circuit for a PMDC motor, gaining hands-on experience with power stage fundamentals and protection elements."," Contributed to the initial concept and simple hardware layout for a shoe sanitizer device, supporting prototype development and basic validation."]}],hW=({title:n,description:e,subDescription:t,href:i,image:s,tags:r,closeModal:o})=>J.jsx("div",{className:`fixed inset-0 z-50 flex items-center\r
    justify-center w-full h-full overflow-hidden backdrop-blur-sm`,children:J.jsxs("div",{className:`relative max-w-2xl border\r
        shadow-smrounded-2xl bg-gradient-to-l from-midnight to-navy\r
        border-white/10`,children:[J.jsx("button",{onClick:o,className:`absolute p-2 rounded-sm top-5 right-5 \r
            bg-midnight hover:bg-gray-500`,children:J.jsx("img",{src:"assets/close.svg",className:"w-6 h-6"})}),J.jsx("img",{src:s,alt:n,className:"w-full rounded-t-2xl"}),J.jsxs("div",{className:"p-5",children:[J.jsx("h5",{className:"mb-2 text-2xl font-bold text-white ",children:n}),J.jsx("p",{className:"mb-3 font-normal text-neutral-400",children:e}),t.map((u,h)=>J.jsx("p",{className:"mb-3 font-normal text-neutral-400",children:u})),J.jsxs("div",{className:"flex items-center justify-between mt-4",children:[J.jsx("div",{className:"flex gap-3",children:r.map(u=>J.jsx("img",{src:u.path,alt:u.name,className:"rounded size-10 hover-animation"},u.id))}),J.jsxs("a",{className:`inline-flex items-center gap-1 font-medium \r
                    cursor-pointer hover-animation`,href:i,children:["View Project ",J.jsx("img",{src:"assets/arrow-up.svg",className:"size-4"})]})]})]})]})}),dW=({title:n,description:e,subDescription:t,href:i,image:s,tags:r})=>{const[o,u]=Q.useState(!1);return J.jsxs(J.Fragment,{children:[J.jsxs("div",{className:`flex-wrap items-center py-10 justify-between\r
      space-y-14 sm:flex sm:space-y-0`,children:[J.jsxs("div",{children:[J.jsxs("p",{className:"text-2xl",children:[" ",n," "]}),J.jsx("div",{className:"flex gap-5 mt-2 text-sand",children:r.map(h=>J.jsx("span",{children:h.name},h.id))})]}),J.jsxs("button",{onClick:()=>u(!0),className:"flex items-center gap-1 cursor-pointer hover-animation",children:["Read More",J.jsx("img",{src:"assets/arrow-right.svg",className:"w-5"})]})]}),J.jsx("div",{className:`h-[1px] w-full bg-gradient-to-r via-neutral-800\r
      from-transparent to-transparent`}),o&&J.jsx(hW,{title:n,description:e,subDescription:t,image:s,tags:r,href:i,closeModal:()=>u(!1)})]})},pW=()=>J.jsxs("div",{className:"relative c-space section-spacing",id:"projects",children:[J.jsx("h2",{className:"text-heading",children:"💡 Projects Under Light"}),J.jsx("div",{className:`bg-gradient-to-r from-transparent\r
        via-neutral-700 to-transparent mt-12 h-[1px] w-full`}),cW.map(n=>J.jsx(dW,{...n},n.id))]}),mW=({data:n})=>{const e=Q.useRef(null),t=Q.useRef(null),[i,s]=Q.useState(0);Q.useEffect(()=>{if(e.current){const h=e.current.getBoundingClientRect();s(h.height)}},[e]);const{scrollYProgress:r}=ZD({target:t,offset:["start 10%","end 50%"]}),o=Kf(r,[0,1],[0,i]),u=Kf(r,[0,.1],[0,1]);return J.jsxs("div",{className:"c-space section-spacing overflow-hidden",ref:t,children:[J.jsx("h2",{className:"text-heading",children:" My Work Experience "}),J.jsxs("div",{ref:e,className:"relative pb-0",children:[n.map((h,p)=>J.jsxs("div",{className:"flex justify-start pt-10 md:pt-40 md:gap-10",children:[J.jsxs("div",{className:`sticky flex flex-col md:flex-row z-40 items-center top-40 \r
                    self-start max-w-xs lg:max-w-sm md:w-full`,children:[J.jsx("div",{className:`absolute flex items-center justify-center w-10 h-10\r
                    rounded-full -left-[15px] bg-midnight`,children:J.jsx("div",{className:`h-4 w-4 rounded-full bg-neutral-800 border\r
                        border-neutral-700 p-2`})}),J.jsxs("div",{className:`hidden md:flex md:flex-col gap-2 text-xl font-bold\r
                 md:pl-20 md:text-4xl text-neutral-100`,children:[J.jsxs("h3",{children:[" ",h.date," "]}),J.jsxs("h3",{className:"text-3xl text-neutral-300",children:[" ",h.title," "]}),J.jsxs("h3",{className:"text-3xl text-neutral-500",children:[" ",h.job," "]})]})]}),J.jsxs("div",{className:"relative pl-20 pr-4 md:pl-4 w-full",children:[J.jsxs("div",{className:"block mb-4 text-2xl font-bold text-left text-neutral-300 md:hidden",children:[J.jsx("h3",{children:h.date}),J.jsx("h3",{children:h.job})]}),h.contents.map((m,y)=>J.jsx("p",{className:"mb-3 font-normal text-neutral-400",children:m},y))]})]},p)),J.jsx("div",{style:{height:i+"px"},className:`absolute md:left-1 left-1 top-0 overflow-hidden \r
          w-[2px] bg-[linear-gradient(to_bottom,var(--tw-gradient-stops))] \r
          from-transparent from-[0%] via-neutral-700 to-transparent to-[99%] \r
          [mask-image:linear-gradient(to_bottom,transparent_0%,black_10%,black_90%,transparent_100%)]`,children:J.jsx(da.div,{style:{height:o,opacity:u},className:`absolute inset-x-0 top-0  w-[2px] bg-gradient-to-t\r
             from-purple-500 to-transparent from-[0%] via-[10%]\r
             via-lavender/50 rounded-full`})})]})]})},gW=()=>J.jsx("div",{className:"w-full",id:"work",children:J.jsx(mW,{data:fW})});class L0{constructor(e=0,t="Network Error"){this.status=e,this.text=t}}const yW=()=>{if(!(typeof localStorage>"u"))return{get:n=>Promise.resolve(localStorage.getItem(n)),set:(n,e)=>Promise.resolve(localStorage.setItem(n,e)),remove:n=>Promise.resolve(localStorage.removeItem(n))}},Rs={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:yW()},ME=n=>n?typeof n=="string"?{publicKey:n}:n.toString()==="[object Object]"?n:{}:{},vW=(n,e="https://api.emailjs.com")=>{if(!n)return;const t=ME(n);Rs.publicKey=t.publicKey,Rs.blockHeadless=t.blockHeadless,Rs.storageProvider=t.storageProvider,Rs.blockList=t.blockList,Rs.limitRate=t.limitRate,Rs.origin=t.origin||e},ZU=async(n,e,t={})=>{const i=await fetch(Rs.origin+n,{method:"POST",headers:t,body:e}),s=await i.text(),r=new L0(i.status,s);if(i.ok)return r;throw r},$U=(n,e,t)=>{if(!n||typeof n!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e||typeof e!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!t||typeof t!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},xW=n=>{if(n&&n.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},eL=n=>n.webdriver||!n.languages||n.languages.length===0,tL=()=>new L0(451,"Unavailable For Headless Browser"),_W=(n,e)=>{if(!Array.isArray(n))throw"The BlockList list has to be an array";if(typeof e!="string")throw"The BlockList watchVariable has to be a string"},AW=n=>{var e;return!((e=n.list)!=null&&e.length)||!n.watchVariable},bW=(n,e)=>n instanceof FormData?n.get(e):n[e],nL=(n,e)=>{if(AW(n))return!1;_W(n.list,n.watchVariable);const t=bW(e,n.watchVariable);return typeof t!="string"?!1:n.list.includes(t)},iL=()=>new L0(403,"Forbidden"),SW=(n,e)=>{if(typeof n!="number"||n<0)throw"The LimitRate throttle has to be a positive number";if(e&&typeof e!="string")throw"The LimitRate ID has to be a non-empty string"},MW=async(n,e,t)=>{const i=Number(await t.get(n)||0);return e-Date.now()+i},sL=async(n,e,t)=>{if(!e.throttle||!t)return!1;SW(e.throttle,e.id);const i=e.id||n;return await MW(i,e.throttle,t)>0?!0:(await t.set(i,Date.now().toString()),!1)},aL=()=>new L0(429,"Too Many Requests"),EW=async(n,e,t,i)=>{const s=ME(i),r=s.publicKey||Rs.publicKey,o=s.blockHeadless||Rs.blockHeadless,u=s.storageProvider||Rs.storageProvider,h={...Rs.blockList,...s.blockList},p={...Rs.limitRate,...s.limitRate};return o&&eL(navigator)?Promise.reject(tL()):($U(r,n,e),xW(t),t&&nL(h,t)?Promise.reject(iL()):await sL(location.pathname,p,u)?Promise.reject(aL()):ZU("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:r,service_id:n,template_id:e,template_params:t}),{"Content-type":"application/json"}))},TW=n=>{if(!n||n.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},CW=n=>typeof n=="string"?document.querySelector(n):n,RW=async(n,e,t,i)=>{const s=ME(i),r=s.publicKey||Rs.publicKey,o=s.blockHeadless||Rs.blockHeadless,u=Rs.storageProvider||s.storageProvider,h={...Rs.blockList,...s.blockList},p={...Rs.limitRate,...s.limitRate};if(o&&eL(navigator))return Promise.reject(tL());const m=CW(t);$U(r,n,e),TW(m);const y=new FormData(m);return nL(h,y)?Promise.reject(iL()):await sL(location.pathname,p,u)?Promise.reject(aL()):(y.append("lib_version","4.4.1"),y.append("service_id",n),y.append("template_id",e),y.append("user_id",r),ZU("/api/v1.0/email/send-form",y))},wW={init:vW,send:EW,sendForm:RW,EmailJSResponseStatus:L0},BW=()=>{const[n,e]=Q.useState({name:"",email:"",message:""}),[t,i]=Q.useState(!1),s=o=>{e({...n,[o.target.name]:o.target.value})},r=async o=>{o.preventDefault(),i(!0);try{console.log("Form Submitted: ",n),await wW.send("service_8tupcon","template_soad2q8",{from_name:n.name,to_name:"Satyam",from_email:n.email,to_email:"two.electrodes@gmail.com",message:n.message},"Xb_XJIgpZoDzIwJde"),i(!1),alert("Sent Successfully 😄"),e({name:"",email:"",message:""})}catch(u){i(!1),console.log(u),alert("Failed To Send 😕")}};return J.jsx("section",{className:"relative flex items-center c-space section-spacing",id:"contact",children:J.jsxs("div",{className:"flex flex-col items-center justify-center max-w-md p-5 mx-auto border border-white/10 rounded-2xl bg-primary",children:[J.jsxs("div",{className:"flex flex-col items-start w-full gap-5 mb-10",children:[J.jsx("h2",{className:"text-heading",children:"Let's Connect Further"}),J.jsx("p",{className:"font-normal text-neutral-400",children:"If my profile aligns with the kind of embedded hardware expertise you're seeking, I'd be glad to connect and explore how I could contribute to your team."})]}),J.jsxs("form",{className:"w-full",onSubmit:r,children:[J.jsxs("div",{className:"mb-5",children:[J.jsx("label",{htmlFor:"name",className:"field-label",children:"Your Name"}),J.jsx("input",{id:"name",name:"name",type:"text",className:"field-input field-input-focus",placeholder:"Ram Kumar",autoComplete:"name",value:n.name,onChange:s,required:!0})]}),J.jsxs("div",{className:"mb-5",children:[J.jsx("label",{htmlFor:"email",className:"field-label",children:"Your Email"}),J.jsx("input",{id:"email",name:"email",type:"email",className:"field-input field-input-focus",placeholder:"ram.kumar@email.com",autoComplete:"email",value:n.email,onChange:s,required:!0})]}),J.jsxs("div",{className:"mb-5",children:[J.jsx("label",{htmlFor:"message",className:"field-label",children:"Message For Me"}),J.jsx("textarea",{id:"message",name:"message",type:"text",className:"field-input field-input-focus",placeholder:"Hey there! I have a wonderful idea, let's brainstorm over it.",autoComplete:"message",rows:4,value:n.message,onChange:s,required:!0})]}),J.jsx("button",{type:"submit",className:`w-full px-1 py-3 text-lg text-center rounded-md cursor-pointer bg-radial from-lavender\r
                    to-royal hover-animation`,children:t?"Sending...":"Send"})]})]})})},DW=()=>J.jsxs("section",{className:`flex flex-wrap items-center justify-between gap-5 pb-3 text-sm\r
    text-neutral-400 c-space`,children:[J.jsx("div",{className:"bg-gradient-to-r mb-4 from-transparent via-neutral-700 to-transparent h-[1px] w-full"}),J.jsxs("div",{className:"flex gap-2",children:[J.jsx("p",{children:"Terms & Conditions"}),J.jsx("p",{children:"|"}),J.jsx("p",{children:"Privacy Policy"})]}),J.jsx("a",{class:"px-7 py-[7px] outline-none no-underline text-white w-50 h-[32px] rounded-[16px] bg-[#0A66C2] font-sans",href:"https://www.linkedin.com/comm/mynetwork/discovery-see-all?usecase=PEOPLE_FOLLOWS&followMember=skhanna23",target:"_blank",children:"Follow Me On LinkedIn"}),J.jsx("div",{className:"flex gap-3",children:uW.map((n,e)=>J.jsx("a",{href:n.href,children:J.jsx("img",{src:n.icon,className:"w-5 h-5",alt:n.name})},e))}),J.jsx("p",{children:"© 2025 Satyam Khanna"}),J.jsx("p",{children:"All rights reserved"})]}),rL=[{slug:"understanding-resistors-in-pcb-design",title:"Understanding Resistors in PCB Design",date:"Jul 8, 2025",summary:"A closer look at how resistors are selected, placed, and impact embedded hardware reliability.",image:"/assets/blog/resistor.jpg",content:`
      Resistors are among the simplest yet most critical components in embedded hardware. 
      Beyond voltage division, they play roles in biasing, pull-ups, termination, and protecting sensitive circuits.

      Choosing the right tolerance, power rating, and temperature coefficient directly affects the stability 
      of voltage references, ADC accuracy, and overall signal integrity. In high-frequency designs, even small 
      resistor footprints can influence impedance.

      In mixed-signal layouts, placing resistors close to source pins helps minimize noise pickup. 
      For current sensing, keeping traces short and symmetrical 
      
      [image:/assets/blog/resistor.jpg:This is a Resistor close-up:200]       
      [image:/assets/blog/resistor.jpg:This is a Resistor close-up:200] 
      maintains measurement accuracy. 

      Paying attention to resistor specs and layout practices helps ensure your embedded systems perform reliably 
      under varying loads and temperatures. Even simple components deserve careful design thought.
    `}],NW=()=>J.jsxs("div",{className:"max-4xl mx-auto py-10 c-space",children:[J.jsxs("div",{children:[J.jsx("br",{}),J.jsx("h1",{className:"text-4xl font-bold mb-6",children:"Embedded Hardware Design Insights"}),J.jsx("p",{className:"mb-4",children:"Here I share concise explorations of embedded systems I’ve designed or analyzed — from PCB layouts to control architectures and EMI strategies. This section will keep growing as I tackle more hardware challenges."}),J.jsx("p",{className:"mb-4",children:"Studying embedded designs reveals crucial decisions around microcontroller selection, power topologies, signal integrity, and ruggedization for industrial environments."}),J.jsxs("ul",{className:"list-disc list-inside mb-8 space-y-2",children:[J.jsxs("li",{children:[J.jsx("strong",{children:"Better design choices:"})," Learn proven methods in power, RF, and sensor integration."]}),J.jsxs("li",{children:[J.jsx("strong",{children:"Cost-effective systems:"})," Analyze BOM and layouts to balance cost and reliability."]}),J.jsxs("li",{children:[J.jsx("strong",{children:"Reliable performance:"})," Spot how thermal and EMI strategies enhance durability."]}),J.jsxs("li",{children:[J.jsx("strong",{children:"Up-to-date approaches:"})," See how new MCUs and protocols are used in real products."]}),J.jsxs("li",{children:[J.jsx("strong",{children:"Team learning:"})," Great for onboarding engineers to PCB and firmware best practices."]})]}),J.jsx("br",{}),J.jsx("img",{src:"/assets/blog/bloglist.jpg",alt:"Embedded hardware blog illustration",className:`w-full h-75 rounded object-cover shadow-lg transition-transform \r
          duration-500 hover:scale-105 hover:shadow-2xl`}),J.jsx("br",{}),J.jsx("br",{})]}),J.jsx("div",{className:"grid md:grid-cols-2 gap-8",children:rL.map(n=>J.jsxs("div",{className:"bg-neutral-800 rounded-lg p-6 shadow hover:shadow-xl transition",children:[J.jsx("img",{src:n.image,alt:n.title,className:"rounded mb-5"}),J.jsx("h2",{className:"text-2xl font-semibold mb-2",children:n.title}),J.jsx("p",{className:"text-neutral-400 mb-2",children:n.date}),J.jsx("p",{className:"text-neutral-300 mb-4",children:n.summary}),J.jsx(ol,{to:`/blog/${n.slug}`,className:"text-blue-400 hover:underline",children:"Read More →"})]},n.slug))})]}),UW=()=>{const{slug:n}=NO(),e=rL.find(t=>t.slug===n);return e?J.jsxs("div",{children:[J.jsx("br",{}),J.jsxs("div",{className:"max-full-3xl mx-auto py-10 c-space relative",children:[J.jsx("h1",{className:"text-4xl font-bold mb-4",children:e.title}),J.jsx("p",{className:"text-neutral-400 mb-6",children:e.date}),e.content.split(/\n\s*\n/).map((t,i)=>{const s=t.trim(),r=/\[image:(.*?):(.*?)(?::(\d+))?\]/g;let o;const u=[];let h=0;const p=[];for(;(o=r.exec(s))!==null;){const[y,x,_,M]=o,C=s.slice(h,o.index).trim();C&&p.push(J.jsx("p",{className:"mb-4",children:C},`${i}-text-${h}`)),u.push({src:x,caption:_,width:M}),h=o.index+y.length}const m=s.slice(h).trim();if(m&&p.push(J.jsx("p",{className:"mb-4",children:m},`${i}-after`)),u.length>1)p.unshift(J.jsx("div",{className:"flex flex-wrap justify-center gap-6 my-6",children:u.map((y,x)=>J.jsxs("figure",{className:"text-center",children:[J.jsx("img",{src:y.src,alt:y.caption,style:y.width?{width:`${y.width}px`}:{},className:"rounded shadow mx-auto"}),J.jsx("figcaption",{className:"text-sm text-neutral-500 mt-2",children:y.caption})]},`${i}-img-${x}`))},`${i}-flex`));else if(u.length===1){const y=u[0];p.unshift(J.jsxs("figure",{className:"my-6 text-center",children:[J.jsx("img",{src:y.src,alt:y.caption,style:y.width?{width:`${y.width}px`}:{},className:"rounded shadow mx-auto"}),J.jsx("figcaption",{className:"text-sm text-neutral-500 mt-2",children:y.caption})]},`${i}-single`))}return p.length===0?J.jsx("p",{className:"mb-4",children:s},`${i}-textonly`):J.jsx(sp.Fragment,{children:p},i)})]}),J.jsx("div",{className:"w-full mt-0 mb-10 text-center",children:J.jsx(ol,{to:"/blog",className:"inline-block bg-neutral-800 hover:bg-neutral-700 text-white rounded-full px-6 py-3 text-sm shadow",children:"← Back to Blog"})})]}):J.jsx("div",{className:"p-10 text-center",children:"Post not found"})},LW=()=>{const n=hc();return Q.useEffect(()=>{if(n.hash){const e=n.hash.replace("#",""),t=document.getElementById(e);t&&t.scrollIntoView({behavior:"smooth"})}else window.scrollTo(0,0)},[n]),null},OW=()=>J.jsx(yP,{children:J.jsxs("div",{className:"container mx-auto max-w-7xl",children:[J.jsx(LW,{}),J.jsx(z4,{}),J.jsxs(qO,{children:[J.jsx(hx,{path:"/",element:J.jsxs(J.Fragment,{children:[J.jsx(eW,{}),J.jsx(lW,{}),J.jsx(pW,{}),J.jsx(gW,{}),J.jsx(BW,{}),J.jsx(DW,{})]})}),J.jsx(hx,{path:"/blog",element:J.jsx(NW,{})}),J.jsx(hx,{path:"/blog/:slug",element:J.jsx(UW,{})})]})]})});tB.createRoot(document.getElementById("root")).render(J.jsx(Q.StrictMode,{children:J.jsx(OW,{})}));
